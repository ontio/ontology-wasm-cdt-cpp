cscope 15 $HOME/eos/eosio.cdt/libraries/eosiolib -q 0000001030 0000165586
	@action.h

5 #´agm¨
Úû


6 
	~"sy¡em.hµ
"

73 
ušt32_t
 
»ad_aùiÚ_d©a
Ğ* 
msg
, ušt32_ˆ
Ën
 );

81 
ušt32_t
 
aùiÚ_d©a_size
();

89 
»quœe_»c›Á
Ğ
ÿpi_Çme
 
Çme
 );

97 
»quœe_auth
Ğ
ÿpi_Çme
 
Çme
 );

105 
boŞ
 
has_auth
Ğ
ÿpi_Çme
 
Çme
 );

114 
»quœe_auth2
Ğ
ÿpi_Çme
 
Çme
, c­i_Çm
³rmissiÚ
 );

122 
boŞ
 
is_accouÁ
Ğ
ÿpi_Çme
 
Çme
 );

131 
£nd_šlše
(*
£rŸlized_aùiÚ
, 
size_t
 
size
);

141 
£nd_cÚ‹xt_ä“_šlše
(*
£rŸlized_aùiÚ
, 
size_t
 
size
);

148 
ušt64_t
 
publiÿtiÚ_time
();

155 
ÿpi_Çme
 
cu¼’t_»ûiv”
();

	@action.hpp

5 #´agm¨
Úû


6 
	~"aùiÚ.h
"

7 
	~"d©a¡»am.hµ
"

8 
	~"£rŸlize.hµ
"

9 
	~"memÜy.hµ
"

11 
	~<boo¡/´•roûssÜ/v¬Ÿdic/size.hµ
>

12 
	~<boo¡/´•roûssÜ/v¬Ÿdic/to_tu¶e.hµ
>

13 
	~<boo¡/´•roûssÜ/tu¶e/’um.hµ
>

14 
	~<boo¡/´•roûssÜ/çc™›s/ov”lßd.hµ
>

16 
Çme¥aû
 
	geosio
 {

46 
	g‹m¶©e
<
ty³Çme
 
	gT
>

47 
T
 
uÅack_aùiÚ_d©a
() {

48 
cÚ¡ex´
 
size_t
 
	gmax_¡ack_bufãr_size
 = 512;

49 
size_t
 
	gsize
 = 
aùiÚ_d©a_size
();

50 * 
	gbufãr
 = (*)Ğ
max_¡ack_bufãr_size
 < 
size
 ? 
m®loc
(sizeè: 
®loÿ
(size) );

51 
»ad_aùiÚ_d©a
Ğ
bufãr
, 
size
 );

52  
	guÅack
<
	gT
>Ğ
	gbufãr
, 
	gsize
 );

61 
šlše
 
»quœe_»c›Á
Ğ
Çme
 
nÙify_accouÁ
 ){

62 ::
»quœe_»c›Á
Ğ
nÙify_accouÁ
.
v®ue
 );

83 
	g‹m¶©e
<
	gty³Çme
... 
	gaccouÁs
>

84 
»quœe_»c›Á
Ğ
Çme
 
nÙify_accouÁ
, 
accouÁs
... 
»maššg_accouÁs
 ){

85 ::
»quœe_»c›Á
Ğ
nÙify_accouÁ
.
v®ue
 );

86 
»quœe_»c›Á
Ğ
»maššg_accouÁs
... );

95 
šlše
 
»quœe_auth
Ğ
Çme
 
n
 ) {

96 ::
»quœe_auth
Ğ
n
.
v®ue
 );

104 
	s³rmissiÚ_Ëv–
 {

112 
³rmissiÚ_Ëv–
Ğ
Çme
 
a
,‚am
p
 ):
aùÜ
×),
³rmissiÚ
(p){}

119 
³rmissiÚ_Ëv–
(){}

126 
Çme
 
	gaùÜ
;

132 
Çme
 
	g³rmissiÚ
;

143 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 =ğĞcÚ¡ 
³rmissiÚ_Ëv–
& 
a
, cÚ¡ 
	g³rmissiÚ_Ëv–
& 
	gb
 ) {

144  
	g¡d
::
t›
Ğ
a
.
aùÜ
,‡.
³rmissiÚ
 ) =ğ
¡d
::t›Ğ
b
.actor, b.permission );

147 
EOSLIB_SERIALIZE
Ğ
³rmissiÚ_Ëv–
, (
aùÜ
)(
³rmissiÚ
) )

157 
šlše
 
»quœe_auth
ĞcÚ¡ 
³rmissiÚ_Ëv–
& 
Ëv–
 ) {

158 ::
»quœe_auth2
Ğ
Ëv–
.
aùÜ
.
v®ue
,†ev–.
³rmissiÚ
.value );

167 
šlše
 
boŞ
 
has_auth
Ğ
Çme
 
n
 ) {

168  ::
has_auth
Ğ
n
.
v®ue
 );

177 
šlše
 
boŞ
 
is_accouÁ
Ğ
Çme
 
n
 ) {

178  ::
is_accouÁ
Ğ
n
.
v®ue
 );

187 
	saùiÚ
 {

193 
Çme
 
	gaccouÁ
;

200 
Çme
 
	gÇme
;

207 
	g¡d
::
veùÜ
<
³rmissiÚ_Ëv–
> 
authÜiz©iÚ
;

214 
	g¡d
::
veùÜ
<> 
d©a
;

221 
aùiÚ
() = ;

233 
	g‹m¶©e
<
ty³Çme
 
	gT
>

234 
aùiÚ
ĞcÚ¡ 
³rmissiÚ_Ëv–
& 
auth
, 
Çme
 
a
, Çm
n
, 
T
&& 
v®ue
 )

235 :
accouÁ
(
a
), 
Çme
(
n
), 
authÜiz©iÚ
(1,
auth
), 
d©a
(
·ck
(
¡d
::
fÜw¬d
<
T
>(
v®ue
))) {}

247 
‹m¶©e
<
ty³Çme
 
T
>

248 
aùiÚ
Ğ
¡d
::
veùÜ
<
³rmissiÚ_Ëv–
> 
auths
, 
Çme
 
a
, Çm
n
, 
T
&& 
v®ue
 )

249 :
accouÁ
(
a
), 
Çme
(
n
), 
authÜiz©iÚ
(
¡d
::
move
(
auths
)), 
d©a
(
·ck
(¡d::
fÜw¬d
<
T
>(
v®ue
))) {}

251 
EOSLIB_SERIALIZE
Ğ
aùiÚ
, (
accouÁ
)(
Çme
)(
authÜiz©iÚ
)(
d©a
) )

258 
£nd
() const {

259 autØ
	g£rŸlize
 = 
·ck
(*
this
);

260 ::
£nd_šlše
(
£rŸlize
.
d©a
(), s”Ÿlize.
size
());

269 
£nd_cÚ‹xt_ä“
() const {

270 
	geosio
::
check
Ğ
authÜiz©iÚ
.
size
() == 0, "context free‡ctions cannot have‡uthorizations");

271 autØ
	g£rŸlize
 = 
·ck
(*
this
);

272 ::
£nd_cÚ‹xt_ä“_šlše
(
£rŸlize
.
d©a
(), s”Ÿlize.
size
());

282 
	g‹m¶©e
<
ty³Çme
 
	gT
>

283 
T
 
d©a_as
() {

284  
	guÅack
<
	gT
>Ğ&
	gd©a
[0], d©a.
size
() );

291 
Çme¥aû
 
	gd‘a
 {

292 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

293 
	sunw¿p
 { 
T
 
	tty³
; };

295 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

296 
	gunw¿p
<
	gignÜe
<
	gT
>> { 
T
 
	tty³
; };

298 
	g‹m¶©e
 <
ty³Çme
 
	gR
,y³Çm
	gAù
, 
	gty³Çme
... 
	gArgs
>

299 autØ
g‘_¬gs
(
R
(
Aù
::*
p
)(
Args
...)) {

300  
¡d
::
tu¶e
<¡d::
deÿy_t
<
ty³Çme
 
unw¿p
<
Args
>::
ty³
>...>{};

303 
	g‹m¶©e
 <
ty³Çme
 
	gR
,y³Çm
	gAù
, 
	gty³Çme
... 
	gArgs
>

304 autØ
g‘_¬gs_nounw¿p
(
R
(
Aù
::*
p
)(
Args
...)) {

305  
¡d
::
tu¶e
<¡d::
deÿy_t
<
Args
>...>{};

308 
	g‹m¶©e
 <autØ
	gAùiÚ
>

309 
usšg
 
	gdeduûd
 = 
deşty³
(
g‘_¬gs
(
AùiÚ
));

311 
	g‹m¶©e
 <autØ
	gAùiÚ
>

312 
usšg
 
	gdeduûd_nounw¿p
 = 
deşty³
(
g‘_¬gs_nounw¿p
(
AùiÚ
));

314 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

315 
	scÚv”t
 { 
T
 
	tty³
; };

317 
	g‹m¶©e
 <>

318 
	gcÚv”t
<cÚ¡ *> { 
	g¡d
::
	t¡ršg
 
	tty³
; };

320 
	g‹m¶©e
 <>

321 
	gcÚv”t
<*> { 
	g¡d
::
	t¡ršg
 
	tty³
; };

323 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

324 
	sis_§me
 { 
cÚ¡ex´
 
boŞ
 
	gv®ue
 = 
¡d
::
is_cÚv”tibË
<
T
,
	gU
>::
v®ue
; };

326 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

327 
	gis_§me
<
	gboŞ
,
	gU
> { 
cÚ¡ex´
 
boŞ
 
	gv®ue
 = 
¡d
::
is_š‹g¿l
<
U
>::
v®ue
; };

329 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

330 
	gis_§me
<
	gT
,
	gboŞ
> { 
cÚ¡ex´
 
boŞ
 
	gv®ue
 = 
¡d
::
is_š‹g¿l
<
T
>::
v®ue
; };

332 
	g‹m¶©e
 <
size_t
 
	gN
, size_ˆ
	gI
,‡utØ
	gArg
,‡uto... 
	gArgs
>

333 
	sg‘_Áh_im¶
 { 
cÚ¡ex´
‡utØ
	gv®ue
 = 
g‘_Áh_im¶
<
N
,
	gI
+1,
	gArgs
...>::
v®ue
; };

335 
	g‹m¶©e
 <
size_t
 
	gN
,‡utØ
	gArg
,‡uto... 
	gArgs
>

336 
	gg‘_Áh_im¶
<
	gN
, N, 
	gArg
, 
	gArgs
...> { 
cÚ¡ex´
‡utØ
	gv®ue
 = 
Arg
; };

338 
	g‹m¶©e
 <
size_t
 
	gN
,‡uto... 
	gArgs
>

339 
	sg‘_Áh
 { 
cÚ¡ex´
‡utØ
	gv®ue
 = 
g‘_Áh_im¶
<
N
,0,
	gArgs
...>::
v®ue
; };

341 
	g‹m¶©e
 <autØ
	gAùiÚ
, 
size_t
 
	gI
, 
ty³Çme
 
	gT
, 
	gty³Çme
... 
	gRe¡
>

342 
	scheck_ty³s
 {

343 
¡©ic_as£¹
(
d‘a
::
is_§me
<
ty³Çme
 
cÚv”t
<
T
>::
ty³
,y³ÇmcÚv”t<ty³Çm
¡d
::
tu¶e_–em’t
<
I
, 
deduûd
<
AùiÚ
>>::ty³>::ty³>::
v®ue
);

344 
usšg
 
	gty³
 = 
check_ty³s
<
AùiÚ
, 
	gI
+1, 
	gRe¡
...>;

345 
cÚ¡ex´
 
boŞ
 
	gv®ue
 = 
Œue
;

347 
	g‹m¶©e
 <autØ
	gAùiÚ
, 
size_t
 
	gI
, 
ty³Çme
 
	gT
>

348 
	gcheck_ty³s
<
	gAùiÚ
, 
	gI
, 
	gT
> {

349 
¡©ic_as£¹
(
d‘a
::
is_§me
<
ty³Çme
 
cÚv”t
<
T
>::
ty³
,y³ÇmcÚv”t<ty³Çm
¡d
::
tu¶e_–em’t
<
I
, 
deduûd
<
AùiÚ
>>::ty³>::ty³>::
v®ue
);

350 
cÚ¡ex´
 
boŞ
 
	gv®ue
 = 
Œue
;

353 
	g‹m¶©e
 <autØ
	gAùiÚ
, 
	gty³Çme
... 
	gTs
>

354 
cÚ¡ex´
 
boŞ
 
ty³_check
() {

355 
¡©ic_as£¹
(...(
Ts
è=ğ
¡d
::
tu¶e_size
<
deduûd
<
AùiÚ
>>::
v®ue
);

356  
	gcheck_ty³s
<
	gAùiÚ
, 0, 
	gTs
...>::
v®ue
;

360 
	g‹m¶©e
 <
	geosio
::
Çme
::
¿w
 
Name
,‡utØ
	gAùiÚ
>

361 
	saùiÚ_w¿µ”
 {

362 
	g‹m¶©e
 <
ty³Çme
 
	gCode
>

363 
cÚ¡ex´
 
aùiÚ_w¿µ”
(
Code
&& 
code
, 
¡d
::
veùÜ
<
eosio
::
³rmissiÚ_Ëv–
>&& 
³rms
)

364 : 
code_Çme
(
¡d
::
fÜw¬d
<
Code
>(
code
)), 
³rmissiÚs
(¡d::
move
(
³rms
)) {}

366 
‹m¶©e
 <
ty³Çme
 
Code
>

367 
cÚ¡ex´
 
aùiÚ_w¿µ”
(
Code
&& 
code
, cÚ¡ 
¡d
::
veùÜ
<
eosio
::
³rmissiÚ_Ëv–
>& 
³rms
)

368 : 
code_Çme
(
¡d
::
fÜw¬d
<
Code
>(
code
)), 
³rmissiÚs
(
³rms
) {}

370 
	g‹m¶©e
 <
ty³Çme
 
	gCode
>

371 
cÚ¡ex´
 
aùiÚ_w¿µ”
(
Code
&& 
code
, 
eosio
::
³rmissiÚ_Ëv–
&& 
³rm
)

372 : 
code_Çme
(
¡d
::
fÜw¬d
<
Code
>(
code
)), 
³rmissiÚs
({1, std::
move
(
³rm
)}) {}

374 
‹m¶©e
 <
ty³Çme
 
Code
>

375 
cÚ¡ex´
 
aùiÚ_w¿µ”
(
Code
&& 
code
, cÚ¡ 
eosio
::
³rmissiÚ_Ëv–
& 
³rm
)

376 : 
code_Çme
(
¡d
::
fÜw¬d
<
Code
>(
code
)), 
³rmissiÚs
({1, 
³rm
}) {}

378 
cÚ¡ex´
 
	geosio
::
Çme
 
aùiÚ_Çme
 = 
eosio
::Çme(
Name
);

379 
	geosio
::
Çme
 
code_Çme
;

380 
	g¡d
::
veùÜ
<
eosio
::
³rmissiÚ_Ëv–
> 
³rmissiÚs
;

382 
cÚ¡ex´
‡utØ
g‘_mem_±r
() {

383  
	gAùiÚ
;

386 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

387 
aùiÚ
 
to_aùiÚ
(
Args
&&... 
¬gs
)const {

388 
¡©ic_as£¹
(
d‘a
::
ty³_check
<
AùiÚ
, 
Args
...>());

389  
aùiÚ
(
³rmissiÚs
, 
code_Çme
, 
aùiÚ_Çme
, 
d‘a
::
deduûd
<
AùiÚ
>{
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...});

391 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

392 
£nd
(
Args
&&... 
¬gs
)const {

393 
to_aùiÚ
(
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...).
£nd
();

396 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

397 
£nd_cÚ‹xt_ä“
(
Args
&&... 
¬gs
)const {

398 
to_aùiÚ
(
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...).
£nd_cÚ‹xt_ä“
();

403 
	g‹m¶©e
 <
	geosio
::
Çme
::
¿w
 
Name
,‡uto... 
	gAùiÚs
>

404 
	sv¬ŸÁ_aùiÚ_w¿µ”
 {

405 
	g‹m¶©e
 <
ty³Çme
 
	gCode
>

406 
cÚ¡ex´
 
v¬ŸÁ_aùiÚ_w¿µ”
(
Code
&& 
code
, 
¡d
::
veùÜ
<
eosio
::
³rmissiÚ_Ëv–
>&& 
³rms
)

407 : 
code_Çme
(
¡d
::
fÜw¬d
<
Code
>(
code
)), 
³rmissiÚs
(¡d::
move
(
³rms
)) {}

409 
‹m¶©e
 <
ty³Çme
 
Code
>

410 
cÚ¡ex´
 
v¬ŸÁ_aùiÚ_w¿µ”
(
Code
&& 
code
, cÚ¡ 
¡d
::
veùÜ
<
eosio
::
³rmissiÚ_Ëv–
>& 
³rms
)

411 : 
code_Çme
(
¡d
::
fÜw¬d
<
Code
>(
code
)), 
³rmissiÚs
(
³rms
) {}

413 
	g‹m¶©e
 <
ty³Çme
 
	gCode
>

414 
cÚ¡ex´
 
v¬ŸÁ_aùiÚ_w¿µ”
(
Code
&& 
code
, 
eosio
::
³rmissiÚ_Ëv–
&& 
³rm
)

415 : 
code_Çme
(
¡d
::
fÜw¬d
<
Code
>(
code
)), 
³rmissiÚs
({1, std::
move
(
³rm
)}) {}

417 
‹m¶©e
 <
ty³Çme
 
Code
>

418 
cÚ¡ex´
 
v¬ŸÁ_aùiÚ_w¿µ”
(
Code
&& 
code
, cÚ¡ 
eosio
::
³rmissiÚ_Ëv–
& 
³rm
)

419 : 
code_Çme
(
¡d
::
fÜw¬d
<
Code
>(
code
)), 
³rmissiÚs
({1, 
³rm
}) {}

421 
cÚ¡ex´
 
	geosio
::
Çme
 
aùiÚ_Çme
 = 
eosio
::Çme(
Name
);

422 
	geosio
::
Çme
 
code_Çme
;

423 
	g¡d
::
veùÜ
<
eosio
::
³rmissiÚ_Ëv–
> 
³rmissiÚs
;

425 
	g‹m¶©e
 <
size_t
 
	gV¬ŸÁ
>

426 
cÚ¡ex´
‡utØ
g‘_mem_±r
() {

427  
	gd‘a
::
g‘_Áh
<
V¬ŸÁ
, 
	gAùiÚs
...>::
v®ue
;

430 
	g‹m¶©e
 <
size_t
 
	gV¬ŸÁ
, 
	gty³Çme
... 
	gArgs
>

431 
aùiÚ
 
to_aùiÚ
(
Args
&&... 
¬gs
)const {

432 
¡©ic_as£¹
(
d‘a
::
ty³_check
<d‘a::
g‘_Áh
<
V¬ŸÁ
, 
AùiÚs
...>::
v®ue
, 
Args
...>());

433 
unsigÃd_št
 
	gv¬
 = 
V¬ŸÁ
;

434  
aùiÚ
(
³rmissiÚs
, 
code_Çme
, 
aùiÚ_Çme
, 
¡d
::
tu¶e_ÿt
(¡d::
make_tu¶e
(
v¬
), 
d‘a
::
deduûd
<d‘a::
g‘_Áh
<
V¬ŸÁ
, 
AùiÚs
...>::
v®ue
>{¡d::
fÜw¬d
<
Args
>(
¬gs
)...}));

438 
	g‹m¶©e
 <
size_t
 
	gV¬ŸÁ
, 
	gty³Çme
... 
	gArgs
>

439 
£nd
(
Args
&&... 
¬gs
)const {

440 
	gto_aùiÚ
<
	gV¬ŸÁ
>(
	g¡d
::
fÜw¬d
<
Args
>(
¬gs
)...).
£nd
();

443 
	g‹m¶©e
 <
size_t
 
	gV¬ŸÁ
, 
	gty³Çme
... 
	gArgs
>

444 
£nd_cÚ‹xt_ä“
(
Args
&&... 
¬gs
) const {

445 
	gto_aùiÚ
<
	gV¬ŸÁ
>(
	g¡d
::
fÜw¬d
<
Args
>(
¬gs
)...).
£nd_cÚ‹xt_ä“
();

450 
	g‹m¶©e
<
	gty³Çme
... 
	gArgs
>

451 
di¥©ch_šlše
Ğ
Çme
 
code
,‚am
aù
,

452 
¡d
::
veùÜ
<
³rmissiÚ_Ëv–
> 
³rms
,

453 
¡d
::
tu¶e
<
Args
...> 
¬gs
 ) {

454 
aùiÚ
Ğ
³rms
, 
code
, 
aù
, 
¡d
::
move
(
¬gs
è).
£nd
();

457 
	g‹m¶©e
<
	gty³Çme
, 
	gÇme
::
¿w
>

458 
šlše_di¥©ch”
;

461 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gÇme
::
¿w
 
Name
, 
	gty³Çme
... 
	gArgs
>

462 
	gšlše_di¥©ch”
<(
	gT
::*)(
Args
...), 
	gName
> {

463 
ÿÎ
(
Çme
 
code
, cÚ¡ 
³rmissiÚ_Ëv–
& 
³rm
, 
¡d
::
tu¶e
<
Args
...> 
¬gs
) {

464 
di¥©ch_šlše
(
code
, 
Çme
(
Name
), 
¡d
::
veùÜ
<
³rmissiÚ_Ëv–
>(1, 
³rm
), std::
move
(
¬gs
));

466 
ÿÎ
(
Çme
 
code
, 
¡d
::
veùÜ
<
³rmissiÚ_Ëv–
> 
³rms
, std::
tu¶e
<
Args
...> 
¬gs
) {

467 
di¥©ch_šlše
(
code
, 
Çme
(
Name
), 
¡d
::
move
(
³rms
), std::move(
¬gs
));

473 
	#INLINE_ACTION_SENDER3
Ğ
CONTRACT_CLASS
, 
FUNCTION_NAME
, 
ACTION_NAME
 )\

474 ::
eosio
::
šlše_di¥©ch”
<
	`deşty³
(&
CONTRACT_CLASS
::
FUNCTION_NAME
), 
ACTION_NAME
>::
ÿÎ


	)

476 
	#INLINE_ACTION_SENDER2
Ğ
CONTRACT_CLASS
, 
NAME
 )\

477 
	`INLINE_ACTION_SENDER3
Ğ
CONTRACT_CLASS
, 
NAME
, ::
eosio
::
	`Çme
(#NAMEè)

	)

479 
	#INLINE_ACTION_SENDER
(...è
	`BOOST_PP_OVERLOAD
(
INLINE_ACTION_SENDER
,
__VA_ARGS__
)(__VA_ARGS__)

	)

494 
	#SEND_INLINE_ACTION
Ğ
CONTRACT
, 
NAME
, ... )\

495 
	`INLINE_ACTION_SENDER
(
¡d
::
deÿy_t
<
	`deşty³
(
CONTRACT
)>, 
NAME
)Ğ(CONTRACT).
	`g‘_£lf
(),\

496 
	`BOOST_PP_TUPLE_ENUM
(
	`BOOST_PP_VARIADIC_SIZE
(
__VA_ARGS__
), 
	`BOOST_PP_VARIADIC_TO_TUPLE
(__VA_ARGS__)è);

	)

	@asset.hpp

1 #´agm¨
Úû


2 
	~"£rŸlize.hµ
"

3 
	~"´št.hµ
"

4 
	~"sy¡em.hµ
"

5 
	~"symbŞ.hµ
"

7 
	~<tu¶e
>

8 
	~<lim™s
>

10 
Çme¥aû
 
	geosio
 {

22 
	sas£t
 {

26 
št64_t
 
	gamouÁ
 = 0;

31 
symbŞ
 
	gsymbŞ
;

36 
cÚ¡ex´
 
št64_t
 
	gmax_amouÁ
 = (1LL << 62) - 1;

38 
as£t
() {}

46 
as£t
Ğ
št64_t
 
a
, 
şass
 
symbŞ
 
s
 )

47 :
amouÁ
(
a
),
	gsymbŞ
{
	gs
}

49 
	geosio
::
check
Ğ
is_amouÁ_w™hš_¿nge
(), "magnitude of‡sset‡mount must be†esshan 2^62" );

50 
	geosio
::
check
Ğ
symbŞ
.
is_v®id
(), "invalid symbol‚ame" );

59 
boŞ
 
is_amouÁ_w™hš_¿nge
()cÚ¡ {  -
	gmax_amouÁ
 <ğ
amouÁ
 &&‡mouÁ <ğ
max_amouÁ
; }

67 
boŞ
 
is_v®id
()cÚ¡ {  
is_amouÁ_w™hš_¿nge
(è&& 
	gsymbŞ
.is_valid(); }

74 
£t_amouÁ
Ğ
št64_t
 
a
 ) {

75 
	gamouÁ
 = 
a
;

76 
	geosio
::
check
Ğ
is_amouÁ_w™hš_¿nge
(), "magnitude of‡sset‡mount must be†esshan 2^62" );

84 
as£t
 
	gİ”©Ü
-()const {

85 
as£t
 
	gr
 = *
this
;

86 
	gr
.
	gamouÁ
 = -
r
.
amouÁ
;

87  
	gr
;

97 
	gas£t
& 
	gİ”©Ü
-=ĞcÚ¡ 
as£t
& 
a
 ) {

98 
eosio
::
check
Ğ
a
.
symbŞ
 == symbol, "attempto subtract‡sset with different symbol" );

99 
	gamouÁ
 -ğ
a
.
amouÁ
;

100 
	geosio
::
check
Ğ-
max_amouÁ
 <ğ
amouÁ
, "subtraction underflow" );

101 
	geosio
::
check
Ğ
amouÁ
 <ğ
max_amouÁ
, "subtraction overflow" );

102  *
	gthis
;

112 
	gas£t
& 
	gİ”©Ü
+=ĞcÚ¡ 
as£t
& 
a
 ) {

113 
eosio
::
check
Ğ
a
.
symbŞ
 == symbol, "attempto‡dd‡sset with different symbol" );

114 
	gamouÁ
 +ğ
a
.
amouÁ
;

115 
	geosio
::
check
Ğ-
max_amouÁ
 <ğ
amouÁ
, "addition underflow" );

116 
	geosio
::
check
Ğ
amouÁ
 <ğ
max_amouÁ
, "addition overflow" );

117  *
	gthis
;

127 
šlše
 
ä›nd
 
as£t
 
	gİ”©Ü
+ĞcÚ¡ 
	gas£t
& 
	ga
, cÚ¡‡s£t& 
	gb
 ) {

128 
as£t
 
	g»suÉ
 = 
a
;

129 
	g»suÉ
 +ğ
b
;

130  
	g»suÉ
;

140 
šlše
 
ä›nd
 
as£t
 
	gİ”©Ü
-ĞcÚ¡ 
	gas£t
& 
	ga
, cÚ¡‡s£t& 
	gb
 ) {

141 
as£t
 
	g»suÉ
 = 
a
;

142 
	g»suÉ
 -ğ
b
;

143  
	g»suÉ
;

154 
	gas£t
& 
	gİ”©Ü
*=Ğ
št64_t
 
a
 ) {

155 
št128_t
 
tmp
 = (št128_t)
amouÁ
 * (št128_t)
a
;

156 
	geosio
::
check
Ğ
tmp
 <ğ
max_amouÁ
, "multiplication overflow" );

157 
	geosio
::
check
Ğ
tmp
 >ğ-
max_amouÁ
, "multiplication underflow" );

158 
	gamouÁ
 = (
št64_t
)
tmp
;

159  *
	gthis
;

170 
ä›nd
 
as£t
 
	gİ”©Ü
*ĞcÚ¡ 
	gas£t
& 
	ga
, 
št64_t
 
	gb
 ) {

171 
as£t
 
	g»suÉ
 = 
a
;

172 
	g»suÉ
 *ğ
b
;

173  
	g»suÉ
;

184 
ä›nd
 
as£t
 
	gİ”©Ü
*Ğ
št64_t
 
	gb
, cÚ¡ 
	gas£t
& 
	ga
 ) {

185 
as£t
 
	g»suÉ
 = 
a
;

186 
	g»suÉ
 *ğ
b
;

187  
	g»suÉ
;

198 
	gas£t
& 
	gİ”©Ü
/=Ğ
št64_t
 
a
 ) {

199 
eosio
::
check
Ğ
a
 != 0, "divide by zero" );

200 
	geosio
::
check
Ğ!(
amouÁ
 =ğ
¡d
::
num”ic_lim™s
<
št64_t
>::
mš
(è&& 
a
 == -1), "signed division overflow" );

201 
	gamouÁ
 /ğ
a
;

202  *
	gthis
;

212 
ä›nd
 
as£t
 
	gİ”©Ü
/ĞcÚ¡ 
	gas£t
& 
	ga
, 
št64_t
 
	gb
 ) {

213 
as£t
 
	g»suÉ
 = 
a
;

214 
	g»suÉ
 /ğ
b
;

215  
	g»suÉ
;

226 
ä›nd
 
št64_t
 
	gİ”©Ü
/ĞcÚ¡ 
	gas£t
& 
	ga
, cÚ¡‡s£t& 
	gb
 ) {

227 
	geosio
::
check
Ğ
b
.
amouÁ
 != 0, "divide by zero" );

228 
	geosio
::
check
Ğ
a
.
symbŞ
 =ğ
b
.symbol, "comparison of‡ssets with different symbols is‚ot‡llowed" );

229  
	ga
.
	gamouÁ
 / 
	gb
.amount;

241 
ä›nd
 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
as£t
& 
a
, cÚ¡ 
	gas£t
& 
	gb
 ) {

242 
	geosio
::
check
Ğ
a
.
symbŞ
 =ğ
b
.symbol, "comparison of‡ssets with different symbols is‚ot‡llowed" );

243  
	ga
.
	gamouÁ
 =ğ
b
.
amouÁ
;

255 
ä›nd
 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
as£t
& 
a
, cÚ¡ 
	gas£t
& 
	gb
 ) {

256  !Ğ
	ga
 =ğ
b
);

268 
ä›nd
 
boŞ
 
	gİ”©Ü
<ĞcÚ¡ 
	gas£t
& 
	ga
, cÚ¡‡s£t& 
	gb
 ) {

269 
	geosio
::
check
Ğ
a
.
symbŞ
 =ğ
b
.symbol, "comparison of‡ssets with different symbols is‚ot‡llowed" );

270  
	ga
.
	gamouÁ
 < 
	gb
.amount;

282 
ä›nd
 
boŞ
 
	gİ”©Ü
<=ĞcÚ¡ 
as£t
& 
a
, cÚ¡ 
	gas£t
& 
	gb
 ) {

283 
	geosio
::
check
Ğ
a
.
symbŞ
 =ğ
b
.symbol, "comparison of‡ssets with different symbols is‚ot‡llowed" );

284  
	ga
.
	gamouÁ
 <ğ
b
.
amouÁ
;

296 
ä›nd
 
boŞ
 
	gİ”©Ü
>ĞcÚ¡ 
	gas£t
& 
	ga
, cÚ¡‡s£t& 
	gb
 ) {

297 
	geosio
::
check
Ğ
a
.
symbŞ
 =ğ
b
.symbol, "comparison of‡ssets with different symbols is‚ot‡llowed" );

298  
	ga
.
	gamouÁ
 > 
	gb
.amount;

310 
ä›nd
 
boŞ
 
	gİ”©Ü
>=ĞcÚ¡ 
as£t
& 
a
, cÚ¡ 
	gas£t
& 
	gb
 ) {

311 
	geosio
::
check
Ğ
a
.
symbŞ
 =ğ
b
.symbol, "comparison of‡ssets with different symbols is‚ot‡llowed" );

312  
	ga
.
	gamouÁ
 >ğ
b
.
amouÁ
;

320 
	g¡d
::
¡ršg
 
to_¡ršg
()const {

321 
št64_t
 
p
 = (št64_t)
symbŞ
.
´ecisiÚ
();

322 
št64_t
 
	gp10
 = 1;

323 
boŞ
 
	gÃg©ive
 = 
çl£
;

324 
št64_t
 
	gšv”t
 = 1;

326  
	gp
 > 0 ) {

327 
	gp10
 *ğ10; --
	gp
;

329 
	gp
 = (
št64_t
)
symbŞ
.
´ecisiÚ
();

331 
	gäaùiÚ
[
p
+1];

332 
	gäaùiÚ
[
p
] = '\0';

334 ià(
	gamouÁ
 < 0) {

335 
	gšv”t
 = -1;

336 
	gÃg©ive
 = 
Œue
;

339 autØ
	gchªge
 = (
amouÁ
 % 
p10
è* 
šv”t
;

341  
št64_t
 
	gi
 = 
p
 -1; i >= 0; --i ) {

342 
	gäaùiÚ
[
i
] = (
chªge
 % 10) + '0';

343 
	gchªge
 /= 10;

345 
	g¡r
[
p
+32];

346 cÚ¡ * 
	gfmt
 = 
Ãg©ive
 ? "-%lld.%s %s" : "%lld.%s %s";

347 
¢´štf
(
¡r
, (¡r), 
fmt
,

348 (
št64_t
)(
amouÁ
/
p10
), 
äaùiÚ
, 
symbŞ
.
code
().
to_¡ršg
().
c_¡r
());

349  {
	g¡r
};

357 
´št
()const {

358 
	geosio
::
´št
(
to_¡ršg
());

361 
EOSLIB_SERIALIZE
Ğ
as£t
, (
amouÁ
)(
symbŞ
) )

367 
	sex‹nded_as£t
 {

371 
as£t
 
	gquªt™y
;

376 
Çme
 
	gcÚŒaù
;

383 
ex‹nded_symbŞ
 
g‘_ex‹nded_symbŞ
()cÚ¡ {  
	gex‹nded_symbŞ
{ 
	gquªt™y
.
	gsymbŞ
, 
	gcÚŒaù
 }; }

388 
ex‹nded_as£t
() = ;

393 
ex‹nded_as£t
Ğ
št64_t
 
v
, 
ex‹nded_symbŞ
 
s
 ):
quªt™y
(v,s.
g‘_symbŞ
()),
cÚŒaù
(s.
g‘_cÚŒaù
()){}

397 
ex‹nded_as£t
Ğ
as£t
 
a
, 
Çme
 
c
 ):
quªt™y
×),
cÚŒaù
(c){}

402 
´št
()const {

403 
	gquªt™y
.
´št
();

404 
´šts
("@");

405 
´šŠ
(
cÚŒaù
.
v®ue
);

413 
ex‹nded_as£t
 
	gİ”©Ü
-()const {

414  {-
	gquªt™y
, 
	gcÚŒaù
};

426 
ä›nd
 
ex‹nded_as£t
 
	gİ”©Ü
 - ( cÚ¡ 
	gex‹nded_as£t
& 
	ga
, cÚ¡ƒx‹nded_as£t& 
	gb
 ) {

427 
	geosio
::
check
Ğ
a
.
cÚŒaù
 =ğ
b
.contract, "type mismatch" );

428  {
	ga
.
	gquªt™y
 - 
	gb
.quªt™y,‡.
	gcÚŒaù
};

440 
ä›nd
 
ex‹nded_as£t
 
	gİ”©Ü
 + ( cÚ¡ 
	gex‹nded_as£t
& 
	ga
, cÚ¡ƒx‹nded_as£t& 
	gb
 ) {

441 
	geosio
::
check
Ğ
a
.
cÚŒaù
 =ğ
b
.contract, "type mismatch" );

442  {
	ga
.
	gquªt™y
 + 
	gb
.quªt™y,‡.
	gcÚŒaù
};

446 
ä›nd
 
	gex‹nded_as£t
& 
	gİ”©Ü
+=Ğ
ex‹nded_as£t
& 
a
, cÚ¡ƒx‹nded_as£t& 
	gb
 ) {

447 
	geosio
::
check
Ğ
a
.
cÚŒaù
 =ğ
b
.contract, "type mismatch" );

448 
	ga
.
	gquªt™y
 +ğ
b
.
quªt™y
;

449  
	ga
;

453 
ä›nd
 
	gex‹nded_as£t
& 
	gİ”©Ü
-=Ğ
ex‹nded_as£t
& 
a
, cÚ¡ƒx‹nded_as£t& 
	gb
 ) {

454 
	geosio
::
check
Ğ
a
.
cÚŒaù
 =ğ
b
.contract, "type mismatch" );

455 
	ga
.
	gquªt™y
 -ğ
b
.
quªt™y
;

456  
	ga
;

460 
ä›nd
 
boŞ
 
	gİ”©Ü
<ĞcÚ¡ 
	gex‹nded_as£t
& 
	ga
, cÚ¡ƒx‹nded_as£t& 
	gb
 ) {

461 
	geosio
::
check
Ğ
a
.
cÚŒaù
 =ğ
b
.contract, "type mismatch" );

462  
	ga
.
	gquªt™y
 < 
	gb
.quantity;

467 
ä›nd
 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
ex‹nded_as£t
& 
a
, cÚ¡ 
	gex‹nded_as£t
& 
	gb
 ) {

468  
	g¡d
::
t›
(
a
.
quªt™y
,‡.
cÚŒaù
è=ğ
¡d
::t›(
b
.quantity, b.contract);

472 
ä›nd
 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
ex‹nded_as£t
& 
a
, cÚ¡ 
	gex‹nded_as£t
& 
	gb
 ) {

473  
	g¡d
::
t›
(
a
.
quªt™y
,‡.
cÚŒaù
è!ğ
¡d
::t›(
b
.quantity, b.contract);

477 
ä›nd
 
boŞ
 
	gİ”©Ü
<=ĞcÚ¡ 
ex‹nded_as£t
& 
a
, cÚ¡ 
	gex‹nded_as£t
& 
	gb
 ) {

478 
	geosio
::
check
Ğ
a
.
cÚŒaù
 =ğ
b
.contract, "type mismatch" );

479  
	ga
.
	gquªt™y
 <ğ
b
.
quªt™y
;

483 
ä›nd
 
boŞ
 
	gİ”©Ü
>=ĞcÚ¡ 
ex‹nded_as£t
& 
a
, cÚ¡ 
	gex‹nded_as£t
& 
	gb
 ) {

484 
	geosio
::
check
Ğ
a
.
cÚŒaù
 =ğ
b
.contract, "type mismatch" );

485  
	ga
.
	gquªt™y
 >ğ
b
.
quªt™y
;

488 
EOSLIB_SERIALIZE
Ğ
ex‹nded_as£t
, (
quªt™y
)(
cÚŒaù
) )

	@binary_extension.hpp

1 #´agm¨
Úû


2 
	~"´št.hµ
"

4 
Çme¥aû
 
	geosio
 {

19 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

20 şas 
	cbš¬y_ex‹nsiÚ
 {

21 
	gpublic
:

22 
usšg
 
v®ue_ty³
 = 
T
;

24 
cÚ¡ex´
 
bš¬y_ex‹nsiÚ
() {}

25 
cÚ¡ex´
 
bš¬y_ex‹nsiÚ
ĞcÚ¡ 
T
& 
ext
 )

26 :
_has_v®ue
(
Œue
)

28 ::
Ãw
 (&
_d©a
è
T
(
ext
);

30 
cÚ¡ex´
 
bš¬y_ex‹nsiÚ
Ğ
T
&& 
ext
 )

31 :
_has_v®ue
(
Œue
)

33 ::
Ãw
 (&
_d©a
è
T
(
¡d
::
move
(
ext
));

36 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

37 
cÚ¡ex´
 
bš¬y_ex‹nsiÚ
Ğ
¡d
::
š_¶aû_t
, 
Args
&&... 
¬gs
 )

38 :
_has_v®ue
(
Œue
)

40 ::
Ãw
 (&
_d©a
è
T
(
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...);

43 ~
bš¬y_ex‹nsiÚ
(è{ 
»£t
(); }

45 
cÚ¡ex´
 
bš¬y_ex‹nsiÚ
ĞcÚ¡ bš¬y_ex‹nsiÚ& 
Ùh”
 )

46 :
_has_v®ue
(
Ùh”
._has_value)

48 ifĞ
Ùh”
.
_has_v®ue
 ) ::
Ãw
 (&
_d©a
è
T
( *other );

51 
cÚ¡ex´
 
bš¬y_ex‹nsiÚ
Ğbš¬y_ex‹nsiÚ&& 
Ùh”
 )

52 :
_has_v®ue
(
Ùh”
._has_value)

54 ifĞ
Ùh”
.
_has_v®ue
 ) {

55 ::
Ãw
 (&
_d©a
è
T
Ğ*
¡d
::
move
(
Ùh”
) );

56 
	gÙh”
.
	g_has_v®ue
 = 
çl£
;

61 
cÚ¡ex´
 
ex¶ic™
 
İ”©Ü
 
boŞ
()cÚ¡ {  
	g_has_v®ue
; }

63 
cÚ¡ex´
 
boŞ
 
has_v®ue
()cÚ¡ {  
	g_has_v®ue
; }

66 
cÚ¡ex´
 
	gT
& 
v®ue
()& {

67 ià(!
	g_has_v®ue
) {

68 
eosio_as£¹
(
çl£
, "cannot get value ofƒmpty binary_extension");

70  
_g‘
();

73 
cÚ¡ex´
 cÚ¡ 
	gT
& 
v®ue
()const & {

74 ià(!
	g_has_v®ue
) {

75 
eosio_as£¹
(
çl£
, "cannot get value ofƒmpty binary_extension");

77  
_g‘
();

83 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

84 
cÚ¡ex´
‡utØ
v®ue_Ü
Ğ
U
&& 
def
 ) -> 
	g¡d
::
’abË_if_t
<
¡d
::
is_cÚv”tibË
<U, 
	gT
>::
v®ue
, T&>& {

85 ià(
	g_has_v®ue
)

86  
_g‘
();

87  
	gdef
;

89 
cÚ¡ex´
 
	gT
&& 
v®ue_Ü
()&& {

90 ià(!
	g_has_v®ue
)

91  
	g¡d
::
move
(
T
());

92 
	g_has_v®ue
 = 
çl£
;

93  
	g¡d
::
move
(
_g‘
());

95 
cÚ¡ex´
 cÚ¡ 
	gT
&& 
v®ue_Ü
()const&& {

96 ià(!
	g_has_v®ue
)

97  
	g¡d
::
move
(
T
());

98 
	g_has_v®ue
 = 
çl£
;

99  
	g¡d
::
move
(
_g‘
());

101 
cÚ¡ex´
 
T
 
v®ue_Ü
()& {

102 ià(!
	g_has_v®ue
)

104  
_g‘
();

106 
cÚ¡ex´
 
T
 
v®ue_Ü
()const& {

107 ià(!
	g_has_v®ue
)

109  
_g‘
();

112 
cÚ¡ex´
 
T
* 
	gİ”©Ü
->() {

113  &
_g‘
();

115 
cÚ¡ex´
 cÚ¡ 
T
* 
	gİ”©Ü
->()const {

116  &
_g‘
();

119 
cÚ¡ex´
 
	gT
& 
	gİ”©Ü
*()& {

120  
_g‘
();

122 
cÚ¡ex´
 cÚ¡ 
	gT
& 
	gİ”©Ü
*()const& {

123  
_g‘
();

125 
cÚ¡ex´
 cÚ¡ 
	gT
&& 
	gİ”©Ü
*()const&& {

126  
	g¡d
::
move
(
_g‘
());

128 
cÚ¡ex´
 
	gT
&& 
	gİ”©Ü
*()&& {

129  
	g¡d
::
move
(
_g‘
());

132 
	g‹m¶©e
<
	gty³Çme
 ...
	gArgs
>

133 
	gT
& 
em¶aû
(
Args
&& ... 
¬gs
)& {

134 ià(
	g_has_v®ue
) {

135 
»£t
();

138 ::
Ãw
 (&
_d©a
è
T
Ğ
¡d
::
fÜw¬d
<
Args
>(
¬gs
)... );

139 
	g_has_v®ue
 = 
Œue
;

141  
_g‘
();

144 
»£t
() {

145 ifĞ
	g_has_v®ue
 ) {

146 
_g‘
().~
v®ue_ty³
();

147 
	g_has_v®ue
 = 
çl£
;

151 
	g´iv©e
:

152 
boŞ
 
_has_v®ue
 = 
çl£
;

153 
ty³Çme
 
	g¡d
::
®igÃd_¡Üage
<(
T
), 
®ignof
(T)>::
ty³
 
_d©a
;

155 
cÚ¡ex´
 
	gT
& 
_g‘
() {

156  *
	g»š‹½»t_ÿ¡
<
	gT
*>(&
	g_d©a
);

159 
cÚ¡ex´
 cÚ¡ 
	gT
& 
_g‘
()const {

160  *
	g»š‹½»t_ÿ¡
<cÚ¡ 
	gT
*>(&
	g_d©a
);

	@chain.h

5 #´agm¨
Úû


7 
	~"ty³s.h
"

35 
ušt32_t
 
g‘_aùive_´oduûrs
Ğ
ÿpi_Çme
* 
´oduûrs
, ušt32_ˆ
d©®’
 );

	@compiler_builtins.h

5 #´agm¨
Úû


33 
__muÉi3
(
__št128
& 
»s
, 
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
);

53 
__divti3
(
__št128
& 
»s
, 
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
);

72 
__udivti3
(
__št128
& 
»s
, 
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
);

92 
__modti3
(
__št128
& 
»s
, 
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
);

112 
__umodti3
(
__št128
& 
»s
, 
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
);

130 
__lshÉi3
(
__št128
& 
»s
, 
ušt64_t
 
lo
, ušt64_ˆ
hi
, 
ušt32_t
 
shiá
);

148 
__lsh¹i3
(
__št128
& 
»s
, 
ušt64_t
 
lo
, ušt64_ˆ
hi
, 
ušt32_t
 
shiá
);

166 
__ashÉi3
(
__št128
& 
»s
, 
ušt64_t
 
lo
, ušt64_ˆ
hi
, 
ušt32_t
 
shiá
);

184 
__ash¹i3
(
__št128
& 
»s
, 
ušt64_t
 
lo
, ušt64_ˆ
hi
, 
ušt32_t
 
shiá
);

196 
__addtf3
Ğ& 
»t
, 
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

208 
__subtf3
Ğ& 
»t
, 
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

220 
__muÉf3
Ğ& 
»t
, 
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

232 
__divtf3
Ğ& 
»t
, 
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

247 
__eqtf2
Ğ
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

262 
__Ãtf2
Ğ
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

278 
__g‘f2
Ğ
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

293 
__g‰f2
Ğ
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

308 
__Ëtf2
Ğ
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

323 
__Étf2
Ğ
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

338 
__cm±f2
Ğ
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

351 
__unÜdtf2
Ğ
ušt64_t
 
Ï
, ušt64_ˆ
ha
, ušt64_ˆ
lb
, ušt64_ˆ
hb
 );

360 
__ex‹ndsáf2
Ğ& 
»t
, 
f
 );

369 
__ex‹nddáf2
Ğ& 
»t
, 
f
 );

378 
št64_t
 
__fixtfdi
Ğ
ušt64_t
 
l
, ušt64_ˆ
h
 );

387 
št32_t
 
__fixtfsi
Ğ
ušt64_t
 
l
, ušt64_ˆ
h
 );

396 
ušt64_t
 
__fixun¡fdi
Ğušt64_ˆ
l
, ušt64_ˆ
h
 );

405 
ušt32_t
 
__fixun¡fsi
Ğ
ušt64_t
 
l
, ušt64_ˆ
h
 );

415 
__Œunùfdf2
Ğ
ušt64_t
 
l
, ušt64_ˆ
h
 );

424 
__Œunùfsf2
Ğ
ušt64_t
 
l
, ušt64_ˆ
h
 );

426 
__b»ak_pošt
();

	@contract.hpp

1 #´agm¨
Úû


3 
	~"Çme.hµ
"

4 
	~"d©a¡»am.hµ
"

13 
Çme¥aû
 
	geosio
 {

19 şas 
	ccÚŒaù
 {

20 
	gpublic
:

28 
cÚŒaù
Ğ
Çme
 
»ûiv”
,‚am
code
, 
d©a¡»am
<cÚ¡ *> 
ds
 ):
_£lf
Ôeûiv”),
_code
(code),
_ds
(ds) {}

36 
šlše
 
Çme
 
g‘_£lf
()cÚ¡ {  
	g_£lf
; }

43 
šlše
 
Çme
 
g‘_code
()cÚ¡ {  
	g_code
; }

50 
šlše
 
	gd©a¡»am
<cÚ¡ *> 
g‘_d©a¡»am
()cÚ¡ {  
	g_ds
; }

52 
	g´Ùeùed
:

56 
Çme
 
_£lf
;

61 
Çme
 
	g_code
;

66 
	gd©a¡»am
<cÚ¡ *> 
	g_ds
 = 
d©a¡»am
<cÚ¡ *>(
nuÎ±r
, 0);

	@crypto.cpp

6 
	~"üy±o.hµ
"

7 
	~"d©a¡»am.hµ
"

9 
Çme¥aû
 
	geosio
 {

11 
as£¹_sha256
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
eosio
::
checksum256
& 
hash
 ) {

12 autØ
hash_d©a
 = 
hash
.
exŒaù_as_by‹_¬¿y
();

13 ::
as£¹_sha256
Ğ
d©a
, 
Ëngth
, 
»š‹½»t_ÿ¡
<cÚ¡ ::
ÿpi_checksum256
*>(
hash_d©a
.data()) );

16 
as£¹_sha1
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
eosio
::
checksum160
& 
hash
 ) {

17 autØ
hash_d©a
 = 
hash
.
exŒaù_as_by‹_¬¿y
();

18 ::
as£¹_sha1
Ğ
d©a
, 
Ëngth
, 
»š‹½»t_ÿ¡
<cÚ¡ ::
ÿpi_checksum160
*>(
hash_d©a
.data()) );

21 
as£¹_sha512
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
eosio
::
checksum512
& 
hash
 ) {

22 autØ
hash_d©a
 = 
hash
.
exŒaù_as_by‹_¬¿y
();

23 ::
as£¹_sha512
Ğ
d©a
, 
Ëngth
, 
»š‹½»t_ÿ¡
<cÚ¡ ::
ÿpi_checksum512
*>(
hash_d©a
.data()) );

26 
as£¹_remd160
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
eosio
::
checksum160
& 
hash
 ) {

27 autØ
hash_d©a
 = 
hash
.
exŒaù_as_by‹_¬¿y
();

28 ::
as£¹_remd160
Ğ
d©a
, 
Ëngth
, 
»š‹½»t_ÿ¡
<cÚ¡ ::
ÿpi_checksum160
*>(
hash_d©a
.data()) );

31 
	geosio
::
checksum256
 
sha256
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
 ) {

32 ::
ÿpi_checksum256
 
hash
;

33 ::
sha256
Ğ
d©a
, 
Ëngth
, &
hash
 );

34  {
	ghash
.hash};

37 
	geosio
::
checksum160
 
sha1
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
 ) {

38 ::
ÿpi_checksum160
 
hash
;

39 ::
sha1
Ğ
d©a
, 
Ëngth
, &
hash
 );

40  {
	ghash
.hash};

43 
	geosio
::
checksum512
 
sha512
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
 ) {

44 ::
ÿpi_checksum512
 
hash
;

45 ::
sha512
Ğ
d©a
, 
Ëngth
, &
hash
 );

46  {
	ghash
.hash};

49 
	geosio
::
checksum160
 
remd160
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
 ) {

50 ::
ÿpi_checksum160
 
hash
;

51 ::
remd160
Ğ
d©a
, 
Ëngth
, &
hash
 );

52  {
	ghash
.hash};

55 
	geosio
::
public_key
 
»cov”_key
ĞcÚ¡ 
eosio
::
checksum256
& 
dige¡
, cÚ¡ƒosio::
sigÇtu»
& 
sig
 ) {

56 autØ
dige¡_d©a
 = 
dige¡
.
exŒaù_as_by‹_¬¿y
();

58 
	gsig_d©a
[70];

59 
	geosio
::
d©a¡»am
<*> 
sig_ds
Ğ
sig_d©a
, (sig_data) );

60 autØ
	gsig_begš
 = 
sig_ds
.
pos
();

61 
	gsig_ds
 << 
	gsig
;

63 
	gpubkey_d©a
[38];

64 
size_t
 
	gpubkey_size
 = ::
»cov”_key
Ğ
»š‹½»t_ÿ¡
<cÚ¡ 
ÿpi_checksum256
*>(
dige¡_d©a
.
d©a
()),

65 
sig_begš
, (
sig_ds
.
pos
() - sig_begin),

66 
pubkey_d©a
, (pubkey_data) );

67 
	geosio
::
d©a¡»am
<*> 
pubkey_ds
Ğ
pubkey_d©a
, 
pubkey_size
 );

68 
	geosio
::
public_key
 
pubkey
;

69 
	gpubkey_ds
 >> 
	gpubkey
;

70  
	gpubkey
;

73 
as£¹_»cov”_key
ĞcÚ¡ 
eosio
::
checksum256
& 
dige¡
, cÚ¡ƒosio::
sigÇtu»
& 
sig
, cÚ¡ƒosio::
public_key
& 
pubkey
 ) {

74 autØ
dige¡_d©a
 = 
dige¡
.
exŒaù_as_by‹_¬¿y
();

76 
	gsig_d©a
[70];

77 
	geosio
::
d©a¡»am
<*> 
sig_ds
Ğ
sig_d©a
, (sig_data) );

78 autØ
	gsig_begš
 = 
sig_ds
.
pos
();

79 
	gsig_ds
 << 
	gsig
;

81 
	gpubkey_d©a
[38];

82 
	geosio
::
d©a¡»am
<*> 
pubkey_ds
Ğ
pubkey_d©a
, (pubkey_data) );

83 autØ
	gpubkey_begš
 = 
pubkey_ds
.
pos
();

84 
	gpubkey_ds
 << 
	gpubkey
;

86 ::
as£¹_»cov”_key
Ğ
»š‹½»t_ÿ¡
<cÚ¡ 
ÿpi_checksum256
*>(
dige¡_d©a
.
d©a
()),

87 
sig_begš
, (
sig_ds
.
pos
() - sig_begin),

88 
pubkey_begš
, (
pubkey_ds
.
pos
() -…ubkey_begin) );

	@crypto.h

5 #´agm¨
Úû


6 
	~"ty³s.h
"

39 
as£¹_sha256
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
ÿpi_checksum256
* 
hash
 );

63 
as£¹_sha1
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
ÿpi_checksum160
* 
hash
 );

87 
as£¹_sha512
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
ÿpi_checksum512
* 
hash
 );

110 
as£¹_remd160
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
ÿpi_checksum160
* 
hash
 );

127 
sha256
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, 
ÿpi_checksum256
* 
hash
 );

144 
sha1
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, 
ÿpi_checksum160
* 
hash
 );

161 
sha512
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, 
ÿpi_checksum512
* 
hash
 );

178 
remd160
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, 
ÿpi_checksum160
* 
hash
 );

195 
»cov”_key
ĞcÚ¡ 
ÿpi_checksum256
* 
dige¡
, cÚ¡ * 
sig
, 
size_t
 
sigËn
, * 
pub
, size_ˆ
pubËn
 );

222 
as£¹_»cov”_key
ĞcÚ¡ 
ÿpi_checksum256
* 
dige¡
, cÚ¡ * 
sig
, 
size_t
 
sigËn
, cÚ¡ * 
pub
, size_ˆ
pubËn
 );

	@crypto.hpp

5 #´agm¨
Úû


7 
	~"üy±o.h
"

8 
	~"fixed_by‹s.hµ
"

9 
	~"v¬št.hµ
"

10 
	~"£rŸlize.hµ
"

12 
	~<¬¿y
>

14 
Çme¥aû
 
	geosio
 {

28 
	spublic_key
 {

33 
unsigÃd_št
 
	gty³
;

40 
	g¡d
::
¬¿y
<,33> 
	gd©a
;

42 
ä›nd
 
boŞ
 
	gİ”©Ü
 =ğĞcÚ¡ 
public_key
& 
a
, cÚ¡ 
	gpublic_key
& 
	gb
 ) {

43  
	g¡d
::
t›
(
a
.
ty³
,a.
d©a
è=ğ
¡d
::t›(
b
.type,b.data);

45 
ä›nd
 
boŞ
 
	gİ”©Ü
 !ğĞcÚ¡ 
public_key
& 
a
, cÚ¡ 
	gpublic_key
& 
	gb
 ) {

46  
	g¡d
::
t›
(
a
.
ty³
,a.
d©a
è!ğ
¡d
::t›(
b
.type,b.data);

48 
EOSLIB_SERIALIZE
Ğ
public_key
, (
ty³
)(
d©a
) )

65 
	ssigÇtu»
 {

70 
unsigÃd_št
 
	gty³
;

77 
	g¡d
::
¬¿y
<,65> 
	gd©a
;

79 
ä›nd
 
boŞ
 
	gİ”©Ü
 =ğĞcÚ¡ 
sigÇtu»
& 
a
, cÚ¡ 
	gsigÇtu»
& 
	gb
 ) {

80  
	g¡d
::
t›
(
a
.
ty³
,a.
d©a
è=ğ
¡d
::t›(
b
.type,b.data);

82 
ä›nd
 
boŞ
 
	gİ”©Ü
 !ğĞcÚ¡ 
sigÇtu»
& 
a
, cÚ¡ 
	gsigÇtu»
& 
	gb
 ) {

83  
	g¡d
::
t›
(
a
.
ty³
,a.
d©a
è!ğ
¡d
::t›(
b
.type,b.data);

85 
EOSLIB_SERIALIZE
Ğ
sigÇtu»
, (
ty³
)(
d©a
) )

106 
as£¹_sha256
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
eosio
::
checksum256
& 
hash
 );

117 
as£¹_sha1
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
eosio
::
checksum160
& 
hash
 );

128 
as£¹_sha512
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
eosio
::
checksum512
& 
hash
 );

138 
as£¹_remd160
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
, cÚ¡ 
eosio
::
checksum160
& 
hash
 );

148 
	geosio
::
checksum256
 
sha256
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
 );

158 
	geosio
::
checksum160
 
sha1
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
 );

168 
	geosio
::
checksum512
 
sha512
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
 );

178 
	geosio
::
checksum160
 
remd160
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
Ëngth
 );

188 
	geosio
::
public_key
 
»cov”_key
ĞcÚ¡ 
eosio
::
checksum256
& 
dige¡
, cÚ¡ƒosio::
sigÇtu»
& 
sig
 );

198 
as£¹_»cov”_key
ĞcÚ¡ 
eosio
::
checksum256
& 
dige¡
, cÚ¡ƒosio::
sigÇtu»
& 
sig
, cÚ¡ƒosio::
public_key
& 
pubkey
 );

	@datastream.hpp

5 #´agm¨
Úû


6 
	~"sy¡em.hµ
"

7 
	~"ty³s.h
"

8 
	~"symbŞ.hµ
"

9 
	~"fixed_by‹s.hµ
"

10 
	~"fixed_key.hµ
"

11 
	~"üy±o.hµ
"

12 
	~"ignÜe.hµ
"

13 
	~"v¬št.hµ
"

14 
	~"bš¬y_ex‹nsiÚ.hµ
"

16 
	~<boo¡/cÚš”/æ©_£t.hµ
>

17 
	~<boo¡/cÚš”/æ©_m­.hµ
>

18 
	~<li¡
>

19 
	~<queue
>

20 
	~<veùÜ
>

21 
	~<¬¿y
>

22 
	~<£t
>

23 
	~<m­
>

24 
	~<¡ršg
>

25 
	~<İtiÚ®
>

26 
	~<v¬ŸÁ
>

28 
	~<boo¡/fusiÚ/®gÜ™hm/™”©iÚ/fÜ_—ch.hµ
>

29 
	~<boo¡/fusiÚ/šşude/fÜ_—ch.hµ
>

31 
	~<boo¡/pä.hµ
>

33 
Çme¥aû
 
	geosio
 {

40 
	g‹m¶©e
<
ty³Çme
 
	gT
>

41 şas 
	cd©a¡»am
 {

42 
	gpublic
:

50 
d©a¡»am
Ğ
T
 
¡¬t
, 
size_t
 
s
 )

51 :
_¡¬t
(
¡¬t
),
_pos
(¡¬t),
_’d
(¡¬t+
s
){}

58 
šlše
 
sk
Ğ
size_t
 
s
 ){ 
	g_pos
 += s; }

67 
šlše
 
boŞ
 
»ad
Ğ* 
d
, 
size_t
 
s
 ) {

68 
	geosio
::
check
Ğ
size_t
(
_’d
 - 
_pos
è>ğ(size_t)
s
, "read" );

69 
memıy
Ğ
d
, 
_pos
, 
s
 );

70 
	g_pos
 +ğ
s
;

71  
	gŒue
;

81 
šlše
 
boŞ
 
wr™e
ĞcÚ¡ * 
d
, 
size_t
 
s
 ) {

82 
	geosio
::
check
Ğ
_’d
 - 
_pos
 >ğ(
št32_t
)
s
, "write" );

83 
memıy
Ğ(*)
_pos
, 
d
, 
s
 );

84 
	g_pos
 +ğ
s
;

85  
	gŒue
;

95 
šlše
 
boŞ
 
put
(
c
) {

96 
	geosio
::
check
Ğ
_pos
 < 
_’d
, "put" );

97 *
	g_pos
 = 
c
;

98 ++
	g_pos
;

99  
	gŒue
;

109 
šlše
 
boŞ
 
g‘
Ğ& 
c
 ) {  get( *(*)&c ); }

118 
šlše
 
boŞ
 
g‘
Ğ& 
c
 )

120 
	geosio
::
check
Ğ
_pos
 < 
_’d
, "get" );

121 
	gc
 = *
_pos
;

122 ++
	g_pos
;

123  
	gŒue
;

132 
T
 
pos
()cÚ¡ {  
	g_pos
; }

133 
šlše
 
boŞ
 
v®id
()cÚ¡ {  
	g_pos
 <ğ
_’d
 && 
_pos
 >ğ
_¡¬t
; }

143 
šlše
 
boŞ
 
£ekp
(
size_t
 
p
è{ 
	g_pos
 = 
_¡¬t
 +…;  _po <ğ
_’d
; }

151 
šlše
 
size_t
 
‹Îp
()cÚ¡ {  size_t(
_pos
 - 
_¡¬t
); }

159 
šlše
 
size_t
 
»maššg
()cÚ¡ {  
	g_’d
 - 
	g_pos
; }

160 
	g´iv©e
:

166 
T
 
_¡¬t
;

172 
T
 
	g_pos
;

178 
T
 
	g_’d
;

185 
	g‹m¶©e
<>

186 
şass
 
	gd©a¡»am
<
	gsize_t
> {

187 
	gpublic
:

194 
d©a¡»am
Ğ
size_t
 
š™_size
 = 0):
_size
(init_size){}

203 
šlše
 
boŞ
 
sk
Ğ
size_t
 
s
 ) { 
_size
 +ğs;  
	gŒue
; }

212 
šlše
 
boŞ
 
wr™e
ĞcÚ¡ * ,
size_t
 
s
 ) { 
	g_size
 +ğs;  
	gŒue
; }

220 
šlše
 
boŞ
 
put
(è{ ++
	g_size
;  
	gŒue
; }

228 
šlše
 
boŞ
 
v®id
()cÚ¡ {  
	gŒue
; }

237 
šlše
 
boŞ
 
£ekp
(
size_t
 
p
è{ 
	g_size
 =…;  
	gŒue
; }

245 
šlše
 
size_t
 
‹Îp
()cÚ¡ {  
	g_size
; }

253 
šlše
 
size_t
 
»maššg
()const {  0; }

254 
	g´iv©e
:

260 
size_t
 
_size
;

272 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

273 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	g¡d
::
li¡
<
T
>& 
l
) {

274 
ds
 << 
unsigÃd_št
Ğ
l
.
size
() );

275 ‡utØ
	g–em
 : 
l
 )

276 
ds
 << 
–em
;

277  
	gds
;

289 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

290 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	g¡d
::
li¡
<
T
>& 
l
) {

291 
unsigÃd_št
 
s
;

292 
	gds
 >> 
	gs
;

293 
	gl
.
»size
(
s
.
v®ue
);

294 ‡uto& 
	gi
 : 
l
 )

295 
ds
 >> 
i
;

296  
	gds
;

308 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

309 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	g¡d
::
deque
<
T
>& 
d
) {

310 
ds
 << 
unsigÃd_št
Ğ
d
.
size
() );

311 ‡utØ
	g–em
 : 
d
 )

312 
ds
 << 
–em
;

313  
	gds
;

325 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

326 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	g¡d
::
deque
<
T
>& 
d
) {

327 
unsigÃd_št
 
s
;

328 
	gds
 >> 
	gs
;

329 
	gd
.
»size
(
s
.
v®ue
);

330 ‡uto& 
	gi
 : 
d
 )

331 
ds
 >> 
i
;

332  
	gds
;

344 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

345 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	geosio
::
bš¬y_ex‹nsiÚ
<
T
>& 
be
) {

346 
ds
 << 
be
.
v®ue_Ü
();

347  
	gds
;

359 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

360 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	geosio
::
bš¬y_ex‹nsiÚ
<
T
>& 
be
) {

361 ifĞ
ds
.
»maššg
() ) {

362 
T
 
v®
;

363 
	gds
 >> 
	gv®
;

364 
	gbe
.
em¶aû
(
v®
);

366  
	gds
;

378 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
, 
	gty³Çme
... 
	gTs
>

379 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	g¡d
::
v¬ŸÁ
<
Ts
...>& 
v¬
) {

380 
unsigÃd_št
 
šdex
 = 
v¬
.index();

381 
	gds
 << 
	gšdex
;

382 
	g¡d
::
vis™
([&
ds
]×uto& 
v®
){ d << v®; }, 
v¬
);

383  
	gds
;

386 
	g‹m¶©e
<
	gI
, 
ty³Çme
 
	gSŒ—m
, 
	gty³Çme
... 
	gTs
>

387 
de£rŸlize
(
d©a¡»am
<
SŒ—m
>& 
ds
, 
¡d
::
v¬ŸÁ
<
Ts
...>& 
v¬
, 
i
) {

388 
cÚ¡ex´
 (
I
 < 
¡d
::
v¬ŸÁ_size_v
<¡d::
v¬ŸÁ
<
Ts
...>>) {

389 ià(
i
 =ğ
I
) {

390 
¡d
::
v¬ŸÁ_®‹º©ive_t
<
I
, std::
v¬ŸÁ
<
Ts
...>> 
tmp
;

391 
	gds
 >> 
	gtmp
;

392 
	gv¬
 = 
¡d
::
move
(
tmp
);

394 
	gde£rŸlize
<
	gI
+1>(
	gds
,
	gv¬
,
	gi
);

397 
	geosio
::
check
(
çl£
, "invalid variant index");

410 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
, 
	gty³Çme
... 
	gTs
>

411 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	g¡d
::
v¬ŸÁ
<
Ts
...>& 
v¬
) {

412 
unsigÃd_št
 
šdex
;

413 
	gds
 >> 
	gšdex
;

414 
	gde£rŸlize
<0>(
	gds
,
	gv¬
,
	gšdex
);

415  
	gds
;

428 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT1
,y³Çm
	gT2
>

429 
	gD©aSŒ—m
& 
	gİ”©Ü
<<ĞD©aSŒ—m& 
	gds
, cÚ¡ 
	g¡d
::
·œ
<
T1
, 
	gT2
>& 
	gt
 ) {

430 
	gds
 << 
	g¡d
::
g‘
<0>(
t
);

431 
	gds
 << 
	g¡d
::
g‘
<1>(
t
);

432  
	gds
;

445 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT1
,y³Çm
	gT2
>

446 
	gD©aSŒ—m
& 
	gİ”©Ü
>>ĞD©aSŒ—m& 
	gds
, 
	g¡d
::
·œ
<
T1
, 
	gT2
>& 
	gt
 ) {

447 
T1
 
	gt1
;

448 
T2
 
	gt2
;

449 
	gds
 >> 
	gt1
;

450 
	gds
 >> 
	gt2
;

451 
	gt
 = 
¡d
::
·œ
<
T1
, 
	gT2
>{
	gt1
, 
	gt2
};

452  
	gds
;

464 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

465 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	g¡d
::
İtiÚ®
<
T
>& 
İt
) {

466 
v®id
 = 
İt
.
has_v®ue
();

467 
	gds
 << 
	gv®id
;

468 ià(
	gv®id
)

469 
	gds
 << *
	gİt
;

470  
	gds
;

482 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

483 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	g¡d
::
İtiÚ®
<
T
>& 
İt
) {

484 
v®id
 = 0;

485 
	gds
 >> 
	gv®id
;

486 ià(
	gv®id
) {

487 
T
 
	gv®
;

488 
	gds
 >> 
	gv®
;

489 
	gİt
 = 
v®
;

491  
	gds
;

503 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

504 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	geosio
::
symbŞ_code
 
sym_code
) {

505 
ušt64_t
 
¿w
 = 
sym_code
.raw();

506 
	gds
.
wr™e
Ğ(cÚ¡ *)&
¿w
, (raw));

507  
	gds
;

519 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

520 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	geosio
::
symbŞ_code
& 
sym_code
) {

521 
ušt64_t
 
¿w
 = 0;

522 
	gds
.
»ad
((*)&
¿w
, (raw));

523 
	gsym_code
 = 
symbŞ_code
(
¿w
);

524  
	gds
;

536 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

537 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	geosio
::
symbŞ
 
sym
) {

538 
ušt64_t
 
¿w
 = 
sym
.raw();

539 
	gds
.
wr™e
Ğ(cÚ¡ *)&
¿w
, (raw));

540  
	gds
;

552 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

553 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	geosio
::
symbŞ
& 
sym
) {

554 
ušt64_t
 
¿w
 = 0;

555 
	gds
.
»ad
((*)&
¿w
, (raw));

556 
	gsym
 = 
symbŞ
(
¿w
);

557  
	gds
;

569 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

570 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ ::
eosio
::
ignÜe_w¿µ”
<
T
>& 
v®
) {

571 
ds
 << 
v®
.
v®ue
;

572  
	gds
;

584 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

585 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ ::
eosio
::
ignÜe
<
T
>& 
v®
) {

586  
ds
;

598 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
,y³Çm
	gT
>

599 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, ::
eosio
::
ignÜe
<
T
>) {

600  
ds
;

612 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

613 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	gÿpi_public_key
& 
	gpubkey
) {

614 
	gds
.
wr™e
Ğ(cÚ¡ *)&
pubkey
, (pubkey));

615  
	gds
;

627 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

628 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	gÿpi_public_key
& 
	gpubkey
) {

629 
	gds
.
»ad
((*)&
pubkey
, (pubkey));

630  
	gds
;

642 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

643 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	geosio
::
public_key
& 
pubkey
) {

644 
ds
 << 
pubkey
.
ty³
;

645 
	gds
.
wr™e
Ğ
pubkey
.
d©a
.d©a(),…ubkey.d©a.
size
() );

646  
	gds
;

658 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

659 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	geosio
::
public_key
& 
pubkey
) {

660 
ds
 >> 
pubkey
.
ty³
;

661 
	gds
.
»ad
Ğ
pubkey
.
d©a
.d©a(),…ubkey.d©a.
size
() );

662  
	gds
;

674 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

675 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	geosio
::
sigÇtu»
& 
sig
) {

676 
ds
 << 
sig
.
ty³
;

677 
	gds
.
wr™e
Ğ
sig
.
d©a
.d©a(), sig.d©a.
size
() );

678  
	gds
;

690 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

691 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	geosio
::
sigÇtu»
& 
sig
) {

692 
ds
 >> 
sig
.
ty³
;

693 
	gds
.
»ad
Ğ
sig
.
d©a
.d©a(), sig.d©a.
size
() );

694  
	gds
;

706 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

707 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	gkey256
& 
	gd
) {

708 
	gds
.
wr™e
Ğ(cÚ¡ *)
d
.
d©a
(), d.
size
() );

709  
	gds
;

721 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

722 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	gkey256
& 
	gd
) {

723 
	gds
.
»ad
((*)
d
.
d©a
(), d.
size
() );

724  
	gds
;

736 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
, 
size_t
 
	gSize
>

737 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	gfixed_by‹s
<
	gSize
>& 
	gd
) {

738 autØ
	g¬r
 = 
d
.
exŒaù_as_by‹_¬¿y
();

739 
	gds
.
wr™e
Ğ(cÚ¡ *)
¬r
.
d©a
(),‡¼.
size
() );

740  
	gds
;

752 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
, 
size_t
 
	gSize
>

753 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	gfixed_by‹s
<
	gSize
>& 
	gd
) {

754 
	g¡d
::
¬¿y
<
ušt8_t
, 
	gSize
> 
	g¬r
;

755 
	gds
.
»ad
Ğ(*)
¬r
.
d©a
(),‡¼.
size
() );

756 
	gd
 = 
fixed_by‹s
<
Size
>Ğ
¬r
 );

757  
	gds
;

769 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

770 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	gboŞ
& 
	gd
) {

771  
	gds
 << 
ušt8_t
(
d
);

783 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

784 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	gboŞ
& 
	gd
) {

785 
ušt8_t
 
	gt
;

786 
	gds
 >> 
	gt
;

787 
	gd
 = 
t
;

788  
	gds
;

800 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

801 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	gÿpi_checksum256
& 
	gd
) {

802 
	gds
.
wr™e
Ğ(cÚ¡ *)&
d
.
hash
[0], (d.hash) );

803  
	gds
;

815 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

816 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	gÿpi_checksum256
& 
	gd
) {

817 
	gds
.
»ad
((*)&
d
.
hash
[0], (d.hash) );

818  
	gds
;

830 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
>

831 
	gD©aSŒ—m
& 
	gİ”©Ü
 << ( D©aSŒ—m& 
	gds
, cÚ¡ 
	g¡d
::
¡ršg
& 
v
 ) {

832 
ds
 << 
unsigÃd_št
Ğ
v
.
size
() );

833 ià(
	gv
.
size
())

834 
	gds
.
wr™e
(
v
.
d©a
(), v.
size
());

835  
	gds
;

847 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
>

848 
	gD©aSŒ—m
& 
	gİ”©Ü
 >> ( D©aSŒ—m& 
	gds
, 
	g¡d
::
¡ršg
& 
v
 ) {

849 
¡d
::
veùÜ
<> 
tmp
;

850 
	gds
 >> 
	gtmp
;

851 ifĞ
	gtmp
.
size
() )

852 
	gv
 = 
¡d
::
¡ršg
(
tmp
.
d©a
(),tmp.d©a()+tmp.
size
());

854 
	gv
 = 
¡d
::
¡ršg
();

855  
	gds
;

869 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
size_t
 
N
>

870 
D©aSŒ—m
& 
İ”©Ü
 << ( D©aSŒ—m& 
ds
, cÚ¡ 
	g¡d
::
¬¿y
<
T
,
	gN
>& 
	gv
 ) {

871  cÚ¡‡uto& 
	gi
 : 
v
 )

872 
ds
 << 
i
;

873  
	gds
;

888 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
size_t
 
N
>

889 
D©aSŒ—m
& 
İ”©Ü
 >> ( D©aSŒ—m& 
ds
, 
	g¡d
::
¬¿y
<
T
,
	gN
>& 
	gv
 ) {

890 ‡uto& 
	gi
 : 
v
 )

891 
ds
 >> 
i
;

892  
	gds
;

895 
Çme¥aû
 
	g_d©a¡»am_d‘a
 {

904 
	g‹m¶©e
<
ty³Çme
 
	gT
>

905 
cÚ¡ex´
 
boŞ
 
is_poš‹r
() {

906  
	g¡d
::
is_poš‹r
<
T
>::
v®ue
 ||

907 
¡d
::
is_nuÎ_poš‹r
<
T
>::
v®ue
 ||

908 
¡d
::
is_memb”_poš‹r
<
T
>::
v®ue
;

919 
	g‹m¶©e
<
ty³Çme
 
	gT
>

920 
cÚ¡ex´
 
boŞ
 
is_´im™ive
() {

921  
	g¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
 ||

922 
¡d
::
is_’um
<
T
>::
v®ue
;

936 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
’abË_if_t
<
_d©a¡»am_d‘a
::
is_poš‹r
<
T
>()>* = 
nuÎ±r
>

937 
D©aSŒ—m
& 
İ”©Ü
 >> ( D©aSŒ—m& 
ds
, 
	gT
 ) {

938 
¡©ic_as£¹
(!
_d©a¡»am_d‘a
::
is_poš‹r
<
T
>(), "Pointers should‚ot be serialized" );

939  
	gds
;

952 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
size_t
 
N
,

953 
	g¡d
::
’abË_if_t
<!
_d©a¡»am_d‘a
::
is_´im™ive
<
T
>() &&

954 !
_d©a¡»am_d‘a
::
is_poš‹r
<
T
>()>* = 
nuÎ±r
>

955 
D©aSŒ—m
& 
İ”©Ü
 << ( D©aSŒ—m& 
ds
, cÚ¡ 
T
 (&
v
)[
N
] ) {

956 
	gds
 << 
unsigÃd_št
Ğ
N
 );

957  
ušt32_t
 
	gi
 = 0; i < 
	gN
; ++i )

958 
	gds
 << 
	gv
[
i
];

959  
	gds
;

972 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
size_t
 
N
,

973 
	g¡d
::
’abË_if_t
<
_d©a¡»am_d‘a
::
is_´im™ive
<
T
>()>* = 
nuÎ±r
>

974 
D©aSŒ—m
& 
İ”©Ü
 << ( D©aSŒ—m& 
ds
, cÚ¡ 
T
 (&
v
)[
N
] ) {

975 
	gds
 << 
unsigÃd_št
Ğ
N
 );

976 
	gds
.
wr™e
((*)&
v
[0], (v));

977  
	gds
;

991 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
size_t
 
N
,

992 
	g¡d
::
’abË_if_t
<!
_d©a¡»am_d‘a
::
is_´im™ive
<
T
>() &&

993 !
_d©a¡»am_d‘a
::
is_poš‹r
<
T
>()>* = 
nuÎ±r
>

994 
D©aSŒ—m
& 
İ”©Ü
 >> ( D©aSŒ—m& 
ds
, 
T
 (&
v
)[
N
] ) {

995 
unsigÃd_št
 
	gs
;

996 
	gds
 >> 
	gs
;

997 
	geosio
::
check
Ğ
N
 =ğ
s
.
v®ue
, "T[] size‡nd unpacked size don't match");

998  
ušt32_t
 
	gi
 = 0; i < 
	gN
; ++i )

999 
	gds
 >> 
	gv
[
i
];

1000  
	gds
;

1014 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
size_t
 
N
,

1015 
	g¡d
::
’abË_if_t
<
_d©a¡»am_d‘a
::
is_´im™ive
<
T
>()>* = 
nuÎ±r
>

1016 
D©aSŒ—m
& 
İ”©Ü
 >> ( D©aSŒ—m& 
ds
, 
T
 (&
v
)[
N
] ) {

1017 
unsigÃd_št
 
	gs
;

1018 
	gds
 >> 
	gs
;

1019 
	geosio
::
check
Ğ
N
 =ğ
s
.
v®ue
, "T[] size‡nd unpacked size don't match");

1020 
	gds
.
»ad
((*)&
v
[0], (v));

1021  
	gds
;

1033 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
>

1034 
	gD©aSŒ—m
& 
	gİ”©Ü
 << ( D©aSŒ—m& 
	gds
, cÚ¡ 
	g¡d
::
veùÜ
<>& 
v
 ) {

1035 
ds
 << 
unsigÃd_št
Ğ
v
.
size
() );

1036 
	gds
.
wr™e
Ğ
v
.
d©a
(), v.
size
() );

1037  
	gds
;

1050 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
>

1051 
	gD©aSŒ—m
& 
	gİ”©Ü
 << ( D©aSŒ—m& 
	gds
, cÚ¡ 
	g¡d
::
veùÜ
<
T
>& 
v
 ) {

1052 
ds
 << 
unsigÃd_št
Ğ
v
.
size
() );

1053  cÚ¡‡uto& 
	gi
 : 
v
 )

1054 
ds
 << 
i
;

1055  
	gds
;

1067 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
>

1068 
	gD©aSŒ—m
& 
	gİ”©Ü
 >> ( D©aSŒ—m& 
	gds
, 
	g¡d
::
veùÜ
<>& 
v
 ) {

1069 
unsigÃd_št
 
s
;

1070 
	gds
 >> 
	gs
;

1071 
	gv
.
»size
Ğ
s
.
v®ue
 );

1072 
	gds
.
»ad
Ğ
v
.
d©a
(), v.
size
() );

1073  
	gds
;

1086 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
>

1087 
	gD©aSŒ—m
& 
	gİ”©Ü
 >> ( D©aSŒ—m& 
	gds
, 
	g¡d
::
veùÜ
<
T
>& 
v
 ) {

1088 
unsigÃd_št
 
s
;

1089 
	gds
 >> 
	gs
;

1090 
	gv
.
»size
(
s
.
v®ue
);

1091 ‡uto& 
	gi
 : 
v
 )

1092 
ds
 >> 
i
;

1093  
	gds
;

1106 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
>

1107 
	gD©aSŒ—m
& 
	gİ”©Ü
 << ( D©aSŒ—m& 
	gds
, cÚ¡ 
	g¡d
::
£t
<
T
>& 
s
 ) {

1108 
ds
 << 
unsigÃd_št
Ğ
s
.
size
() );

1109  cÚ¡‡uto& 
	gi
 : 
s
 ) {

1110 
ds
 << 
i
;

1112  
	gds
;

1126 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
>

1127 
	gD©aSŒ—m
& 
	gİ”©Ü
 >> ( D©aSŒ—m& 
	gds
, 
	g¡d
::
£t
<
T
>& 
s
 ) {

1128 
s
.
ş—r
();

1129 
unsigÃd_št
 
	gsz
; 
	gds
 >> sz;

1131  
ušt32_t
 
	gi
 = 0; i < 
	gsz
.
	gv®ue
; ++i ) {

1132 
T
 
	gv
;

1133 
	gds
 >> 
	gv
;

1134 
	gs
.
em¶aû
Ğ
¡d
::
move
(
v
) );

1136  
	gds
;

1150 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gK
,y³Çm
	gV
>

1151 
	gD©aSŒ—m
& 
	gİ”©Ü
 << ( D©aSŒ—m& 
	gds
, cÚ¡ 
	g¡d
::
m­
<
K
,
	gV
>& 
	gm
 ) {

1152 
	gds
 << 
unsigÃd_št
Ğ
m
.
size
() );

1153  cÚ¡‡uto& 
	gi
 : 
m
 ) {

1154 
ds
 << 
i
.
fœ¡
 << i.
£cÚd
;

1156  
	gds
;

1170 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gK
,y³Çm
	gV
>

1171 
	gD©aSŒ—m
& 
	gİ”©Ü
 >> ( D©aSŒ—m& 
	gds
, 
	g¡d
::
m­
<
K
,
	gV
>& 
	gm
 ) {

1172 
	gm
.
ş—r
();

1173 
unsigÃd_št
 
	gs
; 
	gds
 >> s;

1175 
ušt32_t
 
	gi
 = 0; i < 
	gs
.
	gv®ue
; ++i) {

1176 
K
 
	gk
; 
V
 
	gv
;

1177 
	gds
 >> 
	gk
 >> 
	gv
;

1178 
	gm
.
em¶aû
Ğ
¡d
::
move
(
k
), std::move(
v
) );

1180  
	gds
;

1194 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
>

1195 [[ 
d•»ÿ‹d
 ]]

1196 
	gD©aSŒ—m
& 
	gİ”©Ü
 << ( D©aSŒ—m& 
	gds
, cÚ¡ 
	gboo¡
::
cÚš”
::
æ©_£t
<
T
>& 
s
 ) {

1197 
ds
 << 
unsigÃd_št
Ğ
s
.
size
() );

1198  cÚ¡‡uto& 
	gi
 : 
s
 ) {

1199 
ds
 << 
i
;

1201  
	gds
;

1214 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
>

1215 [[ 
d•»ÿ‹d
 ]]

1216 
	gD©aSŒ—m
& 
	gİ”©Ü
 >> ( D©aSŒ—m& 
	gds
, 
	gboo¡
::
cÚš”
::
æ©_£t
<
T
>& 
s
 ) {

1217 
s
.
ş—r
();

1218 
unsigÃd_št
 
	gsz
; 
	gds
 >> sz;

1220  
ušt32_t
 
	gi
 = 0; i < 
	gsz
.
	gv®ue
; ++i ) {

1221 
T
 
	gv
;

1222 
	gds
 >> 
	gv
;

1223 
	gs
.
em¶aû
Ğ
¡d
::
move
(
v
) );

1225  
	gds
;

1240 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gK
,y³Çm
	gV
>

1241 [[ 
d•»ÿ‹d
 ]]

1242 
	gD©aSŒ—m
& 
	gİ”©Ü
<<ĞD©aSŒ—m& 
	gds
, cÚ¡ 
	gboo¡
::
cÚš”
::
æ©_m­
<
K
,
	gV
>& 
	gm
 ) {

1243 
	gds
 << 
unsigÃd_št
Ğ
m
.
size
() );

1244  cÚ¡‡uto& 
	gi
 : 
m
 )

1245 
ds
 << 
i
.
fœ¡
 << i.
£cÚd
;

1246  
	gds
;

1260 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gK
,y³Çm
	gV
>

1261 [[ 
d•»ÿ‹d
 ]]

1262 
	gD©aSŒ—m
& 
	gİ”©Ü
>>ĞD©aSŒ—m& 
	gds
, 
	gboo¡
::
cÚš”
::
æ©_m­
<
K
,
	gV
>& 
	gm
 ) {

1263 
	gm
.
ş—r
();

1264 
unsigÃd_št
 
	gs
; 
	gds
 >> s;

1266  
ušt32_t
 
	gi
 = 0; i < 
	gs
.
	gv®ue
; ++i ) {

1267 
K
 
	gk
; 
V
 
	gv
;

1268 
	gds
 >> 
	gk
 >> 
	gv
;

1269 
	gm
.
em¶aû
Ğ
¡d
::
move
(
k
), std::move(
v
) );

1271  
	gds
;

1284 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
, 
	gty³Çme
... 
	gArgs
>

1285 
	gD©aSŒ—m
& 
	gİ”©Ü
<<ĞD©aSŒ—m& 
	gds
, cÚ¡ 
	g¡d
::
tu¶e
<
Args
...>& 
t
 ) {

1286 
boo¡
::
fusiÚ
::
fÜ_—ch
Ğ
t
, [&]ĞcÚ¡‡uto& 
i
 ) {

1287 
ds
 << 
i
;

1289  
	gds
;

1302 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
, 
	gty³Çme
... 
	gArgs
>

1303 
	gD©aSŒ—m
& 
	gİ”©Ü
>>ĞD©aSŒ—m& 
	gds
, 
	g¡d
::
tu¶e
<
Args
...>& 
t
 ) {

1304 
boo¡
::
fusiÚ
::
fÜ_—ch
Ğ
t
, [&]Ğauto& 
i
 ) {

1305 
ds
 >> 
i
;

1307  
	gds
;

1320 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
’abË_if_t
<
¡d
::
is_şass
<
T
>::
v®ue
>* = 
nuÎ±r
>

1321 
D©aSŒ—m
& 
İ”©Ü
<<ĞD©aSŒ—m& 
ds
, cÚ¡ 
	gT
& 
	gv
 ) {

1322 
	gboo¡
::
pä
::
fÜ_—ch_f›ld
(
v
, [&](cÚ¡‡uto& 
f›ld
) {

1323 
ds
 << 
f›ld
;

1325  
	gds
;

1338 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
’abË_if_t
<
¡d
::
is_şass
<
T
>::
v®ue
>* = 
nuÎ±r
>

1339 
D©aSŒ—m
& 
İ”©Ü
>>ĞD©aSŒ—m& 
ds
, 
	gT
& 
	gv
 ) {

1340 
	gboo¡
::
pä
::
fÜ_—ch_f›ld
(
v
, [&]×uto& 
f›ld
) {

1341 
ds
 >> 
f›ld
;

1343  
	gds
;

1356 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
’abË_if_t
<
_d©a¡»am_d‘a
::
is_´im™ive
<
T
>()>* = 
nuÎ±r
>

1357 
D©aSŒ—m
& 
İ”©Ü
<<ĞD©aSŒ—m& 
ds
, cÚ¡ 
	gT
& 
	gv
 ) {

1358 
	gds
.
wr™e
Ğ(cÚ¡ *)&
v
, (
T
) );

1359  
	gds
;

1372 
	g‹m¶©e
<
ty³Çme
 
	gD©aSŒ—m
,y³Çm
	gT
, 
	g¡d
::
’abË_if_t
<
_d©a¡»am_d‘a
::
is_´im™ive
<
T
>()>* = 
nuÎ±r
>

1373 
D©aSŒ—m
& 
İ”©Ü
>>ĞD©aSŒ—m& 
ds
, 
	gT
& 
	gv
 ) {

1374 
	gds
.
»ad
Ğ(*)&
v
, (
T
) );

1375  
	gds
;

1395 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1396 
T
 
	$uÅack
ĞcÚ¡ * 
bufãr
, 
size_t
 
Ën
 ) {

1397 
T
 
»suÉ
;

1398 
d©a¡»am
<cÚ¡ *> 
	`ds
(
bufãr
,
Ën
);

1399 
ds
 >> 
»suÉ
;

1400  
»suÉ
;

1401 
	}
}

1411 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1412 
T
 
uÅack
ĞcÚ¡ 
¡d
::
veùÜ
<>& 
by‹s
 ) {

1413  
uÅack
<
T
>Ğ
by‹s
.
d©a
(), 
	gby‹s
.
size
() );

1424 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1425 
size_t
 
	$·ck_size
ĞcÚ¡ 
T
& 
v®ue
 ) {

1426 
d©a¡»am
<
size_t
> 
ps
;

1427 
ps
 << 
v®ue
;

1428  
ps
.
	`‹Îp
();

1429 
	}
}

1439 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1440 
	g¡d
::
veùÜ
<> 
	$·ck
ĞcÚ¡ 
T
& 
v®ue
 ) {

1441 
¡d
::
veùÜ
<> 
»suÉ
;

1442 
»suÉ
.
	`»size
(
	`·ck_size
(
v®ue
));

1444 
d©a¡»am
<*> 
	`ds
Ğ
»suÉ
.
	`d©a
(),„esuÉ.
	`size
() );

1445 
ds
 << 
v®ue
;

1446  
»suÉ
;

1447 
	}
}

1460 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

1461 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	gÿpi_checksum160
& 
	gcs
) {

1462 
	gds
.
wr™e
((cÚ¡ *)&
cs
.
hash
[0], (cs.hash));

1463  
	gds
;

1475 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

1476 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	gÿpi_checksum160
& 
	gcs
) {

1477 
	gds
.
»ad
((*)&
cs
.
hash
[0], (cs.hash));

1478  
	gds
;

1490 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

1491 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
<<(d©a¡»am<SŒ—m>& 
	gds
, cÚ¡ 
	gÿpi_checksum512
& 
	gcs
) {

1492 
	gds
.
wr™e
((cÚ¡ *)&
cs
.
hash
[0], (cs.hash));

1493  
	gds
;

1505 
	g‹m¶©e
<
ty³Çme
 
	gSŒ—m
>

1506 
šlše
 
	gd©a¡»am
<
	gSŒ—m
>& 
	gİ”©Ü
>>(d©a¡»am<SŒ—m>& 
	gds
, 
	gÿpi_checksum512
& 
	gcs
) {

1507 
	gds
.
»ad
((*)&
cs
.
hash
[0], (cs.hash));

1508  
	gds
;

	@db.h

6 #´agm¨
Úû


7 
	~<eosiŞib/ty³s.h
>

46 
št32_t
 
db_¡Üe_i64
(
ušt64_t
 
scİe
, 
ÿpi_Çme
 
bË
, c­i_Çm
·y”
, ušt64_ˆ
id
, cÚ¡ * 
d©a
, 
ušt32_t
 
Ën
);

62 
db_upd©e_i64
(
št32_t
 
™”©Ü
, 
ÿpi_Çme
 
·y”
, cÚ¡ * 
d©a
, 
ušt32_t
 
Ën
);

81 
db_»move_i64
(
št32_t
 
™”©Ü
);

105 
št32_t
 
db_g‘_i64
(št32_ˆ
™”©Ü
, cÚ¡ * 
d©a
, 
ušt32_t
 
Ën
);

128 
št32_t
 
db_Ãxt_i64
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

148 
št32_t
 
db_´evious_i64
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

167 
št32_t
 
db_fšd_i64
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, ušt64_ˆ
id
);

181 
št32_t
 
db_low”bound_i64
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, ušt64_ˆ
id
);

195 
št32_t
 
db_uµ”bound_i64
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, ušt64_ˆ
id
);

207 
št32_t
 
db_’d_i64
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
);

222 
št32_t
 
db_idx64_¡Üe
(
ušt64_t
 
scİe
, 
ÿpi_Çme
 
bË
, c­i_Çm
·y”
, ušt64_ˆ
id
, cÚ¡ ušt64_t* 
£cÚd¬y
);

235 
db_idx64_upd©e
(
št32_t
 
™”©Ü
, 
ÿpi_Çme
 
·y”
, cÚ¡ 
ušt64_t
* 
£cÚd¬y
);

246 
db_idx64_»move
(
št32_t
 
™”©Ü
);

259 
št32_t
 
db_idx64_Ãxt
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

272 
št32_t
 
db_idx64_´evious
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

287 
št32_t
 
db_idx64_fšd_´im¬y
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, ušt64_t* 
£cÚd¬y
, ušt64_ˆ
´im¬y
);

302 
št32_t
 
db_idx64_fšd_£cÚd¬y
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, cÚ¡ ušt64_t* 
£cÚd¬y
, ušt64_t* 
´im¬y
);

319 
št32_t
 
db_idx64_low”bound
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, ušt64_t* 
£cÚd¬y
, ušt64_t* 
´im¬y
);

336 
št32_t
 
db_idx64_uµ”bound
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, ušt64_t* 
£cÚd¬y
, ušt64_t* 
´im¬y
);

348 
št32_t
 
db_idx64_’d
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
);

365 
št32_t
 
db_idx128_¡Üe
(
ušt64_t
 
scİe
, 
ÿpi_Çme
 
bË
, c­i_Çm
·y”
, ušt64_ˆ
id
, cÚ¡ 
ušt128_t
* 
£cÚd¬y
);

378 
db_idx128_upd©e
(
št32_t
 
™”©Ü
, 
ÿpi_Çme
 
·y”
, cÚ¡ 
ušt128_t
* 
£cÚd¬y
);

389 
db_idx128_»move
(
št32_t
 
™”©Ü
);

402 
št32_t
 
db_idx128_Ãxt
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

415 
št32_t
 
db_idx128_´evious
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

430 
št32_t
 
db_idx128_fšd_´im¬y
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, 
ušt128_t
* 
£cÚd¬y
, ušt64_ˆ
´im¬y
);

445 
št32_t
 
db_idx128_fšd_£cÚd¬y
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, cÚ¡ 
ušt128_t
* 
£cÚd¬y
, ušt64_t* 
´im¬y
);

462 
št32_t
 
db_idx128_low”bound
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, 
ušt128_t
* 
£cÚd¬y
, ušt64_t* 
´im¬y
);

479 
št32_t
 
db_idx128_uµ”bound
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, 
ušt128_t
* 
£cÚd¬y
, ušt64_t* 
´im¬y
);

491 
št32_t
 
db_idx128_’d
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
);

507 
št32_t
 
db_idx256_¡Üe
(
ušt64_t
 
scİe
, 
ÿpi_Çme
 
bË
, c­i_Çm
·y”
, ušt64_ˆ
id
, cÚ¡ 
ušt128_t
* 
d©a
, 
ušt32_t
 
d©a_Ën
 );

521 
db_idx256_upd©e
(
št32_t
 
™”©Ü
, 
ÿpi_Çme
 
·y”
, cÚ¡ 
ušt128_t
* 
d©a
, 
ušt32_t
 
d©a_Ën
);

532 
db_idx256_»move
(
št32_t
 
™”©Ü
);

545 
št32_t
 
db_idx256_Ãxt
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

558 
št32_t
 
db_idx256_´evious
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

574 
št32_t
 
db_idx256_fšd_´im¬y
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, 
ušt128_t
* 
d©a
, 
ušt32_t
 
d©a_Ën
, ušt64_ˆ
´im¬y
);

590 
št32_t
 
db_idx256_fšd_£cÚd¬y
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, cÚ¡ 
ušt128_t
* 
d©a
, 
ušt32_t
 
d©a_Ën
, ušt64_t* 
´im¬y
);

608 
št32_t
 
db_idx256_low”bound
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, 
ušt128_t
* 
d©a
, 
ušt32_t
 
d©a_Ën
, ušt64_t* 
´im¬y
);

626 
št32_t
 
db_idx256_uµ”bound
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, 
ušt128_t
* 
d©a
, 
ušt32_t
 
d©a_Ën
, ušt64_t* 
´im¬y
);

638 
št32_t
 
db_idx256_’d
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
);

653 
št32_t
 
db_idx_doubË_¡Üe
(
ušt64_t
 
scİe
, 
ÿpi_Çme
 
bË
, c­i_Çm
·y”
, ušt64_ˆ
id
, cÚ¡ * 
£cÚd¬y
);

666 
db_idx_doubË_upd©e
(
št32_t
 
™”©Ü
, 
ÿpi_Çme
 
·y”
, cÚ¡ * 
£cÚd¬y
);

677 
db_idx_doubË_»move
(
št32_t
 
™”©Ü
);

690 
št32_t
 
db_idx_doubË_Ãxt
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

703 
št32_t
 
db_idx_doubË_´evious
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

718 
št32_t
 
db_idx_doubË_fšd_´im¬y
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, * 
£cÚd¬y
, ušt64_ˆ
´im¬y
);

733 
št32_t
 
db_idx_doubË_fšd_£cÚd¬y
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, cÚ¡ * 
£cÚd¬y
, ušt64_t* 
´im¬y
);

750 
št32_t
 
db_idx_doubË_low”bound
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, * 
£cÚd¬y
, ušt64_t* 
´im¬y
);

767 
št32_t
 
db_idx_doubË_uµ”bound
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, * 
£cÚd¬y
, ušt64_t* 
´im¬y
);

779 
št32_t
 
db_idx_doubË_’d
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
);

794 
št32_t
 
db_idx_lÚg_doubË_¡Üe
(
ušt64_t
 
scİe
, 
ÿpi_Çme
 
bË
, c­i_Çm
·y”
, ušt64_ˆ
id
, cÚ¡ * 
£cÚd¬y
);

807 
db_idx_lÚg_doubË_upd©e
(
št32_t
 
™”©Ü
, 
ÿpi_Çme
 
·y”
, cÚ¡ * 
£cÚd¬y
);

818 
db_idx_lÚg_doubË_»move
(
št32_t
 
™”©Ü
);

831 
št32_t
 
db_idx_lÚg_doubË_Ãxt
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

844 
št32_t
 
db_idx_lÚg_doubË_´evious
(št32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
);

859 
št32_t
 
db_idx_lÚg_doubË_fšd_´im¬y
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, * 
£cÚd¬y
, ušt64_ˆ
´im¬y
);

874 
št32_t
 
db_idx_lÚg_doubË_fšd_£cÚd¬y
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, cÚ¡ * 
£cÚd¬y
, ušt64_t* 
´im¬y
);

891 
št32_t
 
db_idx_lÚg_doubË_low”bound
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, * 
£cÚd¬y
, ušt64_t* 
´im¬y
);

908 
št32_t
 
db_idx_lÚg_doubË_uµ”bound
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
, * 
£cÚd¬y
, ušt64_t* 
´im¬y
);

920 
št32_t
 
db_idx_lÚg_doubË_’d
(
ÿpi_Çme
 
code
, 
ušt64_t
 
scİe
, c­i_Çm
bË
);

	@dispatcher.hpp

1 #´agm¨
Úû


2 
	~<eosiŞib/´št.hµ
>

3 
	~<eosiŞib/aùiÚ.hµ
>

5 
	~<boo¡/fusiÚ/ad­‹d/¡d_tu¶e.hµ
>

6 
	~<boo¡/fusiÚ/šşude/¡d_tu¶e.hµ
>

8 
	~<boo¡/mp11/tu¶e.hµ
>

10 
Çme¥aû
 
	geosio
 {

12 
	g‹m¶©e
<
ty³Çme
 
	gCÚŒaù
,y³Çm
	gFœ¡AùiÚ
>

13 
boŞ
 
di¥©ch
Ğ
ušt64_t
 
code
, ušt64_ˆ
aù
 ) {

14 ifĞ
	gcode
 =ğ
Fœ¡AùiÚ
::
g‘_accouÁ
(è&& Fœ¡AùiÚ::
g‘_Çme
(è=ğ
aù
 ) {

15 
CÚŒaù
().
Ú
Ğ
uÅack_aùiÚ_d©a
<
Fœ¡AùiÚ
>() );

16  
	gŒue
;

18  
	gçl£
;

32 
	g‹m¶©e
<
ty³Çme
 
	gCÚŒaù
,y³Çm
	gFœ¡AùiÚ
,y³Çm
	gSecÚdAùiÚ
, 
	gty³Çme
... 
	gAùiÚs
>

33 
boŞ
 
di¥©ch
Ğ
ušt64_t
 
code
, ušt64_ˆ
aù
 ) {

34 ifĞ
	gcode
 =ğ
Fœ¡AùiÚ
::
g‘_accouÁ
(è&& Fœ¡AùiÚ::
g‘_Çme
(è=ğ
aù
 ) {

35 
CÚŒaù
().
Ú
Ğ
uÅack_aùiÚ_d©a
<
Fœ¡AùiÚ
>() );

36  
	gŒue
;

38  
	geosio
::
di¥©ch
<
CÚŒaù
,
	gSecÚdAùiÚ
,
	gAùiÚs
...>Ğ
	gcode
, 
	gaù
 );

58 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gty³Çme
... 
	gArgs
>

59 
boŞ
 
execu‹_aùiÚ
Ğ
Çme
 
£lf
,‚am
code
, (
T
::*
func
)(
Args
...) ) {

60 
size_t
 
size
 = 
aùiÚ_d©a_size
();

63 
cÚ¡ex´
 
size_t
 
	gmax_¡ack_bufãr_size
 = 512;

64 * 
	gbufãr
 = 
nuÎ±r
;

65 ifĞ
	gsize
 > 0 ) {

66 
	gbufãr
 = 
max_¡ack_bufãr_size
 < 
size
 ? 
m®loc
(sizeè: 
®loÿ
(size);

67 
»ad_aùiÚ_d©a
Ğ
bufãr
, 
size
 );

70 
	g¡d
::
tu¶e
<
¡d
::
deÿy_t
<
Args
>...> 
¬gs
;

71 
	gd©a¡»am
<cÚ¡ *> 
ds
((*)
bufãr
, 
size
);

72 
	gds
 >> 
	g¬gs
;

74 
T
 
š¡
(
£lf
, 
code
, 
ds
);

76 autØ
	gf2
 = [&]Ğauto... 
a
 ){

77 ((&
š¡
)->*
func
)Ğ
a
... );

80 
	gboo¡
::
mp11
::
tu¶e_­¶y
Ğ
f2
, 
¬gs
 );

81 iàĞ
	gmax_¡ack_bufãr_size
 < 
	gsize
 ) {

82 
ä“
(
bufãr
);

84  
	gŒue
;

92 
	#EOSIO_DISPATCH_INTERNAL
Ğ
r
, 
OP
, 
–em
 ) \

93 
eosio
::
	`Çme
Ğ
	`BOOST_PP_STRINGIZE
(
–em
è).
v®ue
: \

94 
eosio
::
	`execu‹_aùiÚ
Ğeosio::
	`Çme
(
»ûiv”
),ƒosio::Çme(
code
), &
OP
::
–em
 ); \

95 ;

	)

98 
	#EOSIO_DISPATCH_HELPER
Ğ
TYPE
, 
MEMBERS
 ) \

99 
	`BOOST_PP_SEQ_FOR_EACH
Ğ
EOSIO_DISPATCH_INTERNAL
, 
TYPE
, 
MEMBERS
 )

	)

116 
	#EOSIO_DISPATCH
Ğ
TYPE
, 
MEMBERS
 ) \

118 
	`­¶y
Ğ
ušt64_t
 
»ûiv”
, ušt64_ˆ
code
, ušt64_ˆ
aùiÚ
 ) { \

119 ifĞ
code
 =ğ
»ûiv”
 ) { \

120  
aùiÚ
 ) { \

121 
	`EOSIO_DISPATCH_HELPER
Ğ
TYPE
, 
MEMBERS
 ) \

127 

	)

	@eosio.hpp

5 #´agm¨
Úû


6 
	~"aùiÚ.hµ
"

7 
	~"´št.hµ
"

8 
	~"muÉi_šdex.hµ
"

9 
	~"di¥©ch”.hµ
"

10 
	~"cÚŒaù.hµ
"

12 #iâdeà
EOSIO_NATIVE


13 
¡©ic_as£¹
( () == (), "unexpected size difference" );

19 
	#CONTRACT
 
şass
 [[
eosio
::
cÚŒaù
]]

	)

20 
	#ACTION
 [[
eosio
::
aùiÚ
]] 

	)

21 
	#TABLE
 [[
eosio
::
bË
]]

	)

	@eosiolib.cpp

1 
	~"d©a¡»am.hµ
"

2 
	~"memÜy.hµ
"

3 
	~"´iveged.hµ
"

5 #ifdeà
EOSIO_NATIVE


7 
size_t
 
__butš_wasm_cu¼’t_memÜy
();

8 
size_t
 
__butš_wasm_grow_memÜy
(size_t);

12 * 
	$sbrk
(
size_t
 
num_by‹s
) {

13 
cÚ¡ex´
 
ušt32_t
 
NBPPL2
 = 16U;

14 
cÚ¡ex´
 
ušt32_t
 
NBBP
 = 65536U;

16 
boŞ
 
š™Ÿlized
;

17 
ušt32_t
 
sbrk_by‹s
;

18 if(!
š™Ÿlized
) {

19 
sbrk_by‹s
 = 
	`__butš_wasm_cu¼’t_memÜy
(è* 
NBBP
;

20 
š™Ÿlized
 = 
Œue
;

23 if(
num_by‹s
 > 
INT32_MAX
)

24  
»š‹½»t_ÿ¡
<*>(-1);

27 cÚ¡ 
ušt32_t
 
´ev_num_by‹s
 = 
sbrk_by‹s
;

28 cÚ¡ 
ušt32_t
 
cu¼’t_·ges
 = 
	`__butš_wasm_cu¼’t_memÜy
();

31 
num_by‹s
 = (num_bytes + 7U) & ~7U;

34 cÚ¡ 
ušt32_t
 
num_desœed_·ges
 = (
sbrk_by‹s
 + 
num_by‹s
 + 
NBBP
 - 1è>> 
NBPPL2
;

36 if(
num_desœed_·ges
 > 
cu¼’t_·ges
) {

39 
	`__butš_wasm_grow_memÜy
(
num_desœed_·ges
 - 
cu¼’t_·ges
);

40 if(
num_desœed_·ges
 !ğ
	`__butš_wasm_cu¼’t_memÜy
())

41  
»š‹½»t_ÿ¡
<*>(-1);

44 
sbrk_by‹s
 +ğ
num_by‹s
;

45  
»š‹½»t_ÿ¡
<*>(
´ev_num_by‹s
);

46 
	}
}

48 
Çme¥aû
 
eosio
 {

50 
£t_blockchaš_·¿m‘”s
(cÚ¡ 
eosio
::
blockchaš_·¿m‘”s
& 
·¿ms
) {

51 
buf
[(
eosio
::
blockchaš_·¿m‘”s
)];

52 
eosio
::
d©a¡»am
<*> 
ds
Ğ
buf
, (buf) );

53 
ds
 << 
·¿ms
;

54 
£t_blockchaš_·¿m‘”s_·cked
Ğ
buf
, 
ds
.
‹Îp
() );

57 
g‘_blockchaš_·¿m‘”s
(
eosio
::
blockchaš_·¿m‘”s
& 
·¿ms
) {

58 
buf
[(
eosio
::
blockchaš_·¿m‘”s
)];

59 
size_t
 
size
 = 
g‘_blockchaš_·¿m‘”s_·cked
Ğ
buf
, (buf) );

60 
eosio
::
check
Ğ
size
 <ğ(
buf
), "buffer isoo small" );

61 
eosio
::
d©a¡»am
<cÚ¡ *> 
ds
Ğ
buf
, 
size_t
(
size
) );

62 
ds
 >> 
·¿ms
;

65 
usšg
 ::
mem£t
;

66 
usšg
 ::
memıy
;

70 şas 
	cmemÜy_mªag”


72 
ä›nd
 * ::
m®loc
(
size_t
 
size
);

73 
ä›nd
 * ::
ÿÎoc
(
size_t
 
couÁ
, size_ˆ
size
);

74 
ä›nd
 * ::
»®loc
(* 
±r
, 
size_t
 
size
);

75 
ä›nd
 ::
ä“
(* 
±r
);

76 
public
:

77 
memÜy_mªag”
()

80 : 
_h—ps_aùu®_size
(0)

81 , 
_aùive_h—p
(0)

82 , 
_aùive_ä“_h—p
(0)

86 
´iv©e
:

87 
şass
 
memÜy
;

89 
memÜy
* 
Ãxt_aùive_h—p
()

91 
cÚ¡ex´
 
ušt32_t
 
wasm_·ge_size
 = 64*1024;

92 
memÜy
* cÚ¡ 
cu¼’t_memÜy
 = 
_avaabË_h—ps
 + 
_aùive_h—p
;

94 cÚ¡ 
ušt32_t
 
cu¼’t_memÜy_size
 = 
»š‹½»t_ÿ¡
<ušt32_t>(
sbrk
(0));

95 if(
¡©ic_ÿ¡
<
št32_t
>(
cu¼’t_memÜy_size
) < 0)

96  
nuÎ±r
;

100 
ušt32_t
 
h—p_adj
;

101 if(
cu¼’t_memÜy_size
 % 
wasm_·ge_size
 <= wasm_page_size-1024)

102 
h—p_adj
 = (
cu¼’t_memÜy_size
 + 
wasm_·ge_size
) - (current_memory_size % wasm_page_size) - current_memory_size;

104 
h—p_adj
 = (
cu¼’t_memÜy_size
 + 
wasm_·ge_size
*2) - (current_memory_size % (wasm_page_size*2)) - current_memory_size;

105 * 
Ãw_memÜy_¡¬t
 = 
»š‹½»t_ÿ¡
<*>(
sbrk
(
h—p_adj
));

106 if(
»š‹½»t_ÿ¡
<
št32_t
>(
Ãw_memÜy_¡¬t
) == -1) {

108 
cu¼’t_memÜy
->
ş—nup_»maššg
();

109 ++
_aùive_h—p
;

110 
_h—ps_aùu®_size
 = 
_aùive_h—p
;

111  
nuÎ±r
;

115 ià(
cu¼’t_memÜy
->
ex·nd_memÜy
(
Ãw_memÜy_¡¬t
, 
h—p_adj
))

116  
cu¼’t_memÜy
;

119 
cu¼’t_memÜy
->
ş—nup_»maššg
();

121 ++
_aùive_h—p
;

122 
memÜy
* cÚ¡ 
Ãxt
 = 
_avaabË_h—ps
 + 
_aùive_h—p
;

123 
Ãxt
->
š™
(
Ãw_memÜy_¡¬t
, 
h—p_adj
);

125  
Ãxt
;

128 * 
m®loc
(
ušt32_t
 
size
)

130 ià(
size
 == 0)

131  
nuÎ±r
;

134 ià(
_h—ps_aùu®_size
 == 0)

135 
_h—ps_aùu®_size
 = 
_h—ps_size
;

137 
adju¡_to_mem_block
(
size
);

140 * 
bufãr
 = 
nuÎ±r
;

141 
memÜy
* 
cu¼’t
 = 
nuÎ±r
;

143 ià(
_aùive_h—p
 < 
_h—ps_aùu®_size
)

145 
memÜy
* cÚ¡ 
¡¬t_h—p
 = &
_avaabË_h—ps
[
_aùive_h—p
];

147 if(
_aùive_h—p
 =ğ0 && !
¡¬t_h—p
->
is_š™
())

149 
¡¬t_h—p
->
š™
(
_š™Ÿl_h—p
, 
_š™Ÿl_h—p_size
);

152 
cu¼’t
 = 
¡¬t_h—p
;

155 
cu¼’t
 !ğ
nuÎ±r
)

157 
bufãr
 = 
cu¼’t
->
m®loc
(
size
);

159 ià(
bufãr
 !ğ
nuÎ±r
)

162 
cu¼’t
 = 
Ãxt_aùive_h—p
();

165 ià(
bufãr
 =ğ
nuÎ±r
)

167 cÚ¡ 
ušt32_t
 
’d_ä“_h—p
 = 
_aùive_ä“_h—p
;

171 
bufãr
 = 
_avaabË_h—ps
[
_aùive_ä“_h—p
].
m®loc_äom_ä“d
(
size
);

173 ià(
bufãr
 !ğ
nuÎ±r
)

176 ià(++
_aùive_ä“_h—p
 =ğ
_h—ps_aùu®_size
)

177 
_aùive_ä“_h—p
 = 0;

179 } 
_aùive_ä“_h—p
 !ğ
’d_ä“_h—p
);

182  
bufãr
;

185 * 
»®loc
(* 
±r
, 
ušt32_t
 
size
)

187 ià(
size
 == 0)

189 
ä“
(
±r
);

190  
nuÎ±r
;

193 
adju¡_to_mem_block
(
size
);

195 * 
»®loc_±r
 = 
nuÎ±r
;

196 
ušt32_t
 
Üig_±r_size
 = 0;

197 ià(
±r
 !ğ
nuÎ±r
)

199 * cÚ¡ 
ch¬_±r
 = 
¡©ic_ÿ¡
<*>(
±r
);

200 
memÜy
* 
»®loc_h—p
 = 
_avaabË_h—ps
;„—Îoc_h—°< _avaabË_h—p + 
_h—ps_aùu®_size
 &&„—Îoc_h—p->
is_š™
(); ++realloc_heap)

202 ià(
»®loc_h—p
->
is_š_h—p
(
ch¬_±r
))

204 
»®loc_±r
 = 
»®loc_h—p
->
»®loc_š_¶aû
(
ch¬_±r
, 
size
, &
Üig_±r_size
);

206 ià(
»®loc_±r
 !ğ
nuÎ±r
)

207  
»®loc_±r
;

214 * 
Ãw_®loc
 = 
¡©ic_ÿ¡
<*>(
m®loc
(
size
));

215 ià(
Ãw_®loc
 =ğ
nuÎ±r
)

216  
nuÎ±r
;

218 cÚ¡ 
ušt32_t
 
cİy_size
 = (
size
 < 
Üig_±r_size
) ? size : orig_ptr_size;

219 ià(
cİy_size
 > 0)

221 
memıy
(
Ãw_®loc
, 
±r
, 
cİy_size
);

222 
ä“
 (
±r
);

225  
Ãw_®loc
;

228 
ä“
(* 
±r
)

230 ià(
±r
 =ğ
nuÎ±r
)

233 * cÚ¡ 
ch¬_±r
 = 
¡©ic_ÿ¡
<*>(
±r
);

234 
memÜy
* 
ä“_h—p
 = 
_avaabË_h—ps
; f»e_h—°< _avaabË_h—p + 
_h—ps_aùu®_size
 && f»e_h—p->
is_š™
(); ++free_heap)

236 ià(
ä“_h—p
->
is_š_h—p
(
ch¬_±r
))

238 
ä“_h—p
->
ä“
(
ch¬_±r
);

244 
adju¡_to_mem_block
(
ušt32_t
& 
size
)

246 cÚ¡ 
ušt32_t
 
»mašd”
 = (
size
 + 
_size_m¬k”
è& 
_»m_mem_block_mask
;

247 ià(
»mašd”
 > 0)

249 
size
 +ğ
_mem_block
 - 
»mašd”
;

253 şas 
	cmemÜy


255 
public
:

256 
memÜy
()

257 : 
_h—p_size
(0)

258 , 
_h—p
(
nuÎ±r
)

259 , 
_off£t
(0)

263 
š™
(* cÚ¡ 
mem_h—p
, 
ušt32_t
 
size
)

265 
_h—p_size
 = 
size
;

266 
_h—p
 = 
mem_h—p
;

269 
ušt32_t
 
is_š™
() const

271  
_h—p
 !ğ
nuÎ±r
;

274 
ušt32_t
 
is_š_h—p
(cÚ¡ * cÚ¡ 
±r
) const

276 cÚ¡ * cÚ¡ 
’d_of_bufãr
 = 
_h—p
 + 
_h—p_size
;

277 cÚ¡ * cÚ¡ 
fœ¡_±r_of_bufãr
 = 
_h—p
 + 
_size_m¬k”
;

278  
±r
 >ğ
fœ¡_±r_of_bufãr
 &&…Œ < 
’d_of_bufãr
;

281 
ušt32_t
 
is_ÿ·c™y_»maššg
() const

283  
_off£t
 + 
_size_m¬k”
 < 
_h—p_size
;

286 * 
m®loc
(
ušt32_t
 
size
)

288 
ušt32_t
 
u£d_up_size
 = 
_off£t
 + 
size
 + 
_size_m¬k”
;

289 ià(
u£d_up_size
 > 
_h—p_size
)

291  
nuÎ±r
;

294 
bufãr_±r
 
Ãw_buff
(&
_h—p
[
_off£t
 + 
_size_m¬k”
], 
size
, _h—°+ 
_h—p_size
);

295 
_off£t
 +ğ
size
 + 
_size_m¬k”
;

296 
Ãw_buff
.
m¬k_®loc
();

297  
Ãw_buff
.
±r
();

300 * 
m®loc_äom_ä“d
(
ušt32_t
 
size
)

302 
eosio
::
check
(
_off£t
 =ğ
_h—p_size
, "malloc_from_freed was designedo only be called‡fter _heap was completely‡llocated");

304 * 
cu¼’t
 = 
_h—p
 + 
_size_m¬k”
;

305 
cu¼’t
 !ğ
nuÎ±r
)

307 
bufãr_±r
 
cu¼’t_bufãr
(
cu¼’t
, 
_h—p
 + 
_h—p_size
);

308 ià(!
cu¼’t_bufãr
.
is_®loc
())

311 ià(
cu¼’t_bufãr
.
m”ge_cÚtiguous
(
size
))

313 
cu¼’t_bufãr
.
m¬k_®loc
();

314  
cu¼’t
;

318 
cu¼’t
 = 
cu¼’t_bufãr
.
Ãxt_±r
();

322  
nuÎ±r
;

325 * 
»®loc_š_¶aû
(* cÚ¡ 
±r
, 
ušt32_t
 
size
, ušt32_t* 
Üig_±r_size
)

327 cÚ¡ * cÚ¡ 
’d_of_bufãr
 = 
_h—p
 + 
_h—p_size
;

329 
bufãr_±r
 
Üig_bufãr
(
±r
, 
’d_of_bufãr
);

330 *
Üig_±r_size
 = 
Üig_bufãr
.
size
();

332 * cÚ¡ 
Üig_bufãr_’d
 = 
Üig_bufãr
.
’d
();

333 ià(
Üig_bufãr_’d
 > 
’d_of_bufãr
)

335 *
Üig_±r_size
 = 0;

336  
nuÎ±r
;

339 ià(
±r
 > 
’d_of_bufãr
 - 
size
)

342  
nuÎ±r
;

345 ifĞ*
Üig_±r_size
 > 
size
 )

348 * cÚ¡ 
Ãw_±r
 = 
±r
 + 
size
 + 
_size_m¬k”
;

349 
bufãr_±r
 
exûss_to_ä“
(
Ãw_±r
, *
Üig_±r_size
 - 
size
, 
_h—p
 + 
_h—p_size
);

350 
exûss_to_ä“
.
m¬k_ä“
();

352  
±r
;

355 ià(
Üig_bufãr_’d
 =ğ&
_h—p
[
_off£t
])

357 
Üig_bufãr
.
size
(size);

358 
_off£t
 +ğ
size
 - *
Üig_±r_size
;

360  
±r
;

362 ià(
size
 =ğ*
Üig_±r_size
 )

363  
±r
;

365 ià(!
Üig_bufãr
.
m”ge_cÚtiguous_if_avaabË
(
size
))

367  
nuÎ±r
;

369 
Üig_bufãr
.
m¬k_®loc
();

370  
±r
;

373 
ä“
(* 
±r
)

375 
bufãr_±r
 
to_ä“
(
±r
, 
_h—p
 + 
_h—p_size
);

376 
to_ä“
.
m¬k_ä“
();

379 
ş—nup_»maššg
()

381 ià(
_off£t
 =ğ
_h—p_size
)

385 cÚ¡ 
ušt32_t
 
size
 = 
_h—p_size
 - 
_off£t
 - 
_size_m¬k”
;

386 
bufãr_±r
 
Ãw_buff
(&
_h—p
[
_off£t
 + 
_size_m¬k”
], 
size
, _h—°+ 
_h—p_size
);

387 
_off£t
 = 
_h—p_size
;

388 
Ãw_buff
.
m¬k_ä“
();

391 
boŞ
 
ex·nd_memÜy
(* 
exp_mem
, 
ušt32_t
 
size
)

393 ià(
_h—p
 + 
_h—p_size
 !ğ
exp_mem
)

394  
çl£
;

396 
_h—p_size
 +ğ
size
;

398  
Œue
;

401 
´iv©e
:

402 şas 
	cbufãr_±r


404 
public
:

405 
bufãr_±r
(* 
±r
, cÚ¡ * cÚ¡ 
h—p_’d
)

406 : 
_±r
(
¡©ic_ÿ¡
<*>(
±r
))

407 , 
_size
(*
»š‹½»t_ÿ¡
<
ušt32_t
*>(
¡©ic_ÿ¡
<*>(
±r
è- 
_size_m¬k”
è& ~
_®loc_memÜy_mask
)

408 , 
_h—p_’d
(
h—p_’d
)

412 
bufãr_±r
(* 
±r
, 
ušt32_t
 
buff_size
, cÚ¡ * cÚ¡ 
h—p_’d
)

413 : 
_±r
(
¡©ic_ÿ¡
<*>(
±r
))

414 , 
_h—p_’d
(
h—p_’d
)

416 
size
(
buff_size
);

419 
ušt32_t
 
size
() const

421  
_size
;

424 * 
Ãxt_±r
() const

426 * cÚ¡ 
Ãxt
 = 
’d
(è+ 
_size_m¬k”
;

427 ià(
Ãxt
 >ğ
_h—p_’d
)

428  
nuÎ±r
;

430  
Ãxt
;

433 
size
(
ušt32_t
 
v®
)

436 cÚ¡ 
ušt32_t
 
memÜy_¡©e
 = *
»š‹½»t_ÿ¡
<ušt32_t*>(
_±r
 - 
_size_m¬k”
è& 
_®loc_memÜy_mask
;

437 *
»š‹½»t_ÿ¡
<
ušt32_t
*>(
_±r
 - 
_size_m¬k”
èğ
v®
 | 
memÜy_¡©e
;

438 
_size
 = 
v®
;

441 * 
’d
() const

443  
_±r
 + 
_size
;

446 * 
±r
() const

448  
_±r
;

451 
m¬k_®loc
()

453 *
»š‹½»t_ÿ¡
<
ušt32_t
*>(
_±r
 - 
_size_m¬k”
è|ğ
_®loc_memÜy_mask
;

456 
m¬k_ä“
()

458 *
»š‹½»t_ÿ¡
<
ušt32_t
*>(
_±r
 - 
_size_m¬k”
è&ğ~
_®loc_memÜy_mask
;

461 
boŞ
 
is_®loc
() const

463  *
»š‹½»t_ÿ¡
<cÚ¡ 
ušt32_t
*>(
_±r
 - 
_size_m¬k”
è& 
_®loc_memÜy_mask
;

466 
boŞ
 
m”ge_cÚtiguous_if_avaabË
(
ušt32_t
 
Ãeded_size
)

468  
m”ge_cÚtiguous
(
Ãeded_size
, 
Œue
);

471 
boŞ
 
m”ge_cÚtiguous
(
ušt32_t
 
Ãeded_size
)

473  
m”ge_cÚtiguous
(
Ãeded_size
, 
çl£
);

475 
´iv©e
:

476 
boŞ
 
m”ge_cÚtiguous
(
ušt32_t
 
Ãeded_size
, boŞ 
®l_Ü_nÙhšg
)

479 ifĞ
®l_Ü_nÙhšg
 && 
ušt32_t
(
_h—p_’d
 - 
_±r
è< 
Ãeded_size
 )

480  
çl£
;

482 
ušt32_t
 
possibË_size
 = 
_size
;

483 
possibË_size
 < 
Ãeded_size
 && (
_±r
 +…ossibË_siz< 
_h—p_’d
))

485 cÚ¡ 
ušt32_t
 
Ãxt_mem_æag_size
 = *
»š‹½»t_ÿ¡
<cÚ¡ ušt32_t*>(
_±r
 + 
possibË_size
);

487 ià(
Ãxt_mem_æag_size
 & 
_®loc_memÜy_mask
)

490 
possibË_size
 +ğ(
Ãxt_mem_æag_size
 & ~
_®loc_memÜy_mask
è+ 
_size_m¬k”
;

493 ià(
®l_Ü_nÙhšg
 && 
possibË_size
 < 
Ãeded_size
)

494  
çl£
;

497 cÚ¡ 
ušt32_t
 
Ãw_size
 = 
possibË_size
 < 
Ãeded_size
 ?…ossible_size :‚eeded_size;

498 
size
(
Ãw_size
);

500 ià(
possibË_size
 > 
Ãeded_size
)

502 cÚ¡ 
ušt32_t
 
ä“d_size
 = 
possibË_size
 - 
Ãeded_size
 - 
_size_m¬k”
;

503 
bufãr_±r
 
ä“d_»mašd”
(
_±r
 + 
Ãeded_size
 + 
_size_m¬k”
, 
ä“d_size
, 
_h—p_’d
);

504 
ä“d_»mašd”
.
m¬k_ä“
();

507  
Ãw_size
 =ğ
Ãeded_size
;

510 * 
_±r
;

511 
ušt32_t
 
_size
;

512 cÚ¡ * cÚ¡ 
_h—p_’d
;

515 
ušt32_t
 
_h—p_size
;

516 * 
_h—p
;

517 
ušt32_t
 
_off£t
;

520 cÚ¡ 
ušt32_t
 
_size_m¬k”
 = (uint32_t);

522 cÚ¡ 
ušt32_t
 
_mem_block
 = 8;

523 cÚ¡ 
ušt32_t
 
_»m_mem_block_mask
 = 
_mem_block
 - 1;

524 cÚ¡ 
ušt32_t
 
_š™Ÿl_h—p_size
 = 8192;

526 cÚ¡ 
ušt32_t
 
_h—ps_size
 = 16;

527 
_š™Ÿl_h—p
[
_š™Ÿl_h—p_size
];

528 
memÜy
 
_avaabË_h—ps
[
_h—ps_size
];

529 
ušt32_t
 
_h—ps_aùu®_size
;

530 
ušt32_t
 
_aùive_h—p
;

531 
ušt32_t
 
_aùive_ä“_h—p
;

532 cÚ¡ 
ušt32_t
 
_®loc_memÜy_mask
 = uint32_t(1) << 31;

535 
memÜy_mªag”
 
memÜy_h—p
;

541 * 
m®loc
(
size_t
 
size
)

543  
eosio
::
memÜy_h—p
.
m®loc
(
size
);

546 * 
ÿÎoc
(
size_t
 
couÁ
, size_ˆ
size
)

548 * 
±r
 = 
eosio
::
memÜy_h—p
.
m®loc
(
couÁ
*
size
);

549 
mem£t
(
±r
, 0, 
couÁ
*
size
);

550  
±r
;

553 * 
»®loc
(* 
±r
, 
size_t
 
size
)

555  
eosio
::
memÜy_h—p
.
»®loc
(
±r
, 
size
);

558 
ä“
(* 
±r
)

560  
eosio
::
memÜy_h—p
.
ä“
(
±r
);

	@fixed_bytes.hpp

5 #´agm¨
Úû


7 
	~"sy¡em.hµ
"

9 
	~<¬¿y
>

10 
	~<®gÜ™hm
>

11 
	~<ty³_Œa™s
>

13 
Çme¥aû
 
	geosio
 {

15 
	g‹m¶©e
<
size_t
 
	gSize
>

16 
şass
 
	gfixed_by‹s
;

18 
	g‹m¶©e
<
size_t
 
	gSize
>

19 
boŞ
 
	gİ”©Ü
 ==(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
);

21 
	g‹m¶©e
<
size_t
 
	gSize
>

22 
boŞ
 
	gİ”©Ü
 !=(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
);

24 
	g‹m¶©e
<
size_t
 
	gSize
>

25 
boŞ
 
	gİ”©Ü
 >(cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc1
, cÚ¡ fixed_by‹s<Size> &
	gc2
);

27 
	g‹m¶©e
<
size_t
 
	gSize
>

28 
boŞ
 
	gİ”©Ü
 <(cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc1
, cÚ¡ fixed_by‹s<Size> &
	gc2
);

30 
	g‹m¶©e
<
size_t
 
	gSize
>

31 
boŞ
 
	gİ”©Ü
 >=(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
);

33 
	g‹m¶©e
<
size_t
 
	gSize
>

34 
boŞ
 
	gİ”©Ü
 <=(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
);

51 
	g‹m¶©e
<
size_t
 
	gSize
>

52 şas 
	cfixed_by‹s
 {

53 
	g´iv©e
:

55 
‹m¶©e
<
boŞ
...> 
boŞ_·ck
;

56 
	g‹m¶©e
<
	gboŞ
... 
	gbs
>

57 
usšg
 
	g®l_Œue
 = 
¡d
::
is_§me
< 
boŞ_·ck
<
bs
..., 
	gŒue
>, 
	gboŞ_·ck
<Œue, 
	gbs
...> >;

59 
	g‹m¶©e
<
ty³Çme
 
	gWÜd
, 
size_t
 
	gNumWÜds
>

60 
£t_äom_wÜd_£qu’û
(cÚ¡ 
WÜd
* 
¬r_begš
, cÚ¡ WÜd* 
¬r_’d
, 
fixed_by‹s
<
Size
>& 
key
)

62 autØ
	g™r
 = 
key
.
_d©a
.
begš
();

63 
wÜd_t
 
	g‹mp_wÜd
 = 0;

64 cÚ¡ 
size_t
 
	gsub_wÜd_shiá
 = 8 * (
WÜd
);

65 cÚ¡ 
size_t
 
	gnum_sub_wÜds
 = (
wÜd_t
è/ (
WÜd
);

66 autØ
	gsub_wÜds_Ëá
 = 
num_sub_wÜds
;

67 ‡utØ
	gw_™r
 = 
¬r_begš
; w_™¸!ğ
¬r_’d
; ++w_itr ) {

68 ifĞ
	gsub_wÜds_Ëá
 > 1 ) {

69 
	g‹mp_wÜd
 |ğ
¡©ic_ÿ¡
<
wÜd_t
>(*
w_™r
);

70 
	g‹mp_wÜd
 <<ğ
sub_wÜd_shiá
;

71 --
	gsub_wÜds_Ëá
;

75 
	geosio
::
check
Ğ
sub_wÜds_Ëá
 == 1, "unexpectedƒrror in fixed_bytes constructor" );

76 
	g‹mp_wÜd
 |ğ
¡©ic_ÿ¡
<
wÜd_t
>(*
w_™r
);

77 
	gsub_wÜds_Ëá
 = 
num_sub_wÜds
;

79 *
	g™r
 = 
‹mp_wÜd
;

80 
	g‹mp_wÜd
 = 0;

81 ++
	g™r
;

83 ifĞ
	gsub_wÜds_Ëá
 !ğ
num_sub_wÜds
 ) {

84 ifĞ
sub_wÜds_Ëá
 > 1 )

85 
‹mp_wÜd
 <<ğ8 * (
sub_wÜds_Ëá
-1);

86 *
	g™r
 = 
‹mp_wÜd
;

90 
	gpublic
:

92 
ušt128_t
 
	twÜd_t
;

100 
cÚ¡ex´
 
size_t
 
num_wÜds
(è{  (
	gSize
 + (
	gwÜd_t
) - 1) / (word_t); }

108 
cÚ¡ex´
 
size_t
 
·dded_by‹s
(è{  
num_wÜds
(è* (
	gwÜd_t
è- 
	gSize
; }

115 
cÚ¡ex´
 
fixed_by‹s
(è: 
_d©a
() {}

123 
fixed_by‹s
(cÚ¡ 
¡d
::
¬¿y
<
wÜd_t
, 
num_wÜds
()>& 
¬r
)

125 
	g¡d
::
cİy
(
¬r
.
begš
(),‡¼.
’d
(), 
_d©a
.begin());

134 
	g‹m¶©e
<
ty³Çme
 
	gWÜd
, 
size_t
 
	gNumWÜds
,

135 
ty³Çme
 
	gEÇbË
 =y³Çm
¡d
::
’abË_if
<¡d::
is_š‹g¿l
<
WÜd
>::
v®ue
 &&

136 !
¡d
::
is_§me
<
WÜd
, 
	gboŞ
>::
v®ue
 &&

137 (
WÜd
è< (
wÜd_t
)>::
ty³
 >

138 
fixed_by‹s
(cÚ¡ 
¡d
::
¬¿y
<
WÜd
, 
NumWÜds
>& 
¬r
)

140 
¡©ic_as£¹
Ğ(
wÜd_t
è=ğ((wÜd_t)/(
WÜd
)) * (Word),

142 
¡©ic_as£¹
Ğ(
WÜd
è* 
NumWÜds
 <ğ
Size
, "too many words suppliedo fixed_bytes constructor" );

144 
	g£t_äom_wÜd_£qu’û
<
	gWÜd
, 
	gNumWÜds
>(
	g¬r
.
d©a
(),‡¼.d©a(è+‡¼.
size
(), *
	gthis
);

153 
	g‹m¶©e
<
ty³Çme
 
	gWÜd
, 
size_t
 
	gNumWÜds
,

154 
ty³Çme
 
	gEÇbË
 =y³Çm
¡d
::
’abË_if
<¡d::
is_š‹g¿l
<
WÜd
>::
v®ue
 &&

155 !
¡d
::
is_§me
<
WÜd
, 
	gboŞ
>::
v®ue
 &&

156 (
WÜd
è< (
wÜd_t
)>::
ty³
 >

157 
fixed_by‹s
(cÚ¡ 
WÜd
(&
¬r
)[
NumWÜds
])

159 
¡©ic_as£¹
Ğ(
wÜd_t
è=ğ((wÜd_t)/(
WÜd
)) * (Word),

161 
¡©ic_as£¹
Ğ(
WÜd
è* 
NumWÜds
 <ğ
Size
, "too many words suppliedo fixed_bytes constructor" );

163 
	g£t_äom_wÜd_£qu’û
<
	gWÜd
, 
	gNumWÜds
>(
	g¬r
,‡¼ + NumWÜds, *
	gthis
);

175 
	g‹m¶©e
<
ty³Çme
 
	gFœ¡WÜd
, 
	gty³Çme
... 
	gRe¡
>

177 
	gfixed_by‹s
<
	gSize
>

178 
make_äom_wÜd_£qu’û
(
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_š‹g¿l
<
Fœ¡WÜd
>::
v®ue
 &&

179 !
¡d
::
is_§me
<
Fœ¡WÜd
, 
boŞ
>::
v®ue
 &&

180 (
Fœ¡WÜd
è<ğ(
wÜd_t
) &&

181 
®l_Œue
<(
¡d
::
is_§me
<
Fœ¡WÜd
, 
Re¡
>::
v®ue
)...>::value,

182 
Fœ¡WÜd
>::
ty³
 
fœ¡_wÜd
,

183 
Re¡
... 
»¡
)

185 
¡©ic_as£¹
Ğ(
wÜd_t
è=ğ((wÜd_t)/(
Fœ¡WÜd
)) * (FirstWord),

187 
¡©ic_as£¹
Ğ(
Fœ¡WÜd
è* (1 + ...(
Re¡
)è<ğ
Size
, "too many words suppliedo make_from_word_sequence" );

189 
	gfixed_by‹s
<
	gSize
> 
	gkey
;

190 
	g¡d
::
¬¿y
<
Fœ¡WÜd
, 1+...(
	gRe¡
)> 
	g¬r
{{ 
	gfœ¡_wÜd
, 
	g»¡
... }};

191 
	g£t_äom_wÜd_£qu’û
<
	gFœ¡WÜd
, 1+...(
	gRe¡
)>(
	g¬r
.
d©a
(),‡¼.d©a(è+‡¼.
size
(), 
	gkey
);

192  
	gkey
;

199 cÚ¡‡uto& 
g‘_¬¿y
()cÚ¡ {  
	g_d©a
; }

205 autØ
d©a
(è{  
	g_d©a
.data(); }

211 autØ
d©a
()cÚ¡ {  
	g_d©a
.data(); }

217 autØ
size
()cÚ¡ {  
	g_d©a
.size(); }

225 
	g¡d
::
¬¿y
<
ušt8_t
, 
	gSize
> 
exŒaù_as_by‹_¬¿y
()const {

226 
	g¡d
::
¬¿y
<
ušt8_t
, 
	gSize
> 
	g¬r
;

228 cÚ¡ 
size_t
 
	gnum_sub_wÜds
 = (
wÜd_t
);

230 autØ
	g¬r_™r
 = 
¬r
.
begš
();

231 autØ
	gd©a_™r
 = 
_d©a
.
begš
();

233  
size_t
 
	gcouÁ”
 = 
_d©a
.
size
(); couÁ” > 0; --couÁ”, ++
	gd©a_™r
 ) {

234 
size_t
 
	gsub_wÜds_Ëá
 = 
num_sub_wÜds
;

236 autØ
	g‹mp_wÜd
 = *
d©a_™r
;

237 ifĞ
	gcouÁ”
 == 1 ) {

238 
sub_wÜds_Ëá
 -ğ
·dded_by‹s
();

239 
	g‹mp_wÜd
 >>ğ8*
·dded_by‹s
();

241  ; 
	gsub_wÜds_Ëá
 > 0; --sub_words_left ) {

242 *(
	g¬r_™r
 + 
	gsub_wÜds_Ëá
 - 1èğ
¡©ic_ÿ¡
<
ušt8_t
>(
‹mp_wÜd
 & 0xFF);

243 
	g‹mp_wÜd
 >>= 8;

245 
	g¬r_™r
 +ğ
num_sub_wÜds
;

248  
	g¬r
;

252 
ä›nd
 
boŞ
 
	gİ”©Ü
 =ğ<>(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
);

254 
ä›nd
 
boŞ
 
	gİ”©Ü
 !ğ<>(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
);

256 
ä›nd
 
boŞ
 
	gİ”©Ü
 > <>(cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc1
, cÚ¡ fixed_by‹s<Size> &
	gc2
);

258 
ä›nd
 
boŞ
 
	gİ”©Ü
 < <>(cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc1
, cÚ¡ fixed_by‹s<Size> &
	gc2
);

260 
ä›nd
 
boŞ
 
	gİ”©Ü
 >ğ<>(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
);

262 
ä›nd
 
boŞ
 
	gİ”©Ü
 <ğ<>(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
);

264 
	g´iv©e
:

266 
¡d
::
¬¿y
<
wÜd_t
, 
num_wÜds
()> 
	g_d©a
;

277 
	g‹m¶©e
<
size_t
 
	gSize
>

278 
boŞ
 
	gİ”©Ü
 ==(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
) {

279  
	gc1
.
	g_d©a
 =ğ
c2
.
_d©a
;

290 
	g‹m¶©e
<
size_t
 
	gSize
>

291 
boŞ
 
	gİ”©Ü
 !=(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
) {

292  
	gc1
.
	g_d©a
 !ğ
c2
.
_d©a
;

303 
	g‹m¶©e
<
size_t
 
	gSize
>

304 
boŞ
 
	gİ”©Ü
 >(cÚ¡ 
	gfixed_by‹s
<
	gSize
>& 
	gc1
, cÚ¡ fixed_by‹s<Size>& 
	gc2
) {

305  
	gc1
.
	g_d©a
 > 
	gc2
._data;

316 
	g‹m¶©e
<
size_t
 
	gSize
>

317 
boŞ
 
	gİ”©Ü
 <(cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc1
, cÚ¡ fixed_by‹s<Size> &
	gc2
) {

318  
	gc1
.
	g_d©a
 < 
	gc2
._data;

329 
	g‹m¶©e
<
size_t
 
	gSize
>

330 
boŞ
 
	gİ”©Ü
 >=(cÚ¡ 
fixed_by‹s
<
Size
>& 
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
>& 
	gc2
) {

331  
	gc1
.
	g_d©a
 >ğ
c2
.
_d©a
;

342 
	g‹m¶©e
<
size_t
 
	gSize
>

343 
boŞ
 
	gİ”©Ü
 <=(cÚ¡ 
fixed_by‹s
<
Size
> &
c1
, cÚ¡ 
	gfixed_by‹s
<
	gSize
> &
	gc2
) {

344  
	gc1
.
	g_d©a
 <ğ
c2
.
_d©a
;

349 
usšg
 
	gchecksum160
 = 
fixed_by‹s
<20>;

350 
usšg
 
	gchecksum256
 = 
fixed_by‹s
<32>;

351 
usšg
 
	gchecksum512
 = 
fixed_by‹s
<64>;

	@fixed_key.hpp

5 #´agm¨
Úû


7 
	~"sy¡em.hµ
"

9 
	~<¬¿y
>

10 
	~<®gÜ™hm
>

11 
	~<ty³_Œa™s
>

13 
Çme¥aû
 
	geosio
 {

15 
	g‹m¶©e
<
size_t
 
	gSize
>

16 
şass
 
	gfixed_key
;

18 
	g‹m¶©e
<
size_t
 
	gSize
>

19 
boŞ
 
	gİ”©Ü
 ==(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
);

21 
	g‹m¶©e
<
size_t
 
	gSize
>

22 
boŞ
 
	gİ”©Ü
 !=(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
);

24 
	g‹m¶©e
<
size_t
 
	gSize
>

25 
boŞ
 
	gİ”©Ü
 >(cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc1
, cÚ¡ fixed_key<Size> &
	gc2
);

27 
	g‹m¶©e
<
size_t
 
	gSize
>

28 
boŞ
 
	gİ”©Ü
 <(cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc1
, cÚ¡ fixed_key<Size> &
	gc2
);

30 
	g‹m¶©e
<
size_t
 
	gSize
>

31 
boŞ
 
	gİ”©Ü
 >=(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
);

33 
	g‹m¶©e
<
size_t
 
	gSize
>

34 
boŞ
 
	gİ”©Ü
 <=(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
);

48 
	g‹m¶©e
<
size_t
 
	gSize
>

49 
	gşass
 [[
d•»ÿ‹d
("R•Ïûd by fixed_by‹s")]] 
	gfixed_key
 {

50 
	g´iv©e
:

52 
‹m¶©e
<
boŞ
...> 
boŞ_·ck
;

53 
	g‹m¶©e
<
	gboŞ
... 
	gbs
>

54 
usšg
 
	g®l_Œue
 = 
¡d
::
is_§me
< 
boŞ_·ck
<
bs
..., 
	gŒue
>, 
	gboŞ_·ck
<Œue, 
	gbs
...> >;

56 
	g‹m¶©e
<
ty³Çme
 
	gWÜd
, 
size_t
 
	gNumWÜds
>

57 
£t_äom_wÜd_£qu’û
(
WÜd
* 
¬r_begš
, WÜd* 
¬r_’d
, 
fixed_key
<
Size
>& 
key
)

59 autØ
	g™r
 = 
key
.
_d©a
.
begš
();

60 
wÜd_t
 
	g‹mp_wÜd
 = 0;

61 cÚ¡ 
size_t
 
	gsub_wÜd_shiá
 = 8 * (
WÜd
);

62 cÚ¡ 
size_t
 
	gnum_sub_wÜds
 = (
wÜd_t
è/ (
WÜd
);

63 autØ
	gsub_wÜds_Ëá
 = 
num_sub_wÜds
;

64 ‡utØ
	gw_™r
 = 
¬r_begš
; w_™¸!ğ
¬r_’d
; ++w_itr ) {

65 ifĞ
	gsub_wÜds_Ëá
 > 1 ) {

66 
	g‹mp_wÜd
 |ğ
¡©ic_ÿ¡
<
wÜd_t
>(*
w_™r
);

67 
	g‹mp_wÜd
 <<ğ
sub_wÜd_shiá
;

68 --
	gsub_wÜds_Ëá
;

72 
	geosio
::
check
Ğ
sub_wÜds_Ëá
 == 1, "unexpectedƒrror in fixed_key constructor" );

73 
	g‹mp_wÜd
 |ğ
¡©ic_ÿ¡
<
wÜd_t
>(*
w_™r
);

74 
	gsub_wÜds_Ëá
 = 
num_sub_wÜds
;

76 *
	g™r
 = 
‹mp_wÜd
;

77 
	g‹mp_wÜd
 = 0;

78 ++
	g™r
;

80 ifĞ
	gsub_wÜds_Ëá
 !ğ
num_sub_wÜds
 ) {

81 ifĞ
sub_wÜds_Ëá
 > 1 )

82 
‹mp_wÜd
 <<ğ8 * (
sub_wÜds_Ëá
-1);

83 *
	g™r
 = 
‹mp_wÜd
;

87 
	gpublic
:

89 
ušt128_t
 
	twÜd_t
;

95 
cÚ¡ex´
 
size_t
 
num_wÜds
(è{  (
	gSize
 + (
	gwÜd_t
) - 1) / (word_t); }

101 
cÚ¡ex´
 
size_t
 
·dded_by‹s
(è{  
num_wÜds
(è* (
	gwÜd_t
è- 
	gSize
; }

106 
cÚ¡ex´
 
fixed_key
(è: 
_d©a
() {}

113 
fixed_key
(cÚ¡ 
¡d
::
¬¿y
<
wÜd_t
, 
num_wÜds
()>& 
¬r
)

115 
	g¡d
::
cİy
(
¬r
.
begš
(),‡¼.
’d
(), 
_d©a
.begin());

123 
	g‹m¶©e
<
ty³Çme
 
	gWÜd
, 
size_t
 
	gNumWÜds
,

124 
ty³Çme
 
	gEÇbË
 =y³Çm
¡d
::
’abË_if
<¡d::
is_š‹g¿l
<
WÜd
>::
v®ue
 &&

125 !
¡d
::
is_§me
<
WÜd
, 
	gboŞ
>::
v®ue
 &&

126 (
WÜd
è< (
wÜd_t
)>::
ty³
 >

127 
fixed_key
(cÚ¡ 
¡d
::
¬¿y
<
WÜd
, 
NumWÜds
>& 
¬r
)

129 
¡©ic_as£¹
Ğ(
wÜd_t
è=ğ((wÜd_t)/(
WÜd
)) * (Word),

131 
¡©ic_as£¹
Ğ(
WÜd
è* 
NumWÜds
 <ğ
Size
, "too many words suppliedo fixed_key constructor" );

133 
	g£t_äom_wÜd_£qu’û
<
	gWÜd
, 
	gNumWÜds
>(
	g¬r
.
d©a
(),‡¼.d©a(è+‡¼.
size
(), *
	gthis
);

142 
	g‹m¶©e
<
ty³Çme
 
	gWÜd
, 
size_t
 
	gNumWÜds
,

143 
ty³Çme
 
	gEÇbË
 =y³Çm
¡d
::
’abË_if
<¡d::
is_š‹g¿l
<
WÜd
>::
v®ue
 &&

144 !
¡d
::
is_§me
<
WÜd
, 
	gboŞ
>::
v®ue
 &&

145 (
WÜd
è< (
wÜd_t
)>::
ty³
 >

146 
fixed_key
(cÚ¡ 
WÜd
(&
¬r
)[
NumWÜds
])

148 
¡©ic_as£¹
Ğ(
wÜd_t
è=ğ((wÜd_t)/(
WÜd
)) * (Word),

150 
¡©ic_as£¹
Ğ(
WÜd
è* 
NumWÜds
 <ğ
Size
, "too many words suppliedo fixed_key constructor" );

152 
	g£t_äom_wÜd_£qu’û
<
	gWÜd
, 
	gNumWÜds
>(
	g¬r
,‡¼ + NumWÜds, *
	gthis
);

163 
	g‹m¶©e
<
ty³Çme
 
	gFœ¡WÜd
, 
	gty³Çme
... 
	gRe¡
>

165 
	gfixed_key
<
	gSize
>

166 
make_äom_wÜd_£qu’û
(
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_š‹g¿l
<
Fœ¡WÜd
>::
v®ue
 &&

167 !
¡d
::
is_§me
<
Fœ¡WÜd
, 
boŞ
>::
v®ue
 &&

168 (
Fœ¡WÜd
è<ğ(
wÜd_t
) &&

169 
®l_Œue
<(
¡d
::
is_§me
<
Fœ¡WÜd
, 
Re¡
>::
v®ue
)...>::value,

170 
Fœ¡WÜd
>::
ty³
 
fœ¡_wÜd
,

171 
Re¡
... 
»¡
)

173 
¡©ic_as£¹
Ğ(
wÜd_t
è=ğ((wÜd_t)/(
Fœ¡WÜd
)) * (FirstWord),

175 
¡©ic_as£¹
Ğ(
Fœ¡WÜd
è* (1 + ...(
Re¡
)è<ğ
Size
, "too many words suppliedo make_from_word_sequence" );

177 
	gfixed_key
<
	gSize
> 
	gkey
;

178 
	g¡d
::
¬¿y
<
Fœ¡WÜd
, 1+...(
	gRe¡
)> 
	g¬r
{{ 
	gfœ¡_wÜd
, 
	g»¡
... }};

179 
	g£t_äom_wÜd_£qu’û
<
	gFœ¡WÜd
, 1+...(
	gRe¡
)>(
	g¬r
.
d©a
(),‡¼.d©a(è+‡¼.
size
(), 
	gkey
);

180  
	gkey
;

186 cÚ¡‡uto& 
g‘_¬¿y
()cÚ¡ {  
	g_d©a
; }

191 autØ
d©a
(è{  
	g_d©a
.data(); }

196 autØ
d©a
()cÚ¡ {  
	g_d©a
.data(); }

201 autØ
size
()cÚ¡ {  
	g_d©a
.size(); }

209 
	g¡d
::
¬¿y
<
ušt8_t
, 
	gSize
> 
exŒaù_as_by‹_¬¿y
()const {

210 
	g¡d
::
¬¿y
<
ušt8_t
, 
	gSize
> 
	g¬r
;

212 cÚ¡ 
size_t
 
	gnum_sub_wÜds
 = (
wÜd_t
);

214 autØ
	g¬r_™r
 = 
¬r
.
begš
();

215 autØ
	gd©a_™r
 = 
_d©a
.
begš
();

217  
size_t
 
	gcouÁ”
 = 
_d©a
.
size
(); couÁ” > 0; --couÁ”, ++
	gd©a_™r
 ) {

218 
size_t
 
	gsub_wÜds_Ëá
 = 
num_sub_wÜds
;

220 autØ
	g‹mp_wÜd
 = *
d©a_™r
;

221 ifĞ
	gcouÁ”
 == 1 ) {

222 
sub_wÜds_Ëá
 -ğ
·dded_by‹s
();

229  ; 
	gsub_wÜds_Ëá
 > 0; --sub_words_left ) {

230 *(
	g¬r_™r
 + 
	gsub_wÜds_Ëá
 - 1èğ
¡©ic_ÿ¡
<
ušt8_t
>(
‹mp_wÜd
 & 0xFF);

231 
	g‹mp_wÜd
 >>= 8;

233 
	g¬r_™r
 +ğ
num_sub_wÜds
;

236  
	g¬r
;

240 
ä›nd
 
boŞ
 
	gİ”©Ü
 =ğ<>(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
);

242 
ä›nd
 
boŞ
 
	gİ”©Ü
 !ğ<>(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
);

244 
ä›nd
 
boŞ
 
	gİ”©Ü
 > <>(cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc1
, cÚ¡ fixed_key<Size> &
	gc2
);

246 
ä›nd
 
boŞ
 
	gİ”©Ü
 < <>(cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc1
, cÚ¡ fixed_key<Size> &
	gc2
);

248 
ä›nd
 
boŞ
 
	gİ”©Ü
 >ğ<>(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
);

250 
ä›nd
 
boŞ
 
	gİ”©Ü
 <ğ<>(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
);

252 
	g´iv©e
:

254 
¡d
::
¬¿y
<
wÜd_t
, 
num_wÜds
()> 
	g_d©a
;

264 
	g‹m¶©e
<
size_t
 
	gSize
>

265 
boŞ
 
	gİ”©Ü
 ==(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
) {

266  
	gc1
.
	g_d©a
 =ğ
c2
.
_d©a
;

276 
	g‹m¶©e
<
size_t
 
	gSize
>

277 
boŞ
 
	gİ”©Ü
 !=(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
) {

278  
	gc1
.
	g_d©a
 !ğ
c2
.
_d©a
;

288 
	g‹m¶©e
<
size_t
 
	gSize
>

289 
boŞ
 
	gİ”©Ü
 >(cÚ¡ 
	gfixed_key
<
	gSize
>& 
	gc1
, cÚ¡ fixed_key<Size>& 
	gc2
) {

290  
	gc1
.
	g_d©a
 > 
	gc2
._data;

300 
	g‹m¶©e
<
size_t
 
	gSize
>

301 
boŞ
 
	gİ”©Ü
 <(cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc1
, cÚ¡ fixed_key<Size> &
	gc2
) {

302  
	gc1
.
	g_d©a
 < 
	gc2
._data;

313 
	g‹m¶©e
<
size_t
 
	gSize
>

314 
boŞ
 
	gİ”©Ü
 >=(cÚ¡ 
fixed_key
<
Size
>& 
c1
, cÚ¡ 
	gfixed_key
<
	gSize
>& 
	gc2
) {

315  
	gc1
.
	g_d©a
 >ğ
c2
.
_d©a
;

326 
	g‹m¶©e
<
size_t
 
	gSize
>

327 
boŞ
 
	gİ”©Ü
 <=(cÚ¡ 
fixed_key
<
Size
> &
c1
, cÚ¡ 
	gfixed_key
<
	gSize
> &
	gc2
) {

328  
	gc1
.
	g_d©a
 <ğ
c2
.
_d©a
;

333 
	gfixed_key
<32> 
	tkey256
;

	@fixedpoint.hpp

1 #´agm¨
Úû


2 
	~<eosiŞib/ty³s.h
>

3 
	~<eosiŞib/´št.hµ
>

5 
Çme¥aû
 
	geosio


21 
	g‹m¶©e
 <
ušt8_t
 
	gQ
> 
	gfixed_pošt32
;

22 
	g‹m¶©e
 <
ušt8_t
 
	gQ
> 
	gfixed_pošt64
;

23 
	g‹m¶©e
 <
ušt8_t
 
	gQ
> 
	gfixed_pošt128
;

27 
	g‹m¶©e
 <
ušt8_t
 
	gQ
> 
	gfixed_pošt256
;

31 
	g‹m¶©e
 <
ušt8_t
 
	gQ
>

32 
	sfixed_pošt256


34 
št128_t
 
	gv®
;

35 
fixed_pošt256
(
št256_t
 
v
=0è: 
v®
(v) {}

36 
‹m¶©e
 <
ušt8_t
 
QR
> 
fixed_pošt256
(cÚ¡ fixed_pošt256<QR> &
r
);

37 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
fixed_pošt256
(cÚ¡ 
fixed_pošt128
<
QR
> &
r
);

38 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
fixed_pošt256
(cÚ¡ 
fixed_pošt64
<
QR
> &
r
);

39 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
fixed_pošt256
(cÚ¡ 
fixed_pošt32
<
QR
> &
r
);

51 
št128_t
 
št_·¹
() const {

52  
	gv®
 >> 
	gq
;

66 
ušt128_t
 
äac_·¹
() const {

67 if(!
	gQ
)  0;

68  
	gv®
 << (32-
	gQ
);

73 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt256
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt32
<
QR
> &
r
);

74 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt256
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt64
<
QR
> &
r
);

75 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt256
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt128
<
QR
> &
r
);

76 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt256
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt256
<
QR
> &
r
);

78 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
fixed_pošt256
<
QR
> &
r
è{  (
v®
 ==„.val);}

79 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
boŞ
 
	gİ”©Ü
>(cÚ¡ 
	gfixed_pošt256
<QR> &
	gr
è{  (
	gv®
 >„.val);}

80 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gfixed_pošt256
<QR> &
	gr
è{  (
	gv®
 <„.val);}

96 
	g‹m¶©e
 <
ušt8_t
 
	gQ
>

97 
	sfixed_pošt128


99 
¡©ic_as£¹
(
Q
 < 128, "Maximum‚umber of decimals supported in fixed_point128 is 128 decimals");

104 
št128_t
 
	gv®
;

123 
fixed_pošt128
(
št128_t
 
v
=0è: 
v®
(v) {}

130 
‹m¶©e
 <
ušt8_t
 
qr
> 
fixed_pošt128
(cÚ¡ fixed_pošt128<qr> &
r
);

137 
	g‹m¶©e
 <
ušt8_t
 
	gqr
> 
fixed_pošt128
(cÚ¡ 
fixed_pošt64
<
qr
> &
r
);

145 
	g‹m¶©e
 <
ušt8_t
 
	gqr
> 
fixed_pošt128
(cÚ¡ 
fixed_pošt32
<
qr
> &
r
);

158 
št128_t
 
št_·¹
() const {

159  
	gv®
 >> 
	gQ
;

173 
ušt128_t
 
äac_·¹
() const {

174 if(!
	gQ
)  0;

175  
ušt128_t
(
v®
 << (32-
Q
));

181 
´št
() const {

182 
ušt128_t
 

((ušt128_t)
št_·¹
());

183 
ušt128_t
 
å
(
äac_·¹
());

184 
´štui128
(&

);

185 
´šts
(".");

186 
´štui128
(&
å
);

197 
	g‹m¶©e
 <
ušt8_t
 
	gqr
> 
	gfixed_pošt128
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt32
<
qr
> &
r
);

205 
	g‹m¶©e
 <
ušt8_t
 
	gqr
> 
	gfixed_pošt128
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt64
<
qr
> &
r
);

213 
	g‹m¶©e
 <
ušt8_t
 
	gqr
> 
	gfixed_pošt128
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt128
<
qr
> &
r
);

224 
	g‹m¶©e
 <
ušt8_t
 
	gqr
> 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
fixed_pošt128
<
qr
> &
r
è{  (
v®
 ==„.val);}

234 
	g‹m¶©e
 <
ušt8_t
 
	gqr
> 
boŞ
 
	gİ”©Ü
>(cÚ¡ 
	gfixed_pošt128
<qr> &
	gr
è{  (
	gv®
 >„.val);}

244 
	g‹m¶©e
 <
ušt8_t
 
	gqr
> 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gfixed_pošt128
<qr> &
	gr
è{  (
	gv®
 <„.val);}

260 
	g‹m¶©e
 <
ušt8_t
 
	gQ
>

261 
	sfixed_pošt64


263 
¡©ic_as£¹
(
Q
 < 128, "Maximum‚umber of decimals supported in fixed_point64 is 128 decimals");

268 
št64_t
 
	gv®
;

275 
fixed_pošt64
(
št64_t
 
v
=0è: 
v®
(v) {}

282 
‹m¶©e
 <
ušt8_t
 
QR
> 
fixed_pošt64
(cÚ¡ fixed_pošt64<QR> &
r
);

289 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
fixed_pošt64
(cÚ¡ 
fixed_pošt32
<
QR
> &
r
);

302 
št64_t
 
št_·¹
() const {

303  
	gv®
 >> 
	gQ
;

317 
ušt64_t
 
äac_·¹
() const {

318 if(!
	gQ
)  0;

319  
ušt64_t
(
v®
 << (32-
Q
));

327 
´št
() const {

328 
´šti
(
št_·¹
());

329 
´šts
(".");

330 
´šti128
(
äac_·¹
());

340 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt64
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt32
<
QR
> &
r
);

349 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt64
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt64
<
QR
> &
r
);

359 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt64
< (
	gQ
>QR)?Q:
QR
 > 
İ”©Ü
+(cÚ¡ 
fixed_pošt64
<QR> &
r
) const;

368 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt64
< (
	gQ
>QR)?Q:
QR
 > 
İ”©Ü
-(cÚ¡ 
fixed_pošt64
<QR> &
r
) const;

379 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt128
<
	gQ
+QR> 
	gİ”©Ü
*(cÚ¡ 
	gfixed_pošt64
<QR> &
	gr
) const;

388 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt128
<
	gQ
+64-QR> 
	gİ”©Ü
/(cÚ¡ 
	gfixed_pošt64
<QR> &
	gr
) const;

399 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
fixed_pošt64
<
QR
> &
r
è{  (
v®
 ==„.val);}

409 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
boŞ
 
	gİ”©Ü
>(cÚ¡ 
	gfixed_pošt64
<QR> &
	gr
è{  (
	gv®
 >„.val);}

419 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gfixed_pošt64
<QR> &
	gr
è{  (
	gv®
 <„.val);}

438 
	g‹m¶©e
 <
ušt8_t
 
	gQ
>

439 
	sfixed_pošt32


441 
¡©ic_as£¹
(
Q
 < 128, "Maximum‚umber of decimals supported in fixed_point32 is 128 decimals");

446 
št32_t
 
	gv®
;

453 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
fixed_pošt32
(cÚ¡ fixed_pošt32<
QR
> &
r
);

460 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
fixed_pošt32
(cÚ¡ 
fixed_pošt64
<
QR
> &
r
);

468 
fixed_pošt32
(
št32_t
 
·¿m
=0è: 
v®
(param) {}

489 
št32_t
 
št_·¹
() const {

490  
v®
 >> 
Q
;

492 
ušt32_t
 
äac_·¹
() const {

493 if(!
	gQ
)  0;

494  
ušt32_t
(
v®
 << (32-
Q
));

500 
´št
() const {

501 
´šti
(
št_·¹
());

502 
´šts
(".");

503 
´šti128
(
äac_·¹
());

514 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt32
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt32
<
QR
> &
r
);

523 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt32
 &
	gİ”©Ü
=(cÚ¡ 
fixed_pošt64
<
QR
> &
r
);

532 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt32
< (
	gQ
>QR)?Q:
QR
 > 
İ”©Ü
+(cÚ¡ 
fixed_pošt32
<QR> &
r
) const;

541 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt32
< (
	gQ
>QR)?Q:
QR
 > 
İ”©Ü
-(cÚ¡ 
fixed_pošt32
<QR> &
r
) const;

551 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt64
<
	gQ
+QR> 
	gİ”©Ü
*(cÚ¡ 
	gfixed_pošt32
<QR> &
	gr
) const;

560 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
	gfixed_pošt64
<
	gQ
+32-QR> 
	gİ”©Ü
/(cÚ¡ 
	gfixed_pošt32
<QR> &
	gr
) const;

571 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
fixed_pošt32
<
QR
> &
r
è{  (
v®
 ==„.val);}

581 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
boŞ
 
	gİ”©Ü
>(cÚ¡ 
	gfixed_pošt32
<QR> &
	gr
è{  (
	gv®
 >„.val);}

591 
	g‹m¶©e
 <
ušt8_t
 
	gQR
> 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gfixed_pošt32
<QR> &
	gr
è{  (
	gv®
 <„.val);}

598 
	g‹m¶©e
<
ty³Çme
 
	gT
>

599 
T
 
assignH–³r
(T 
rhs_v®
, 
ušt8_t
 
q
, ušt8_ˆ
qr
)

601 
T
 
	g»suÉ
 = (
q
 > 
qr
è? 
rhs_v®
 << (q-qr) :„hs_val >> (qr-q);

602  
	g»suÉ
;

608 
	g‹m¶©e
<
ušt32_t
 
	gq
>em¶©e<ušt32_ˆ
	gqr
>

609 
	gfixed_pošt256
<
	gq
>::
fixed_pošt256
(cÚ¡ fixed_pošt256<
qr
> &
r
) {

610 
v®
 = 
assignH–³r
<
št256_t
>(
r
.v®, 
	gq
, 
	gqr
);

613 
	g‹m¶©e
<
ušt32_t
 
	gq
>em¶©e<ušt32_ˆ
	gqr
>

614 
	gfixed_pošt256
<
	gq
>::
fixed_pošt256
(cÚ¡ 
fixed_pošt128
<
qr
> &
r
) {

615 
v®
 = 
assignH–³r
<
št256_t
>(
r
.v®, 
	gq
, 
	gqr
);

618 
	g‹m¶©e
<
ušt32_t
 
	gq
>em¶©e<ušt32_ˆ
	gqr
>

619 
	gfixed_pošt256
<
	gq
>::
fixed_pošt256
(cÚ¡ 
fixed_pošt64
<
qr
> &
r
) {

620 
v®
 = 
assignH–³r
<
št256_t
>(
r
.v®, 
	gq
, 
	gqr
);

623 
	g‹m¶©e
<
ušt32_t
 
	gq
>em¶©<ušt32_ˆ
	gqr
>

624 
	gfixed_pošt256
<
	gq
>::
fixed_pošt256
(cÚ¡ 
fixed_pošt32
<
qr
> &
r
) {

625 
v®
 = 
assignH–³r
<
št256_t
>(
r
.v®, 
	gq
, 
	gqr
);

630 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©e<ušt8_ˆ
	gQR
>

631 
	gfixed_pošt128
<
	gQ
>::
fixed_pošt128
(cÚ¡ fixed_pošt128<
QR
> &
r
) {

632 
v®
 = 
assignH–³r
<
št128_t
>(
r
.v®, 
	gQ
, 
	gQR
);

635 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©e<ušt8_ˆ
	gQR
>

636 
	gfixed_pošt128
<
	gQ
>::
fixed_pošt128
(cÚ¡ 
fixed_pošt64
<
QR
> &
r
) {

637 
v®
 = 
assignH–³r
<
št128_t
>(
r
.v®, 
	gQ
, 
	gQR
);

640 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©<ušt8_ˆ
	gQR
>

641 
	gfixed_pošt128
<
	gQ
>::
fixed_pošt128
(cÚ¡ 
fixed_pošt32
<
QR
> &
r
) {

642 
v®
 = 
assignH–³r
<
št128_t
>(
r
.v®, 
	gQ
, 
	gQR
);

647 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©e<ušt8_ˆ
	gQR
>

648 
	gfixed_pošt64
<
	gQ
>::
fixed_pošt64
(cÚ¡ fixed_pošt64<
QR
> &
r
) {

649 
v®
 = 
assignH–³r
<
št64_t
>(
r
.v®, 
	gQ
, 
	gQR
);

652 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©<ušt8_ˆ
	gQR
>

653 
	gfixed_pošt64
<
	gQ
>::
fixed_pošt64
(cÚ¡ 
fixed_pošt32
<
QR
> &
r
) {

654 
v®
 = 
assignH–³r
<
št32_t
>(
r
.v®, 
	gQ
, 
	gQR
);

663 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©e<ušt8_ˆ
	gQR
>

664 
	gfixed_pošt64
< (
	gQ
>
	gQR
)?Q:
QR
 > 
fixed_pošt64
<
Q
>::
İ”©Ü
+(cÚ¡ fixed_pošt64<QR> &
rhs
) const

667 if(
Q
 =ğ
QR
)

669  
fixed_pošt64
<
Q
>(
v®
 + 
rhs
.val);

671  
	gfixed_pošt64
<(
	gQ
>
	gQR
)?Q:
QR
>(

672 
fixed_pošt64
<(
Q
>
QR
)?Q:QR>Ğ*
this
 ).
v®
 +

673 
fixed_pošt64
<(
Q
>
QR
)?Q:QR>Ğ
rhs
 ).
v®


683 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©e<ušt8_ˆ
	gQR
>

684 
	gfixed_pošt64
< (
	gQ
>
	gQR
)?Q:
QR
 > 
fixed_pošt64
<
Q
>::
İ”©Ü
-(cÚ¡ fixed_pošt64<QR> &
rhs
) const

687 if(
Q
 =ğ
QR
)

689  
fixed_pošt64
<
Q
>(
v®
 - 
rhs
.val);

691  
	gfixed_pošt64
<(
	gQ
>
	gQR
)?Q:
QR
>(

692 
fixed_pošt64
<(
Q
>
QR
)?Q:QR>Ğ*
this
 ).
v®
 -

693 
fixed_pošt64
<(
Q
>
QR
)?Q:QR>Ğ
rhs
 ).
v®


708 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©<ušt8_ˆ
	gQR
>

709 
	gfixed_pošt128
<
	gQ
+
	gQR
> 
	gfixed_pošt64
<Q>::
İ”©Ü
*(cÚ¡ 
fixed_pošt64
<
QR
> &
r
) const {

710  
fixed_pošt128
<
Q
+
QR
>(
št128_t
(
v®
)*
r
.val);

721 
	g‹m¶©e
 <
ušt8_t
 
	gQ
>em¶©<ušt8_ˆ
	gQR
>

722 
	gfixed_pošt128
<
	gQ
+64-
	gQR
> 
	gfixed_pošt64
<Q>::
İ”©Ü
/(cÚ¡ 
fixed_pošt64
<
QR
> &
r
) const {

726 
eosio
::
check
Ğ!(
r
.
št_·¹
(è=ğ0 &&„.
äac_·¹
() == 0), "divide by zero" );

727  
	gfixed_pošt128
<
	gQ
+64-
	gQR
>((
št128_t
(
v®
)<<64)/
	gr
.
	gv®
);

731 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©<ušt8_ˆ
	gQR
>

732 
	gfixed_pošt32
<
	gQ
>::
fixed_pošt32
(cÚ¡ fixed_pošt32<
QR
> &
r
) {

733 
v®
 = 
assignH–³r
<
št32_t
>(
r
.v®, 
	gQ
, 
	gQR
);

736 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©<ušt8_ˆ
	gQR
>

737 
	gfixed_pošt32
<
	gQ
>::
fixed_pošt32
(cÚ¡ 
fixed_pošt64
<
QR
> &
r
) {

738 
v®
 = 
assignH–³r
<
št32_t
>(
r
.v®, 
	gQ
, 
	gQR
);

741 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©<ušt8_ˆ
	gQR
>

742 
	gfixed_pošt32
<
	gQ
> &fixed_pošt32<Q>::
İ”©Ü
=(cÚ¡ 
fixed_pošt32
<
QR
> &
r
) {

743 
v®
 = 
assignH–³r
<
št32_t
>(
r
.v®, 
	gQ
, 
	gQR
);

746 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©<ušt8_ˆ
	gQR
>

747 
	gfixed_pošt32
<
	gQ
> &fixed_pošt32<Q>::
İ”©Ü
=(cÚ¡ 
fixed_pošt64
<
QR
> &
r
) {

748 
v®
 = 
assignH–³r
<
št32_t
>(
r
.v®, 
	gQ
, 
	gQR
);

757 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©e<ušt8_ˆ
	gQR
>

758 
	gfixed_pošt32
< (
	gQ
>
	gQR
)?Q:
QR
 > 
fixed_pošt32
<
Q
>::
İ”©Ü
+(cÚ¡ fixed_pošt32<QR> &
rhs
) const

761 if(
Q
 =ğ
QR
)

763  
fixed_pošt32
<
Q
>(
v®
 + 
rhs
.val);

765  
	gfixed_pošt32
<(
	gQ
>
	gQR
)?Q:
QR
>(

766 
fixed_pošt32
<(
Q
>
QR
)?Q:QR>Ğ*
this
 ).
v®
 +

767 
fixed_pošt32
<(
Q
>
QR
)?Q:QR>Ğ
rhs
 ).
v®


776 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©e<ušt8_ˆ
	gQR
>

777 
	gfixed_pošt32
< (
	gQ
>
	gQR
)?Q:
QR
 > 
fixed_pošt32
<
Q
>::
İ”©Ü
-(cÚ¡ fixed_pošt32<QR> &
rhs
) const

780 if(
Q
 =ğ
QR
)

782  
fixed_pošt32
<
Q
>(
v®
 - 
rhs
.val);

784  
	gfixed_pošt32
<(
	gQ
>
	gQR
)?Q:
QR
>(

785 
fixed_pošt32
<(
Q
>
QR
)?Q:QR>Ğ*
this
 ).
v®
 -

786 
fixed_pošt32
<(
Q
>
QR
)?Q:QR>Ğ
rhs
 ).
v®


800 
	g‹m¶©e
<
ušt8_t
 
	gQ
>em¶©<ušt8_ˆ
	gQR
>

801 
	gfixed_pošt64
<
	gQ
+
	gQR
> 
	gfixed_pošt32
<Q>::
İ”©Ü
*(cÚ¡ 
fixed_pošt32
<
QR
> &
r
) const {

802  
fixed_pošt64
<
Q
+
QR
>(
št64_t
(
v®
)*
r
.val);

813 
	g‹m¶©e
 <
ušt8_t
 
	gQ
>em¶©<ušt8_ˆ
	gQR
>

814 
	gfixed_pošt64
<
	gQ
+32-
	gQR
> 
	gfixed_pošt32
<Q>::
İ”©Ü
/(cÚ¡ 
fixed_pošt32
<
QR
> &
r
) const {

817 
eosio
::
check
Ğ!(
r
.
št_·¹
(è=ğ0 &&„.
äac_·¹
() == 0), "divide by zero" );

818  
	gfixed_pošt64
<
	gQ
+32-
	gQR
>((
št64_t
(
v®
)<<32)/
	gr
.
	gv®
);

831 
	g‹m¶©e
 <
ušt8_t
 
	gQ
>

832 
	gfixed_pošt64
<
	gQ
> 
fixed_divide
(
ušt32_t
 
lhs
, ušt32_ˆ
rhs
)

835 
	geosio
::
check
Ğ
rhs
 != 0, "divide by zero" );

836 
	gfixed_pošt64
<
	gQ
> 
	g»suÉ
 = 
fixed_pošt32
<0>((
št32_t
)
lhs
è/ fixed_pošt32<0>((št32_t)
rhs
);

837  
	g»suÉ
;

849 
	g‹m¶©e
 <
ušt8_t
 
	gQ
>

850 
	gfixed_pošt128
<
	gQ
> 
fixed_divide
(
ušt64_t
 
lhs
, ušt64_ˆ
rhs
)

853 
	geosio
::
check
Ğ
rhs
 != 0, "divide by zero" );

854 
	gfixed_pošt128
<
	gQ
> 
	g»suÉ
 = 
fixed_pošt64
<0>((
št32_t
)
lhs
è/ fixed_pošt64<0>((št32_t)
rhs
);

855  
	gfixed_pošt128
<
	gQ
>(
	g»suÉ
);

	@ignore.hpp

1 #´agm¨
Úû


3 
Çme¥aû
 
	geosio
 {

12 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

13 [[
eosio
::
ignÜe
]] ignore {};

18 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

19 
	signÜe_w¿µ”
 {

20 
cÚ¡ex´
 
ignÜe_w¿µ”
() {}

21 
cÚ¡ex´
 
ignÜe_w¿µ”
(
T
 
v®
è: 
v®ue
(val) {}

22 
cÚ¡ex´
 
ignÜe_w¿µ”
(
ignÜe
<
T
> 
v®
) {}

23 
cÚ¡ex´
 
šlše
 
T
 
g‘
(è{  
v®ue
; }

24 
cÚ¡ex´
 
İ”©Ü
 
T
(è{  
	gv®ue
; }

25 
cÚ¡ex´
 
İ”©Ü
 
	gignÜe
<
	gT
>() {  {}; }

26 
T
 
	gv®ue
;

	@memory.hpp

5 #´agm¨
Úû


7 
	~"ty³s.h
"

9 #ifdeà
EOSIO_NATIVE


10 "C" * 
®loÿ
(
size_t
);

13 * 
sbrk
(
size_t
 
num_by‹s
);

31 * 
m®loc
(
size_t
 
size
);

40 * 
ÿÎoc
(
size_t
 
couÁ
, size_ˆ
size
);

49 * 
»®loc
(* 
±r
, 
size_t
 
size
);

57 
ä“
(* 
±r
);

	@multi_index.hpp

5 #´agm¨
Úû


7 
	~"aùiÚ.h
"

8 
	~"Çme.hµ
"

9 
	~"£rŸlize.hµ
"

10 
	~"d©a¡»am.hµ
"

11 
	~"db.h
"

12 
	~"fixed_by‹s.hµ
"

14 
	~<veùÜ
>

15 
	~<tu¶e
>

16 
	~<boo¡/hªa.hµ
>

17 
	~<funùiÚ®
>

18 
	~<ut™y
>

19 
	~<ty³_Œa™s
>

20 
	~<™”©Ü
>

21 
	~<lim™s
>

22 
	~<®gÜ™hm
>

23 
	~<memÜy
>

25 
Çme¥aû
 
	geosio
 {

27 
cÚ¡ex´
 
šlše
 
Çme
 
	g§me_·y”
{};

29 
	g‹m¶©e
<
şass
 
	gCÏss
,
ty³Çme
 
	gTy³
,
Ty³
 (
CÏss
::*
PŒToMemb”FunùiÚ
)()const>

30 
	scÚ¡_mem_fun


32 
ty³Çme
 
	t¡d
::
	t»move_»ã»nû
<
	tTy³
>::
	tty³
 
	t»suÉ_ty³
;

34 
	g‹m¶©e
<
ty³Çme
 
	gChašedPŒ
>

36 autØ
İ”©Ü
()(cÚ¡ 
	gChašedPŒ
& 
	gx
)cÚ¡ -> 
	g¡d
::
’abË_if_t
<!
¡d
::
is_cÚv”tibË
<cÚ¡ 
ChašedPŒ
&, cÚ¡ 
	gCÏss
&>::
v®ue
, 
	gTy³
>

38  
İ”©Ü
()(*
	gx
);

41 
Ty³
 
İ”©Ü
()(cÚ¡ 
	gCÏss
& 
	gx
)const

43  (
	gx
.*
	gPŒToMemb”FunùiÚ
)();

46 
Ty³
 
İ”©Ü
()(cÚ¡ 
	g¡d
::
»ã»nû_w¿µ”
<cÚ¡ 
CÏss
>& 
x
)const

48  
İ”©Ü
()(
x
.
g‘
());

51 
Ty³
 
İ”©Ü
()(cÚ¡ 
	g¡d
::
»ã»nû_w¿µ”
<
CÏss
>& 
x
)const

53  
İ”©Ü
()(
x
.
g‘
());

57 
	#WRAP_SECONDARY_SIMPLE_TYPE
(
IDX
, 
TYPE
)\

58 
‹m¶©e
<>\

59 
£cÚd¬y_šdex_db_funùiÚs
<
TYPE
> {\

60 
št32_t
 
	`db_idx_Ãxt
Ğšt32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
 ) {  
db_
##
IDX
##
	`_Ãxt
( iterator,…rimary ); }\

61 
št32_t
 
	`db_idx_´evious
Ğšt32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
 ) {  
db_
##
IDX
##
	`_´evious
( iterator,…rimary ); }\

62 
	`db_idx_»move
Ğ
št32_t
 
™”©Ü
 ) { 
db_
##
IDX
##
	`_»move
( iterator ); }\

63 
št32_t
 
	`db_idx_’d
Ğ
ušt64_t
 
code
, ušt64_ˆ
scİe
, ušt64_ˆ
bË
 ) {  
db_
##
IDX
##
	`_’d
( code, scope,able ); }\

64 
št32_t
 
	`db_idx_¡Üe
Ğ
ušt64_t
 
scİe
, ušt64_ˆ
bË
, ušt64_ˆ
·y”
, ušt64_ˆ
id
, cÚ¡ 
TYPE
& 
£cÚd¬y
 ) {\

65  
db_
##
IDX
##
	`_¡Üe
Ğ
scİe
, 
bË
, 
·y”
, 
id
, &
£cÚd¬y
 );\

67 
	`db_idx_upd©e
Ğ
št32_t
 
™”©Ü
, 
ušt64_t
 
·y”
, cÚ¡ 
TYPE
& 
£cÚd¬y
 ) {\

68 
db_
##
IDX
##
	`_upd©e
Ğ
™”©Ü
, 
·y”
, &
£cÚd¬y
 );\

70 
št32_t
 
	`db_idx_fšd_´im¬y
Ğ
ušt64_t
 
code
, ušt64_ˆ
scİe
, ušt64_ˆ
bË
, ušt64_ˆ
´im¬y
, 
TYPE
& 
£cÚd¬y
 ) {\

71  
db_
##
IDX
##
	`_fšd_´im¬y
Ğ
code
, 
scİe
, 
bË
, &
£cÚd¬y
, 
´im¬y
 );\

73 
št32_t
 
	`db_idx_fšd_£cÚd¬y
Ğ
ušt64_t
 
code
, ušt64_ˆ
scİe
, ušt64_ˆ
bË
, cÚ¡ 
TYPE
& 
£cÚd¬y
, ušt64_t& 
´im¬y
 ) {\

74  
db_
##
IDX
##
	`_fšd_£cÚd¬y
Ğ
code
, 
scİe
, 
bË
, &
£cÚd¬y
, &
´im¬y
 );\

76 
št32_t
 
	`db_idx_low”bound
Ğ
ušt64_t
 
code
, ušt64_ˆ
scİe
, ušt64_ˆ
bË
, 
TYPE
& 
£cÚd¬y
, ušt64_t& 
´im¬y
 ) {\

77  
db_
##
IDX
##
	`_low”bound
Ğ
code
, 
scİe
, 
bË
, &
£cÚd¬y
, &
´im¬y
 );\

79 
št32_t
 
	`db_idx_uµ”bound
Ğ
ušt64_t
 
code
, ušt64_ˆ
scİe
, ušt64_ˆ
bË
, 
TYPE
& 
£cÚd¬y
, ušt64_t& 
´im¬y
 ) {\

80  
db_
##
IDX
##
	`_uµ”bound
Ğ
code
, 
scİe
, 
bË
, &
£cÚd¬y
, &
´im¬y
 );\

82 };

	)

84 
	#WRAP_SECONDARY_ARRAY_TYPE
(
IDX
, 
TYPE
)\

85 
‹m¶©e
<>\

86 
£cÚd¬y_šdex_db_funùiÚs
<
TYPE
> {\

87 
št32_t
 
	`db_idx_Ãxt
Ğšt32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
 ) {  
db_
##
IDX
##
	`_Ãxt
( iterator,…rimary ); }\

88 
št32_t
 
	`db_idx_´evious
Ğšt32_ˆ
™”©Ü
, 
ušt64_t
* 
´im¬y
 ) {  
db_
##
IDX
##
	`_´evious
( iterator,…rimary ); }\

89 
	`db_idx_»move
Ğ
št32_t
 
™”©Ü
 ) { 
db_
##
IDX
##
	`_»move
( iterator ); }\

90 
št32_t
 
	`db_idx_’d
Ğ
ušt64_t
 
code
, ušt64_ˆ
scİe
, ušt64_ˆ
bË
 ) {  
db_
##
IDX
##
	`_’d
( code, scope,able ); }\

91 
št32_t
 
	`db_idx_¡Üe
Ğ
ušt64_t
 
scİe
, ušt64_ˆ
bË
, ušt64_ˆ
·y”
, ušt64_ˆ
id
, cÚ¡ 
TYPE
& 
£cÚd¬y
 ) {\

92  
db_
##
IDX
##
	`_¡Üe
Ğ
scİe
, 
bË
, 
·y”
, 
id
, 
£cÚd¬y
.
	`d©a
(), 
TYPE
::
	`num_wÜds
() );\

94 
	`db_idx_upd©e
Ğ
št32_t
 
™”©Ü
, 
ušt64_t
 
·y”
, cÚ¡ 
TYPE
& 
£cÚd¬y
 ) {\

95 
db_
##
IDX
##
	`_upd©e
Ğ
™”©Ü
, 
·y”
, 
£cÚd¬y
.
	`d©a
(), 
TYPE
::
	`num_wÜds
() );\

97 
št32_t
 
	`db_idx_fšd_´im¬y
Ğ
ušt64_t
 
code
, ušt64_ˆ
scİe
, ušt64_ˆ
bË
, ušt64_ˆ
´im¬y
, 
TYPE
& 
£cÚd¬y
 ) {\

98  
db_
##
IDX
##
	`_fšd_´im¬y
Ğ
code
, 
scİe
, 
bË
, 
£cÚd¬y
.
	`d©a
(), 
TYPE
::
	`num_wÜds
(), 
´im¬y
 );\

100 
št32_t
 
	`db_idx_fšd_£cÚd¬y
Ğ
ušt64_t
 
code
, ušt64_ˆ
scİe
, ušt64_ˆ
bË
, cÚ¡ 
TYPE
& 
£cÚd¬y
, ušt64_t& 
´im¬y
 ) {\

101  
db_
##
IDX
##
	`_fšd_£cÚd¬y
Ğ
code
, 
scİe
, 
bË
, 
£cÚd¬y
.
	`d©a
(), 
TYPE
::
	`num_wÜds
(), &
´im¬y
 );\

103 
št32_t
 
	`db_idx_low”bound
Ğ
ušt64_t
 
code
, ušt64_ˆ
scİe
, ušt64_ˆ
bË
, 
TYPE
& 
£cÚd¬y
, ušt64_t& 
´im¬y
 ) {\

104  
db_
##
IDX
##
	`_low”bound
Ğ
code
, 
scİe
, 
bË
, 
£cÚd¬y
.
	`d©a
(), 
TYPE
::
	`num_wÜds
(), &
´im¬y
 );\

106 
št32_t
 
	`db_idx_uµ”bound
Ğ
ušt64_t
 
code
, ušt64_ˆ
scİe
, ušt64_ˆ
bË
, 
TYPE
& 
£cÚd¬y
, ušt64_t& 
´im¬y
 ) {\

107  
db_
##
IDX
##
	`_uµ”bound
Ğ
code
, 
scİe
, 
bË
, 
£cÚd¬y
.
	`d©a
(), 
TYPE
::
	`num_wÜds
(), &
´im¬y
 );\

109 };

	)

111 
	#MAKE_TRAITS_FOR_ARITHMETIC_SECONDARY_KEY
(
TYPE
)\

112 
‹m¶©e
<>\

113 
£cÚd¬y_key_Œa™s
<
TYPE
> {\

114 
	`¡©ic_as£¹
Ğ
¡d
::
num”ic_lim™s
<
TYPE
>::
is_¥ecŸlized
, "TYPE does‚ot have specialized‚umeric_limits" );\

115 
cÚ¡ex´
 
TYPE
 
	`Œue_lowe¡
(è{  
¡d
::
num”ic_lim™s
<TYPE>::
	`lowe¡
(); }\

116 };

	)

118 
Çme¥aû
 
	g_muÉi_šdex_d‘a
 {

120 
Çme¥aû
 
	ghªa
 = 
boo¡
::
hªa
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
	g£cÚd¬y_šdex_db_funùiÚs
;

125 
	g‹m¶©e
<
ty³Çme
 
	gT
>

126 
	g£cÚd¬y_key_Œa™s
;

128 
WRAP_SECONDARY_SIMPLE_TYPE
(
idx64
, 
ušt64_t
)

129 
MAKE_TRAITS_FOR_ARITHMETIC_SECONDARY_KEY
(
ušt64_t
)

131 
WRAP_SECONDARY_SIMPLE_TYPE
(
idx128
, 
ušt128_t
)

132 
MAKE_TRAITS_FOR_ARITHMETIC_SECONDARY_KEY
(
ušt128_t
)

134 
WRAP_SECONDARY_SIMPLE_TYPE
(
idx_doubË
, )

135 
	g‹m¶©e
<>

136 
	g£cÚd¬y_key_Œa™s
<> {

137 
cÚ¡ex´
 
Œue_lowe¡
(è{  -
	g¡d
::
num”ic_lim™s
<>::
šfš™y
(); }

140 
WRAP_SECONDARY_SIMPLE_TYPE
(
idx_lÚg_doubË
, )

141 
	g‹m¶©e
<>

142 
	g£cÚd¬y_key_Œa™s
<> {

143 
cÚ¡ex´
 
Œue_lowe¡
(è{  -
	g¡d
::
num”ic_lim™s
<>::
šfš™y
(); }

146 
WRAP_SECONDARY_ARRAY_TYPE
(
idx256
, 
eosio
::
key256
)

147 
‹m¶©e
<>

148 
£cÚd¬y_key_Œa™s
<
eosio
::
key256
> {

149 
cÚ¡ex´
 
eosio
::
key256
 
Œue_lowe¡
() { ƒosio::key256(); }

152 
WRAP_SECONDARY_ARRAY_TYPE
(
idx256
, 
eosio
::
fixed_by‹s
<32>)

153 
‹m¶©e
<>

154 
£cÚd¬y_key_Œa™s
<
eosio
::
fixed_by‹s
<32>> {

155 
cÚ¡ex´
 
eosio
::
fixed_by‹s
<32> 
Œue_lowe¡
() { ƒosio::fixed_bytes<32>(); }

192 
	g‹m¶©e
<
	gÇme
::
¿w
 
IndexName
, 
ty³Çme
 
	gExŒaùÜ
>

193 
	sšdexed_by
 {

194 
	ecÚ¡ªts
 { 
	gšdex_Çme
 = 
¡©ic_ÿ¡
<
ušt64_t
>(
IndexName
) };

195 
ExŒaùÜ
 
	t£cÚd¬y_exŒaùÜ_ty³
;

256 
	g‹m¶©e
<
	gÇme
::
¿w
 
TabËName
, 
ty³Çme
 
	gT
, 
	gty³Çme
... 
	gIndiûs
>

257 şas 
	cmuÉi_šdex


259 
	g´iv©e
:

261 
¡©ic_as£¹
Ğ...(
Indiûs
) <= 16, "multi_index only supports‡ maximum of 16 secondary indices" );

263 
cÚ¡ex´
 
boŞ
 
v®id©e_bË_Çme
Ğ
Çme
 
n
 ) {

265  
	gn
.
Ëngth
() < 13;

268 
cÚ¡ex´
 
size_t
 
	gmax_¡ack_bufãr_size
 = 512;

270 
¡©ic_as£¹
Ğ
v®id©e_bË_Çme
Ğ
Çme
(
TabËName
) ), "multi_index does‚ot supportable‚ames with‡†ength greaterhan 12");

272 
Çme
 
	g_code
;

273 
ušt64_t
 
	g_scİe
;

275 
mubË
 
ušt64_t
 
	g_Ãxt_´im¬y_key
;

277 
	gÃxt_´im¬y_key_gs
 : 
ušt64_t
 {

278 
no_avaabË_´im¬y_key
 = 
¡©ic_ÿ¡
<
ušt64_t
>(-2),

279 
	gun£t_Ãxt_´im¬y_key
 = 
¡©ic_ÿ¡
<
ušt64_t
>(-1)

282 
	g™em
 : 
public
 
T


284 
‹m¶©e
<
ty³Çme
 
CÚ¡ruùÜ
>

285 
™em
ĞcÚ¡ 
muÉi_šdex
* 
idx
, 
CÚ¡ruùÜ
&& 
c
 )

286 :
__idx
(
idx
){

287 
c
(*
this
);

290 cÚ¡ 
muÉi_šdex
* 
	g__idx
;

291 
št32_t
 
	g__´im¬y_™r
;

292 
št32_t
 
	g__™”s
[...(
Indiûs
)+(...(Indices)==0)];

295 
	s™em_±r


297 
™em_±r
(
¡d
::
unique_±r
<
™em
>&& 
i
, 
ušt64_t
 
pk
, 
št32_t
 
p™r
)

298 : 
_™em
(
¡d
::
move
(
i
)), 
_´im¬y_key
(
pk
), 
_´im¬y_™r
(
p™r
) {}

300 
	g¡d
::
unique_±r
<
™em
> 
_™em
;

301 
ušt64_t
 
	g_´im¬y_key
;

302 
št32_t
 
	g_´im¬y_™r
;

305 
mubË
 
	g¡d
::
veùÜ
<
™em_±r
> 
_™ems_veùÜ
;

307 
	g‹m¶©e
<
	gÇme
::
¿w
 
IndexName
, 
ty³Çme
 
	gExŒaùÜ
, 
ušt64_t
 
	gNumb”
, 
boŞ
 
	gIsCÚ¡
>

308 
	sšdex
 {

309 
	gpublic
:

310 
ExŒaùÜ
 
	t£cÚd¬y_exŒaùÜ_ty³
;

311 
ty³Çme
 
	t¡d
::
	tdeÿy
<
	tdeşty³
Ğ
	tExŒaùÜ
()(
	tnuÎ±r
è)>::
	tty³
 
	t£cÚd¬y_key_ty³
;

313 
cÚ¡ex´
 
boŞ
 
v®id©e_šdex_Çme
Ğ
eosio
::
Çme
 
n
 ) {

314  
n
.
v®ue
 !ğ0 &&‚ !ğ
eosio
::
Çme
("primary");

317 
¡©ic_as£¹
Ğ
v®id©e_šdex_Çme
Ğ
Çme
(
IndexName
) ), "invalid index‚ame used in multi_index" );

319 
	ecÚ¡ªts
 {

320 
	gbË_Çme
 = 
¡©ic_ÿ¡
<
ušt64_t
>(
TabËName
),

321 
	gšdex_Çme
 = 
¡©ic_ÿ¡
<
ušt64_t
>(
IndexName
),

322 
	gšdex_numb”
 = 
Numb”
,

323 
	gšdex_bË_Çme
 = (
¡©ic_ÿ¡
<
ušt64_t
>(
TabËName
) & 0xFFFFFFFFFFFFFFF0ULL)

324 | (
Numb”
 & 0x000000000000000FULL)

327 
cÚ¡ex´
 
ušt64_t
 
Çme
(è{  
	gšdex_bË_Çme
; }

328 
cÚ¡ex´
 
ušt64_t
 
numb”
(è{  
	gNumb”
; }

330 
	gcÚ¡_™”©Ü
 : 
public
 
¡d
::
™”©Ü
<¡d::
bidœeùiÚ®_™”©Ü_g
, cÚ¡ 
	gT
> {

331 
	gpublic
:

332 
ä›nd
 
boŞ
 
İ”©Ü
 =ğĞcÚ¡ 
cÚ¡_™”©Ü
& 
a
, cÚ¡ 
	gcÚ¡_™”©Ü
& 
	gb
 ) {

333  
	ga
.
	g_™em
 =ğ
b
.
_™em
;

335 
ä›nd
 
boŞ
 
	gİ”©Ü
 !ğĞcÚ¡ 
cÚ¡_™”©Ü
& 
a
, cÚ¡ 
	gcÚ¡_™”©Ü
& 
	gb
 ) {

336  
	ga
.
	g_™em
 !ğ
b
.
_™em
;

339 cÚ¡ 
	gT
& 
	gİ”©Ü
*()cÚ¡ {  *
	g¡©ic_ÿ¡
<cÚ¡ T*>(
	g_™em
); }

340 cÚ¡ 
T
* 
	gİ”©Ü
->()cÚ¡ {  
	g¡©ic_ÿ¡
<cÚ¡ 
	gT
*>(
	g_™em
); }

342 
cÚ¡_™”©Ü
 
	gİ”©Ü
++(){

343 
cÚ¡_™”©Ü
 
»suÉ
(*
this
);

344 ++(*
	gthis
);

345  
	g»suÉ
;

348 
cÚ¡_™”©Ü
 
	gİ”©Ü
--(){

349 
cÚ¡_™”©Ü
 
»suÉ
(*
this
);

350 --(*
	gthis
);

351  
	g»suÉ
;

354 
	gcÚ¡_™”©Ü
& 
	gİ”©Ü
++() {

355 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

357 
	geosio
::
check
Ğ
_™em
 !ğ
nuÎ±r
, "cannot incrementƒnd iterator" );

359 ifĞ
	g_™em
->
	g__™”s
[
Numb”
] == -1 ) {

360 
£cÚd¬y_key_ty³
 
‹mp_£cÚd¬y_key
;

361 autØ
	gidx™r
 = 
£cÚd¬y_šdex_db_funùiÚs
<
£cÚd¬y_key_ty³
>::
db_idx_fšd_´im¬y
(
_idx
->
g‘_code
().
v®ue
, _idx->
g‘_scİe
(), _idx->
Çme
(), 
_™em
->
´im¬y_key
(), 
‹mp_£cÚd¬y_key
);

362 auto& 
	gmi
 = 
cÚ¡_ÿ¡
<
™em
&>Ğ*
_™em
 );

363 
	gmi
.
	g__™”s
[
Numb”
] = 
idx™r
;

366 
ušt64_t
 
	gÃxt_pk
 = 0;

367 autØ
	gÃxt_™r
 = 
£cÚd¬y_šdex_db_funùiÚs
<
£cÚd¬y_key_ty³
>::
db_idx_Ãxt
Ğ
_™em
->
__™”s
[
Numb”
], &
Ãxt_pk
 );

368 ifĞ
	gÃxt_™r
 < 0 ) {

369 
	g_™em
 = 
nuÎ±r
;

370  *
	gthis
;

373 cÚ¡ 
	gT
& 
	gobj
 = *
_idx
->
_muÉidx
->
fšd
Ğ
Ãxt_pk
 );

374 auto& 
	gmi
 = 
cÚ¡_ÿ¡
<
™em
&>Ğ
¡©ic_ÿ¡
<cÚ¡ i‹m&>(
obj
) );

375 
	gmi
.
	g__™”s
[
Numb”
] = 
Ãxt_™r
;

376 
	g_™em
 = &
mi
;

378  *
	gthis
;

381 
	gcÚ¡_™”©Ü
& 
	gİ”©Ü
--() {

382 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

384 
ušt64_t
 
	g´ev_pk
 = 0;

385 
št32_t
 
	g´ev_™r
 = -1;

387 ifĞ!
	g_™em
 ) {

388 autØ
	gei
 = 
£cÚd¬y_šdex_db_funùiÚs
<
£cÚd¬y_key_ty³
>::
db_idx_’d
(
_idx
->
g‘_code
().
v®ue
, _idx->
g‘_scİe
(), _idx->
Çme
());

389 
	geosio
::
check
Ğ
ei
 != -1, "cannot decrementƒnd iterator whenhe index isƒmpty" );

390 
	g´ev_™r
 = 
£cÚd¬y_šdex_db_funùiÚs
<
£cÚd¬y_key_ty³
>::
db_idx_´evious
Ğ
ei
 , &
´ev_pk
 );

391 
	geosio
::
check
Ğ
´ev_™r
 >= 0, "cannot decrementƒnd iterator whenhe index isƒmpty" );

393 ifĞ
	g_™em
->
	g__™”s
[
Numb”
] == -1 ) {

394 
£cÚd¬y_key_ty³
 
‹mp_£cÚd¬y_key
;

395 autØ
	gidx™r
 = 
£cÚd¬y_šdex_db_funùiÚs
<
£cÚd¬y_key_ty³
>::
db_idx_fšd_´im¬y
(
_idx
->
g‘_code
().
v®ue
, _idx->
g‘_scİe
(), _idx->
Çme
(), 
_™em
->
´im¬y_key
(), 
‹mp_£cÚd¬y_key
);

396 auto& 
	gmi
 = 
cÚ¡_ÿ¡
<
™em
&>Ğ*
_™em
 );

397 
	gmi
.
	g__™”s
[
Numb”
] = 
idx™r
;

399 
	g´ev_™r
 = 
£cÚd¬y_šdex_db_funùiÚs
<
£cÚd¬y_key_ty³
>::
db_idx_´evious
Ğ
_™em
->
__™”s
[
Numb”
], &
´ev_pk
 );

400 
	geosio
::
check
Ğ
´ev_™r
 >= 0, "cannot decrement iterator‡t beginning of index" );

403 cÚ¡ 
	gT
& 
	gobj
 = *
_idx
->
_muÉidx
->
fšd
Ğ
´ev_pk
 );

404 auto& 
	gmi
 = 
cÚ¡_ÿ¡
<
™em
&>Ğ
¡©ic_ÿ¡
<cÚ¡ i‹m&>(
obj
) );

405 
	gmi
.
	g__™”s
[
Numb”
] = 
´ev_™r
;

406 
	g_™em
 = &
mi
;

408  *
	gthis
;

411 
cÚ¡_™”©Ü
():
_™em
(
nuÎ±r
){}

412 
´iv©e
:

413 
ä›nd
 
šdex
;

414 
cÚ¡_™”©Ü
ĞcÚ¡ 
šdex
* 
idx
, cÚ¡ 
™em
* 
i
 = 
nuÎ±r
 )

415 : 
_idx
(
idx
), 
_™em
(
i
) {}

417 cÚ¡ 
šdex
* 
	g_idx
;

418 cÚ¡ 
™em
* 
	g_™em
;

421 
	g¡d
::
	t»v”£_™”©Ü
<
	tcÚ¡_™”©Ü
> 
	tcÚ¡_»v”£_™”©Ü
;

423 
cÚ¡_™”©Ü
 
cbegš
()const {

424 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

425  
low”_bound
Ğ
£cÚd¬y_key_Œa™s
<
£cÚd¬y_key_ty³
>::
Œue_lowe¡
() );

427 
cÚ¡_™”©Ü
 
begš
()cÚ¡ {  
cbegš
(); }

429 
cÚ¡_™”©Ü
 
ûnd
()cÚ¡ {  cÚ¡_™”©ÜĞ
this
 ); }

430 
cÚ¡_™”©Ü
 
’d
()cÚ¡ {  
ûnd
(); }

432 
cÚ¡_»v”£_™”©Ü
 
übegš
()cÚ¡ {  
	g¡d
::
make_»v”£_™”©Ü
(
ûnd
()); }

433 
cÚ¡_»v”£_™”©Ü
 
rbegš
()cÚ¡ {  
übegš
(); }

435 
cÚ¡_»v”£_™”©Ü
 
ü’d
()cÚ¡ {  
	g¡d
::
make_»v”£_™”©Ü
(
cbegš
()); }

436 
cÚ¡_»v”£_™”©Ü
 
»nd
()cÚ¡ {  
ü’d
(); }

438 
cÚ¡_™”©Ü
 
fšd
Ğ
£cÚd¬y_key_ty³
&& 
£cÚd¬y
 )const {

439  
fšd
Ğ
£cÚd¬y
 );

442 
cÚ¡_™”©Ü
 
fšd
ĞcÚ¡ 
£cÚd¬y_key_ty³
& 
£cÚd¬y
 )const {

443 autØ
	glb
 = 
low”_bound
Ğ
£cÚd¬y
 );

444 autØ
	ge
 = 
ûnd
();

445 ifĞ
	glb
 =ğ
e
 ) ƒ;

447 ifĞ
	g£cÚd¬y
 !ğ
£cÚd¬y_exŒaùÜ_ty³
()(*
lb
) )

448  
e
;

449  
	glb
;

452 
cÚ¡_™”©Ü
 
»quœe_fšd
Ğ
£cÚd¬y_key_ty³
&& 
£cÚd¬y
, cÚ¡ * 
”rÜ_msg
 = "unableo find secondary key" )const {

453  
»quœe_fšd
Ğ
£cÚd¬y
, 
”rÜ_msg
 );

456 
cÚ¡_™”©Ü
 
»quœe_fšd
ĞcÚ¡ 
£cÚd¬y_key_ty³
& 
£cÚd¬y
, cÚ¡ * 
”rÜ_msg
 = "unableo find secondary key" )const {

457 autØ
lb
 = 
low”_bound
Ğ
£cÚd¬y
 );

458 
	geosio
::
check
Ğ
lb
 !ğ
ûnd
(), 
”rÜ_msg
 );

459 
	geosio
::
check
Ğ
£cÚd¬y
 =ğ
£cÚd¬y_exŒaùÜ_ty³
()(*
lb
), 
”rÜ_msg
 );

460  
	glb
;

463 cÚ¡ 
	gT
& 
g‘
Ğ
£cÚd¬y_key_ty³
&& 
£cÚd¬y
, cÚ¡ * 
”rÜ_msg
 = "unableo find secondary key" )const {

464  
g‘
Ğ
£cÚd¬y
, 
”rÜ_msg
 );

468 cÚ¡ 
	gT
& 
g‘
ĞcÚ¡ 
£cÚd¬y_key_ty³
& 
£cÚd¬y
, cÚ¡ * 
”rÜ_msg
 = "unableo find secondary key" )const {

469 autØ
»suÉ
 = 
fšd
Ğ
£cÚd¬y
 );

470 
	geosio
::
check
Ğ
»suÉ
 !ğ
ûnd
(), 
”rÜ_msg
 );

471  *
	g»suÉ
;

474 
cÚ¡_™”©Ü
 
low”_bound
Ğ
£cÚd¬y_key_ty³
&& 
£cÚd¬y
 )const {

475  
low”_bound
Ğ
£cÚd¬y
 );

477 
cÚ¡_™”©Ü
 
low”_bound
ĞcÚ¡ 
£cÚd¬y_key_ty³
& 
£cÚd¬y
 )const {

478 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

480 
ušt64_t
 
	g´im¬y
 = 0;

481 
£cÚd¬y_key_ty³
 
£cÚd¬y_cİy
(
£cÚd¬y
);

482 autØ
	g™r
 = 
£cÚd¬y_šdex_db_funùiÚs
<
£cÚd¬y_key_ty³
>::
db_idx_low”bound
Ğ
g‘_code
().
v®ue
, 
g‘_scİe
(), 
Çme
(), 
£cÚd¬y_cİy
, 
´im¬y
 );

483 ifĞ
	g™r
 < 0 )  
ûnd
();

485 cÚ¡ 
	gT
& 
	gobj
 = *
_muÉidx
->
fšd
Ğ
´im¬y
 );

486 auto& 
	gmi
 = 
cÚ¡_ÿ¡
<
™em
&>Ğ
¡©ic_ÿ¡
<cÚ¡ i‹m&>(
obj
) );

487 
	gmi
.
	g__™”s
[
Numb”
] = 
™r
;

489  {
	gthis
, &
	gmi
};

492 
cÚ¡_™”©Ü
 
uµ”_bound
Ğ
£cÚd¬y_key_ty³
&& 
£cÚd¬y
 )const {

493  
uµ”_bound
Ğ
£cÚd¬y
 );

495 
cÚ¡_™”©Ü
 
uµ”_bound
ĞcÚ¡ 
£cÚd¬y_key_ty³
& 
£cÚd¬y
 )const {

496 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

498 
ušt64_t
 
	g´im¬y
 = 0;

499 
£cÚd¬y_key_ty³
 
£cÚd¬y_cİy
(
£cÚd¬y
);

500 autØ
	g™r
 = 
£cÚd¬y_šdex_db_funùiÚs
<
£cÚd¬y_key_ty³
>::
db_idx_uµ”bound
Ğ
g‘_code
().
v®ue
, 
g‘_scİe
(), 
Çme
(), 
£cÚd¬y_cİy
, 
´im¬y
 );

501 ifĞ
	g™r
 < 0 )  
ûnd
();

503 cÚ¡ 
	gT
& 
	gobj
 = *
_muÉidx
->
fšd
Ğ
´im¬y
 );

504 auto& 
	gmi
 = 
cÚ¡_ÿ¡
<
™em
&>Ğ
¡©ic_ÿ¡
<cÚ¡ i‹m&>(
obj
) );

505 
	gmi
.
	g__™”s
[
Numb”
] = 
™r
;

507  {
	gthis
, &
	gmi
};

510 
cÚ¡_™”©Ü
 
™”©Ü_to
ĞcÚ¡ 
T
& 
obj
 ) {

511 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

513 cÚ¡‡uto& 
	gobj™em
 = 
¡©ic_ÿ¡
<cÚ¡ 
™em
&>(
obj
);

514 
	geosio
::
check
Ğ
obj™em
.
__idx
 =ğ
_muÉidx
, "object…assedo iterator_to is‚ot in multi_index" );

516 ifĞ
	gobj™em
.
	g__™”s
[
Numb”
] == -1 ) {

517 
£cÚd¬y_key_ty³
 
‹mp_£cÚd¬y_key
;

518 autØ
	gidx™r
 = 
£cÚd¬y_šdex_db_funùiÚs
<
£cÚd¬y_key_ty³
>::
db_idx_fšd_´im¬y
(
g‘_code
().
v®ue
, 
g‘_scİe
(), 
Çme
(), 
obj™em
.
´im¬y_key
(), 
‹mp_£cÚd¬y_key
);

519 auto& 
	gmi
 = 
cÚ¡_ÿ¡
<
™em
&>Ğ
obj™em
 );

520 
	gmi
.
	g__™”s
[
Numb”
] = 
idx™r
;

523  {
	gthis
, &
	gobj™em
};

526 
	g‹m¶©e
<
ty³Çme
 
	gLambda
>

527 
modify
Ğ
cÚ¡_™”©Ü
 
™r
, 
eosio
::
Çme
 
·y”
, 
Lambda
&& 
upd©”
 ) {

528 
	geosio
::
check
Ğ
™r
 !ğ
ûnd
(), "cannot…assƒnd iteratoro modify" );

530 
	g_muÉidx
->
modify
Ğ*
™r
, 
·y”
, 
¡d
::
fÜw¬d
<
Lambda
&&>(
upd©”
) );

533 
cÚ¡_™”©Ü
 
”a£
ĞcÚ¡_™”©Ü 
™r
 ) {

534 
	geosio
::
check
Ğ
™r
 !ğ
ûnd
(), "cannot…assƒnd iteratoroƒrase" );

536 cÚ¡‡uto& 
	gobj
 = *
™r
;

537 ++
	g™r
;

539 
	g_muÉidx
->
”a£
(
obj
);

541  
	g™r
;

544 
	geosio
::
Çme
 
g‘_code
()cÚ¡ {  
_muÉidx
->get_code(); }

545 
ušt64_t
 
g‘_scİe
()cÚ¡ {  
	g_muÉidx
->get_scope(); }

547 autØ
exŒaù_£cÚd¬y_key
(cÚ¡ 
T
& 
obj
è{  
£cÚd¬y_exŒaùÜ_ty³
()(
	gobj
); }

549 
	g´iv©e
:

550 
ä›nd
 
şass
 
muÉi_šdex
;

552 
šdex
Ğ
ty³Çme
 
¡d
::
cÚd™iÚ®
<
IsCÚ¡
, cÚ¡ 
muÉi_šdex
*, muÉi_šdex*>::
ty³
 
midx
 )

553 :
_muÉidx
(
midx
){}

555 
ty³Çme
 
¡d
::
cÚd™iÚ®
<
IsCÚ¡
, cÚ¡ 
	gmuÉi_šdex
*, muÉi_šdex*>::
ty³
 
_muÉidx
;

558 
	g‹m¶©e
<
ušt64_t
 
	gI
>

559 
	sštc
 { 
	ee
{ 
	gv®ue
 = 
I
 }; 
İ”©Ü
 
ušt64_t
()cÚ¡{  
	gI
; } };

561 
cÚ¡ex´
‡utØ
ŒªsfÜm_šdiûs
( ) {

562 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

564 
deşty³
Ğ
	thªa
::
	tz_shÜ‹¡
(

565 
	thªa
::
	tmake_tu¶e
Ğ
	tštc
<0>(), intc<1>(), intc<2>(), intc<3>(), intc<4>(), intc<5>(),

566 
	tštc
<6>(), intc<7>(), intc<8>(), intc<9>(), intc<10>(), intc<11>(),

567 
	tštc
<12>(), intc<13>(), intc<14>(), intc<15>() ),

568 
	thªa
::
	ttu¶e
<
	tIndiûs
...>(èèè
	tšdiûs_šput_ty³
;

570  
	ghªa
::
ŒªsfÜm
Ğ
šdiûs_šput_ty³
(), [&]Ğauto&& 
idx
 ){

571 
ty³Çme
 
	t¡d
::
	tdeÿy
<
	tdeşty³
(
	thªa
::
	t©_c
<0>(
	tidx
))>::
	tty³
 
	tnum_ty³
;

572 
ty³Çme
 
	t¡d
::
	tdeÿy
<
	tdeşty³
(
	thªa
::
	t©_c
<1>(
	tidx
))>::
	tty³
 
	tidx_ty³
;

573  
hªa
::
make_tu¶e
Ğhªa::
ty³_c
<
šdex
<
eosio
::
Çme
::
¿w
(
¡©ic_ÿ¡
<
ušt64_t
>(
idx_ty³
::
šdex_Çme
)),

574 
ty³Çme
 
idx_ty³
::
£cÚd¬y_exŒaùÜ_ty³
,

575 
num_ty³
::
e
::
v®ue
, 
çl£
> >,

576 
hªa
::
ty³_c
<
šdex
<
eosio
::
Çme
::
¿w
(
¡©ic_ÿ¡
<
ušt64_t
>(
idx_ty³
::
šdex_Çme
)),

577 
ty³Çme
 
idx_ty³
::
£cÚd¬y_exŒaùÜ_ty³
,

578 
num_ty³
::
e
::
v®ue
, 
Œue
> > );

583 
deşty³
Ğ
	tmuÉi_šdex
::
	tŒªsfÜm_šdiûs
(èè
	tšdiûs_ty³
;

585 
šdiûs_ty³
 
	g_šdiûs
;

587 cÚ¡ 
	g™em
& 
lßd_objeù_by_´im¬y_™”©Ü
Ğ
št32_t
 
™r
 )const {

588 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

590 autØ
	g™r2
 = 
¡d
::
fšd_if
(
_™ems_veùÜ
.
rbegš
(), _™ems_veùÜ.
»nd
(), [&](cÚ¡ 
™em_±r
& 
±r
) {

591  
±r
.
_´im¬y_™r
 =ğ
™r
;

593 ifĞ
	g™r2
 !ğ
_™ems_veùÜ
.
»nd
() )

594  *
™r2
->
_™em
;

596 autØ
	gsize
 = 
db_g‘_i64
Ğ
™r
, 
nuÎ±r
, 0 );

597 
	geosio
::
check
Ğ
size
 >= 0, "error„eading iterator" );

600 * 
	gbufãr
 = 
max_¡ack_bufãr_size
 < 
size_t
(
size
è? 
m®loc
(size_t(size)è: 
®loÿ
(size_t(size));

602 
db_g‘_i64
Ğ
™r
, 
bufãr
, 
ušt32_t
(
size
) );

604 
	gd©a¡»am
<cÚ¡ *> 
ds
Ğ(*)
bufãr
, 
ušt32_t
(
size
) );

606 autØ
	g™m
 = 
¡d
::
make_unique
<
™em
>Ğ
this
, [&]Ğauto& 
	gi
 ) {

607 
	gT
& 
	gv®
 = 
¡©ic_ÿ¡
<
T
&>(
i
);

608 
	gds
 >> 
	gv®
;

610 
	gi
.
	g__´im¬y_™r
 = 
™r
;

611 
	ghªa
::
fÜ_—ch
Ğ
_šdiûs
, [&]Ğauto& 
idx
 ) {

612 
ty³Çme
 
	tdeşty³
(+
	thªa
::
	t©_c
<1>(
	tidx
))::
	tty³
 
	tšdex_ty³
;

614 
i
.
__™”s
[ 
šdex_ty³
::
numb”
() ] = -1;

618 cÚ¡ 
™em
* 
	g±r
 = 
™m
.
g‘
();

619 autØ
	gpk
 = 
™m
->
´im¬y_key
();

620 autØ
	gp™r
 = 
™m
->
__´im¬y_™r
;

622 
	g_™ems_veùÜ
.
em¶aû_back
Ğ
¡d
::
move
(
™m
), 
pk
, 
p™r
 );

624 iàĞ
	gmax_¡ack_bufãr_size
 < 
size_t
(
size
) ) {

625 
ä“
(
bufãr
);

628  *
	g±r
;

631 
	gpublic
:

679 
muÉi_šdex
Ğ
Çme
 
code
, 
ušt64_t
 
scİe
 )

680 :
_code
(
code
),
_scİe
(
scİe
),
_Ãxt_´im¬y_key
(
un£t_Ãxt_´im¬y_key
)

701 
Çme
 
g‘_code
()cÚ¡ {  
	g_code
; }

721 
ušt64_t
 
g‘_scİe
()cÚ¡ {  
	g_scİe
; }

723 
	gcÚ¡_™”©Ü
 : 
public
 
¡d
::
™”©Ü
<¡d::
bidœeùiÚ®_™”©Ü_g
, cÚ¡ 
	gT
> {

724 
ä›nd
 
boŞ
 
	gİ”©Ü
 =ğĞcÚ¡ 
cÚ¡_™”©Ü
& 
a
, cÚ¡ 
	gcÚ¡_™”©Ü
& 
	gb
 ) {

725  
	ga
.
	g_™em
 =ğ
b
.
_™em
;

727 
ä›nd
 
boŞ
 
	gİ”©Ü
 !ğĞcÚ¡ 
cÚ¡_™”©Ü
& 
a
, cÚ¡ 
	gcÚ¡_™”©Ü
& 
	gb
 ) {

728  
	ga
.
	g_™em
 !ğ
b
.
_™em
;

731 cÚ¡ 
	gT
& 
	gİ”©Ü
*()cÚ¡ {  *
	g¡©ic_ÿ¡
<cÚ¡ T*>(
	g_™em
); }

732 cÚ¡ 
T
* 
	gİ”©Ü
->()cÚ¡ {  
	g¡©ic_ÿ¡
<cÚ¡ 
	gT
*>(
	g_™em
); }

734 
cÚ¡_™”©Ü
 
	gİ”©Ü
++() {

735 
cÚ¡_™”©Ü
 
»suÉ
(*
this
);

736 ++(*
	gthis
);

737  
	g»suÉ
;

740 
cÚ¡_™”©Ü
 
	gİ”©Ü
--() {

741 
cÚ¡_™”©Ü
 
»suÉ
(*
this
);

742 --(*
	gthis
);

743  
	g»suÉ
;

746 
	gcÚ¡_™”©Ü
& 
	gİ”©Ü
++() {

747 
	geosio
::
check
Ğ
_™em
 !ğ
nuÎ±r
, "cannot incrementƒnd iterator" );

749 
ušt64_t
 
	gÃxt_pk
;

750 autØ
	gÃxt_™r
 = 
db_Ãxt_i64
Ğ
_™em
->
__´im¬y_™r
, &
Ãxt_pk
 );

751 ifĞ
	gÃxt_™r
 < 0 )

752 
	g_™em
 = 
nuÎ±r
;

754 
	g_™em
 = &
_muÉidx
->
lßd_objeù_by_´im¬y_™”©Ü
Ğ
Ãxt_™r
 );

755  *
	gthis
;

757 
	gcÚ¡_™”©Ü
& 
	gİ”©Ü
--() {

758 
ušt64_t
 
	g´ev_pk
;

759 
št32_t
 
	g´ev_™r
 = -1;

761 ifĞ!
	g_™em
 ) {

762 autØ
	gei
 = 
db_’d_i64
(
_muÉidx
->
g‘_code
().
v®ue
, _muÉidx->
g‘_scİe
(), 
¡©ic_ÿ¡
<
ušt64_t
>(
TabËName
));

763 
	geosio
::
check
Ğ
ei
 != -1, "cannot decrementƒnd iterator whenheable isƒmpty" );

764 
	g´ev_™r
 = 
db_´evious_i64
Ğ
ei
 , &
´ev_pk
 );

765 
	geosio
::
check
Ğ
´ev_™r
 >= 0, "cannot decrementƒnd iterator whenheable isƒmpty" );

767 
	g´ev_™r
 = 
db_´evious_i64
Ğ
_™em
->
__´im¬y_™r
, &
´ev_pk
 );

768 
	geosio
::
check
Ğ
´ev_™r
 >= 0, "cannot decrement iterator‡t beginning ofable" );

771 
	g_™em
 = &
_muÉidx
->
lßd_objeù_by_´im¬y_™”©Ü
Ğ
´ev_™r
 );

772  *
	gthis
;

775 
	g´iv©e
:

776 
cÚ¡_™”©Ü
ĞcÚ¡ 
muÉi_šdex
* 
mi
, cÚ¡ 
™em
* 
i
 = 
nuÎ±r
 )

777 :
_muÉidx
(
mi
),
_™em
(
i
){}

779 cÚ¡ 
muÉi_šdex
* 
	g_muÉidx
;

780 cÚ¡ 
™em
* 
	g_™em
;

781 
ä›nd
 
şass
 
	gmuÉi_šdex
;

784 
	g¡d
::
	t»v”£_™”©Ü
<
	tcÚ¡_™”©Ü
> 
	tcÚ¡_»v”£_™”©Ü
;

807 
cÚ¡_™”©Ü
 
cbegš
()const {

808  
low”_bound
(
¡d
::
num”ic_lim™s
<
ušt64_t
>::
lowe¡
());

832 
cÚ¡_™”©Ü
 
begš
()cÚ¡ {  
cbegš
(); }

855 
cÚ¡_™”©Ü
 
ûnd
()cÚ¡ {  cÚ¡_™”©ÜĞ
this
 ); }

878 
cÚ¡_™”©Ü
 
’d
()cÚ¡ {  
ûnd
(); }

912 
cÚ¡_»v”£_™”©Ü
 
übegš
()cÚ¡ {  
	g¡d
::
make_»v”£_™”©Ü
(
ûnd
()); }

946 
cÚ¡_»v”£_™”©Ü
 
rbegš
()cÚ¡ {  
übegš
(); }

981 
cÚ¡_»v”£_™”©Ü
 
ü’d
()cÚ¡ {  
	g¡d
::
make_»v”£_™”©Ü
(
cbegš
()); }

1016 
cÚ¡_»v”£_™”©Ü
 
»nd
()cÚ¡ {  
ü’d
(); }

1056 
cÚ¡_™”©Ü
 
low”_bound
Ğ
ušt64_t
 
´im¬y
 )const {

1057 autØ
	g™r
 = 
db_low”bound_i64
Ğ
_code
.
v®ue
, 
_scİe
, 
¡©ic_ÿ¡
<
ušt64_t
>(
TabËName
), 
´im¬y
 );

1058 ifĞ
	g™r
 < 0 )  
’d
();

1059 cÚ¡‡uto& 
	gobj
 = 
lßd_objeù_by_´im¬y_™”©Ü
Ğ
™r
 );

1060  {
	gthis
, &
	gobj
};

1099 
cÚ¡_™”©Ü
 
uµ”_bound
Ğ
ušt64_t
 
´im¬y
 )const {

1100 autØ
	g™r
 = 
db_uµ”bound_i64
Ğ
_code
.
v®ue
, 
_scİe
, 
¡©ic_ÿ¡
<
ušt64_t
>(
TabËName
), 
´im¬y
 );

1101 ifĞ
	g™r
 < 0 )  
’d
();

1102 cÚ¡‡uto& 
	gobj
 = 
lßd_objeù_by_´im¬y_™”©Ü
Ğ
™r
 );

1103  {
	gthis
, &
	gobj
};

1136 
ušt64_t
 
avaabË_´im¬y_key
()const {

1137 ifĞ
	g_Ãxt_´im¬y_key
 =ğ
un£t_Ãxt_´im¬y_key
 ) {

1139 ifĞ
begš
(è=ğ
’d
() ) {

1140 
_Ãxt_´im¬y_key
 = 0;

1142 autØ
	g™r
 = --
’d
();

1143 autØ
	gpk
 = 
™r
->
´im¬y_key
();

1144 ifĞ
	gpk
 >ğ
no_avaabË_´im¬y_key
 )

1145 
_Ãxt_´im¬y_key
 = 
no_avaabË_´im¬y_key
;

1147 
	g_Ãxt_´im¬y_key
 = 
pk
 + 1;

1151 
	geosio
::
check
Ğ
_Ãxt_´im¬y_key
 < 
no_avaabË_´im¬y_key
, "next…rimary key inable is‡t‡utoincrement†imit");

1152  
	g_Ãxt_´im¬y_key
;

1195 
	g‹m¶©e
<
	gÇme
::
¿w
 
IndexName
>

1196 autØ
g‘_šdex
() {

1197 
usšg
 
Çme¥aû
 
_muÉi_šdex_d‘a
;

1199 autØ
	g»s
 = 
hªa
::
fšd_if
Ğ
_šdiûs
, []Ğauto&& 
š
 ) {

1200  
¡d
::
š‹g¿l_cÚ¡ªt
<
boŞ
, 
¡©ic_ÿ¡
<
ušt64_t
>(¡d::
deÿy
<
ty³Çme
 
deşty³
(+
hªa
::
©_c
<0>(
š
))::
ty³
>::ty³::
šdex_Çme
è=ğ¡©ic_ÿ¡<ušt64_t>(
IndexName
)>();

1203 
¡©ic_as£¹
Ğ
»s
 !ğ
hªa
::
nÙhšg
, "name…rovided is‚othe‚ame of‡ny secondary index within multi_index" );

1205  
ty³Çme
 
deşty³
(+
hªa
::
©_c
<0>(
»s
.
v®ue
()))::
ty³
(
this
);

1245 
	g‹m¶©e
<
	gÇme
::
¿w
 
IndexName
>

1246 autØ
g‘_šdex
()const {

1247 
usšg
 
Çme¥aû
 
_muÉi_šdex_d‘a
;

1249 autØ
	g»s
 = 
hªa
::
fšd_if
Ğ
_šdiûs
, []Ğauto&& 
š
 ) {

1250  
¡d
::
š‹g¿l_cÚ¡ªt
<
boŞ
, 
¡©ic_ÿ¡
<
ušt64_t
>(¡d::
deÿy
<
ty³Çme
 
deşty³
(+
hªa
::
©_c
<1>(
š
))::
ty³
>::ty³::
šdex_Çme
è=ğ¡©ic_ÿ¡<ušt64_t>(
IndexName
)>();

1253 
¡©ic_as£¹
Ğ
»s
 !ğ
hªa
::
nÙhšg
, "name…rovided is‚othe‚ame of‡ny secondary index within multi_index" );

1255  
ty³Çme
 
deşty³
(+
hªa
::
©_c
<1>(
»s
.
v®ue
()))::
ty³
(
this
);

1292 
cÚ¡_™”©Ü
 
™”©Ü_to
ĞcÚ¡ 
T
& 
obj
 )const {

1293 cÚ¡‡uto& 
	gobj™em
 = 
¡©ic_ÿ¡
<cÚ¡ 
™em
&>(
obj
);

1294 
	geosio
::
check
Ğ
obj™em
.
__idx
 =ğ
this
, "object…assedo iterator_to is‚ot in multi_index" );

1295  {
	gthis
, &
	gobj™em
};

1333 
	g‹m¶©e
<
ty³Çme
 
	gLambda
>

1334 
cÚ¡_™”©Ü
 
em¶aû
Ğ
Çme
 
·y”
, 
Lambda
&& 
cÚ¡ruùÜ
 ) {

1335 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

1337 
	geosio
::
check
Ğ
_code
.
v®ue
 =ğ
cu¼’t_»ûiv”
(), "cannot create objects inable of‡nother contract" );

1339 autØ
	g™m
 = 
¡d
::
make_unique
<
™em
>Ğ
this
, [&]Ğauto& 
	gi
 ){

1340 
	gT
& 
	gobj
 = 
¡©ic_ÿ¡
<
T
&>(
i
);

1341 
cÚ¡ruùÜ
Ğ
obj
 );

1343 
size_t
 
	gsize
 = 
·ck_size
Ğ
obj
 );

1346 * 
	gbufãr
 = 
max_¡ack_bufãr_size
 < 
size
 ? 
m®loc
(sizeè: 
®loÿ
(size);

1348 
	gd©a¡»am
<*> 
ds
Ğ(*)
bufãr
, 
size
 );

1349 
	gds
 << 
	gobj
;

1351 autØ
	gpk
 = 
obj
.
´im¬y_key
();

1353 
	gi
.
	g__´im¬y_™r
 = 
db_¡Üe_i64
Ğ
_scİe
, 
¡©ic_ÿ¡
<
ušt64_t
>(
TabËName
), 
·y”
.
v®ue
, 
pk
, 
bufãr
, 
size
 );

1355 iàĞ
	gmax_¡ack_bufãr_size
 < 
	gsize
 ) {

1356 
ä“
(
bufãr
);

1359 ifĞ
	gpk
 >ğ
_Ãxt_´im¬y_key
 )

1360 
_Ãxt_´im¬y_key
 = (
pk
 >ğ
no_avaabË_´im¬y_key
) ?‚o_available_primary_key : (pk + 1);

1362 
	ghªa
::
fÜ_—ch
Ğ
_šdiûs
, [&]Ğauto& 
idx
 ) {

1363 
ty³Çme
 
	tdeşty³
(+
	thªa
::
	t©_c
<0>(
	tidx
))::
	tty³
 
	tšdex_ty³
;

1365 
i
.
__™”s
[
šdex_ty³
::
numb”
()] = 
£cÚd¬y_šdex_db_funùiÚs
<
ty³Çme
 index_ty³::
£cÚd¬y_key_ty³
>::
db_idx_¡Üe
Ğ
_scİe
, index_ty³::
Çme
(), 
·y”
.
v®ue
, 
obj
.
´im¬y_key
(), index_ty³::
exŒaù_£cÚd¬y_key
(obj) );

1369 cÚ¡ 
™em
* 
	g±r
 = 
™m
.
g‘
();

1370 autØ
	gpk
 = 
™m
->
´im¬y_key
();

1371 autØ
	gp™r
 = 
™m
->
__´im¬y_™r
;

1373 
	g_™ems_veùÜ
.
em¶aû_back
Ğ
¡d
::
move
(
™m
), 
pk
, 
p™r
 );

1375  {
	gthis
, 
	g±r
};

1417 
	g‹m¶©e
<
ty³Çme
 
	gLambda
>

1418 
modify
Ğ
cÚ¡_™”©Ü
 
™r
, 
Çme
 
·y”
, 
Lambda
&& 
upd©”
 ) {

1419 
	geosio
::
check
Ğ
™r
 !ğ
’d
(), "cannot…assƒnd iteratoro modify" );

1421 
modify
Ğ*
™r
, 
·y”
, 
¡d
::
fÜw¬d
<
Lambda
&&>(
upd©”
) );

1464 
	g‹m¶©e
<
ty³Çme
 
	gLambda
>

1465 
modify
ĞcÚ¡ 
T
& 
obj
, 
Çme
 
·y”
, 
Lambda
&& 
upd©”
 ) {

1466 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

1468 cÚ¡‡uto& 
	gobj™em
 = 
¡©ic_ÿ¡
<cÚ¡ 
™em
&>(
obj
);

1469 
	geosio
::
check
Ğ
obj™em
.
__idx
 =ğ
this
, "object…assedo modify is‚ot in multi_index" );

1470 auto& 
	gmubË™em
 = 
cÚ¡_ÿ¡
<
™em
&>(
obj™em
);

1471 
	geosio
::
check
Ğ
_code
.
v®ue
 =ğ
cu¼’t_»ûiv”
(), "cannot modify objects inable of‡nother contract" );

1473 autØ
	g£cÚd¬y_keys
 = 
hªa
::
ŒªsfÜm
Ğ
_šdiûs
, [&]Ğauto&& 
idx
 ) {

1474 
ty³Çme
 
	tdeşty³
(+
	thªa
::
	t©_c
<0>(
	tidx
))::
	tty³
 
	tšdex_ty³
;

1476  
šdex_ty³
::
exŒaù_£cÚd¬y_key
Ğ
obj
 );

1479 autØ
	gpk
 = 
obj
.
´im¬y_key
();

1481 auto& 
	gmubËobj
 = 
cÚ¡_ÿ¡
<
T
&>(
obj
);

1482 
upd©”
Ğ
mubËobj
 );

1484 
	geosio
::
check
Ğ
pk
 =ğ
obj
.
´im¬y_key
(), "updater cannot change…rimary key when modifying‡n object" );

1486 
size_t
 
	gsize
 = 
·ck_size
Ğ
obj
 );

1488 * 
	gbufãr
 = 
max_¡ack_bufãr_size
 < 
size
 ? 
m®loc
(sizeè: 
®loÿ
(size);

1490 
	gd©a¡»am
<*> 
ds
Ğ(*)
bufãr
, 
size
 );

1491 
	gds
 << 
	gobj
;

1493 
db_upd©e_i64
Ğ
obj™em
.
__´im¬y_™r
, 
·y”
.
v®ue
, 
bufãr
, 
size
 );

1495 iàĞ
	gmax_¡ack_bufãr_size
 < 
	gsize
 ) {

1496 
ä“
Ğ
bufãr
 );

1499 ifĞ
	gpk
 >ğ
_Ãxt_´im¬y_key
 )

1500 
_Ãxt_´im¬y_key
 = (
pk
 >ğ
no_avaabË_´im¬y_key
) ?‚o_available_primary_key : (pk + 1);

1502 
	ghªa
::
fÜ_—ch
Ğ
_šdiûs
, [&]Ğauto& 
idx
 ) {

1503 
ty³Çme
 
	tdeşty³
(+
	thªa
::
	t©_c
<0>(
	tidx
))::
	tty³
 
	tšdex_ty³
;

1505 autØ
£cÚd¬y
 = 
šdex_ty³
::
exŒaù_£cÚd¬y_key
Ğ
obj
 );

1506 ifĞ
memcmp
Ğ&
hªa
::
©_c
<
šdex_ty³
::
šdex_numb”
>(
£cÚd¬y_keys
), &
£cÚd¬y
, (secondary) ) != 0 ) {

1507 autØ
šdex™r
 = 
mubË™em
.
__™”s
[
šdex_ty³
::
numb”
()];

1509 ifĞ
šdex™r
 < 0 ) {

1510 
ty³Çme
 
šdex_ty³
::
£cÚd¬y_key_ty³
 
‹mp_£cÚd¬y_key
;

1511 
šdex™r
 = 
mubË™em
.
__™”s
[
šdex_ty³
::
numb”
()]

1512 ğ
£cÚd¬y_šdex_db_funùiÚs
<
ty³Çme
 
šdex_ty³
::
£cÚd¬y_key_ty³
>::
db_idx_fšd_´im¬y
Ğ
_code
.
v®ue
, 
_scİe
, index_ty³::
Çme
(), 
pk
, 
‹mp_£cÚd¬y_key
 );

1515 
£cÚd¬y_šdex_db_funùiÚs
<
ty³Çme
 
šdex_ty³
::
£cÚd¬y_key_ty³
>::
db_idx_upd©e
Ğ
šdex™r
, 
·y”
.
v®ue
, 
£cÚd¬y
 );

1544 cÚ¡ 
	gT
& 
g‘
Ğ
ušt64_t
 
´im¬y
, cÚ¡ * 
”rÜ_msg
 = "unableo find key" )const {

1545 autØ
»suÉ
 = 
fšd
Ğ
´im¬y
 );

1546 
	geosio
::
check
Ğ
»suÉ
 !ğ
ûnd
(), 
”rÜ_msg
 );

1547  *
	g»suÉ
;

1572 
cÚ¡_™”©Ü
 
fšd
Ğ
ušt64_t
 
´im¬y
 )const {

1573 autØ
	g™r2
 = 
¡d
::
fšd_if
(
_™ems_veùÜ
.
rbegš
(), _™ems_veùÜ.
»nd
(), [&](cÚ¡ 
™em_±r
& 
±r
) {

1574  
±r
.
_™em
->
´im¬y_key
(è=ğ
´im¬y
;

1576 ifĞ
	g™r2
 !ğ
_™ems_veùÜ
.
»nd
() )

1577  
™”©Ü_to
(*(
™r2
->
_™em
));

1579 autØ
	g™r
 = 
db_fšd_i64
Ğ
_code
.
v®ue
, 
_scİe
, 
¡©ic_ÿ¡
<
ušt64_t
>(
TabËName
), 
´im¬y
 );

1580 ifĞ
	g™r
 < 0 )  
’d
();

1582 cÚ¡ 
	g™em
& 
	gi
 = 
lßd_objeù_by_´im¬y_™”©Ü
Ğ
™r
 );

1583  
™”©Ü_to
(
¡©ic_ÿ¡
<cÚ¡ 
T
&>(
i
));

1594 
cÚ¡_™”©Ü
 
»quœe_fšd
Ğ
ušt64_t
 
´im¬y
, cÚ¡ * 
”rÜ_msg
 = "unableo find key" )const {

1595 autØ
™r2
 = 
¡d
::
fšd_if
(
_™ems_veùÜ
.
rbegš
(), _™ems_veùÜ.
»nd
(), [&](cÚ¡ 
™em_±r
& 
±r
) {

1596  
±r
.
_™em
->
´im¬y_key
(è=ğ
´im¬y
;

1598 ifĞ
	g™r2
 !ğ
_™ems_veùÜ
.
»nd
() )

1599  
™”©Ü_to
(*(
™r2
->
_™em
));

1601 autØ
	g™r
 = 
db_fšd_i64
Ğ
_code
.
v®ue
, 
_scİe
, 
¡©ic_ÿ¡
<
ušt64_t
>(
TabËName
), 
´im¬y
 );

1602 
	geosio
::
check
Ğ
™r
 >ğ0, 
”rÜ_msg
 );

1604 cÚ¡ 
	g™em
& 
	gi
 = 
lßd_objeù_by_´im¬y_™”©Ü
Ğ
™r
 );

1605  
™”©Ü_to
(
¡©ic_ÿ¡
<cÚ¡ 
T
&>(
i
));

1643 
cÚ¡_™”©Ü
 
”a£
ĞcÚ¡_™”©Ü 
™r
 ) {

1644 
	geosio
::
check
Ğ
™r
 !ğ
’d
(), "cannot…assƒnd iteratoroƒrase" );

1646 cÚ¡‡uto& 
	gobj
 = *
™r
;

1647 ++
	g™r
;

1649 
”a£
(
obj
);

1651  
	g™r
;

1685 
”a£
ĞcÚ¡ 
T
& 
obj
 ) {

1686 
usšg
 
Çme¥aû
 
	g_muÉi_šdex_d‘a
;

1688 cÚ¡‡uto& 
	gobj™em
 = 
¡©ic_ÿ¡
<cÚ¡ 
™em
&>(
obj
);

1689 
	geosio
::
check
Ğ
obj™em
.
__idx
 =ğ
this
, "object…assedoƒrase is‚ot in multi_index" );

1690 
	geosio
::
check
Ğ
_code
.
v®ue
 =ğ
cu¼’t_»ûiv”
(), "cannotƒrase objects inable of‡nother contract" );

1692 autØ
	gpk
 = 
obj™em
.
´im¬y_key
();

1693 autØ
	g™r2
 = 
¡d
::
fšd_if
(
_™ems_veùÜ
.
rbegš
(), _™ems_veùÜ.
»nd
(), [&](cÚ¡ 
™em_±r
& 
±r
) {

1694  
±r
.
_™em
->
´im¬y_key
(è=ğ
pk
;

1697 
	geosio
::
check
Ğ
™r2
 !ğ
_™ems_veùÜ
.
»nd
(), "attempto„emove objecthat was‚ot in multi_index" );

1699 
	g_™ems_veùÜ
.
”a£
(--(
™r2
.
ba£
()));

1701 
db_»move_i64
Ğ
obj™em
.
__´im¬y_™r
 );

1703 
	ghªa
::
fÜ_—ch
Ğ
_šdiûs
, [&]Ğauto& 
idx
 ) {

1704 
ty³Çme
 
	tdeşty³
(+
	thªa
::
	t©_c
<0>(
	tidx
))::
	tty³
 
	tšdex_ty³
;

1706 autØ
i
 = 
obj™em
.
__™”s
[
šdex_ty³
::
numb”
()];

1707 ifĞ
i
 < 0 ) {

1708 
ty³Çme
 
šdex_ty³
::
£cÚd¬y_key_ty³
 
£cÚd¬y
;

1709 
i
 = 
£cÚd¬y_šdex_db_funùiÚs
<
ty³Çme
 
šdex_ty³
::
£cÚd¬y_key_ty³
>::
db_idx_fšd_´im¬y
Ğ
_code
.
v®ue
, 
_scİe
, index_ty³::
Çme
(), 
obj™em
.
´im¬y_key
(), 
£cÚd¬y
 );

1711 ifĞ
i
 >= 0 )

1712 
£cÚd¬y_šdex_db_funùiÚs
<
ty³Çme
 
šdex_ty³
::
£cÚd¬y_key_ty³
>::
db_idx_»move
Ğ
i
 );

	@name.hpp

5 #´agm¨
Úû


7 
	~"sy¡em.hµ
"

8 
	~"£rŸlize.hµ
"

10 
	~<¡ršg
>

11 
	~<¡ršg_v›w
>

13 
Çme¥aû
 
	geosio
 {

26 
	sÇme
 {

27 
	gpublic
:

28 şas 
	c¿w
 : 
ušt64_t
 {};

36 
cÚ¡ex´
 
Çme
(è: 
v®ue
(0) {}

45 
cÚ¡ex´
 
ex¶ic™
 
Çme
Ğ
ušt64_t
 
v
 )

46 :
v®ue
(
v
)

56 
cÚ¡ex´
 
ex¶ic™
 
Çme
ĞÇme::
¿w
 
r
 )

57 :
v®ue
(
¡©ic_ÿ¡
<
ušt64_t
>(
r
))

67 
cÚ¡ex´
 
ex¶ic™
 
Çme
Ğ
¡d
::
¡ršg_v›w
 
¡r
 )

68 :
v®ue
(0)

70 ifĞ
¡r
.
size
() > 13 ) {

71 
eosio
::
check
Ğ
çl£
, "string isoo†ongo be‡ valid‚ame" );

73 ifĞ
	g¡r
.
em±y
() ) {

77 autØ
	gn
 = 
¡d
::
mš
Ğ(
ušt32_t
)
¡r
.
size
(), (uint32_t)12u );

78  
deşty³
(
n
è
	gi
 = 0; i < 
	gn
; ++i ) {

79 
	gv®ue
 <<= 5;

80 
	gv®ue
 |ğ
ch¬_to_v®ue
Ğ
¡r
[
i
] );

82 
	gv®ue
 <<ğĞ4 + 5*(12 - 
n
) );

83 ifĞ
	g¡r
.
size
() == 13 ) {

84 
ušt64_t
 
v
 = 
ch¬_to_v®ue
Ğ
¡r
[12] );

85 ifĞ
	gv
 > 0x0Full ) {

86 
	geosio
::
check
(
çl£
, "thirteenth character in‚ame cannot be‡†etterhat comes‡fter j");

88 
	gv®ue
 |ğ
v
;

98 
cÚ¡ex´
 
ušt8_t
 
ch¬_to_v®ue
Ğ
c
 ) {

99 ifĞ
	gc
 == '.')

101 ifĞ
	gc
 >ğ'1' && 
c
 <= '5' )

102  (
c
 - '1') + 1;

103 ifĞ
	gc
 >ğ'a' && 
c
 <= 'z' )

104  (
c
 - 'a') + 6;

106 
	geosio
::
check
Ğ
çl£
, "character is‚ot in‡llowed character set for‚ames" );

114 
cÚ¡ex´
 
ušt8_t
 
Ëngth
()const {

115 
cÚ¡ex´
 
ušt64_t
 
	gmask
 = 0xF800000000000000ull;

117 ifĞ
	gv®ue
 == 0 )

120 
ušt8_t
 
	gl
 = 0;

121 
ušt8_t
 
	gi
 = 0;

122 ‡utØ
	gv
 = 
v®ue
; 
	gi
 < 13; ++i, v <<= 5 ) {

123 ifĞ(
v
 & 
mask
) > 0 ) {

124 
l
 = 
i
;

128  
	gl
 + 1;

134 
cÚ¡ex´
 
Çme
 
suffix
()const {

135 
ušt32_t
 
	g»maššg_b™s_aá”_Ï¡_aùu®_dÙ
 = 0;

136 
ušt32_t
 
	gtmp
 = 0;

137  
št32_t
 
	g»maššg_b™s
 = 59;„emaining_bits >= 4;„emaining_bits -= 5 ) {

139 autØ
c
 = (
v®ue
 >> 
»maššg_b™s
) & 0x1Full;

140 ifĞ!
	gc
 ) {

141 
	gtmp
 = 
¡©ic_ÿ¡
<
ušt32_t
>(
»maššg_b™s
);

143 
	g»maššg_b™s_aá”_Ï¡_aùu®_dÙ
 = 
tmp
;

147 
ušt64_t
 
	gthœ‹’th_ch¬aù”
 = 
v®ue
 & 0x0Full;

148 ifĞ
	gthœ‹’th_ch¬aù”
 ) {

149 
	g»maššg_b™s_aá”_Ï¡_aùu®_dÙ
 = 
tmp
;

152 ifĞ
	g»maššg_b™s_aá”_Ï¡_aùu®_dÙ
 == 0 )

153  
Çme
{
v®ue
};

158 
ušt64_t
 
	gmask
 = (1uÎ << 
»maššg_b™s_aá”_Ï¡_aùu®_dÙ
) - 16;

159 
ušt32_t
 
	gshiá
 = 64 - 
»maššg_b™s_aá”_Ï¡_aùu®_dÙ
;

161  
	gÇme
{ ((
	gv®ue
 & 
	gmask
è<< 
	gshiá
è+ (
	gthœ‹’th_ch¬aù”
 << (shift-1)) };

169 
cÚ¡ex´
 
İ”©Ü
 
¿w
()cÚ¡ { „aw(
v®ue
); }

176 
cÚ¡ex´
 
ex¶ic™
 
İ”©Ü
 
boŞ
()cÚ¡ {  
	gv®ue
 != 0; }

188 * 
wr™e_as_¡ršg
Ğ* 
begš
, * 
’d
 )const {

189 cÚ¡ * 
	gch¬m­
 = ".12345abcdefghijklmnopqrstuvwxyz";

190 
cÚ¡ex´
 
ušt64_t
 
	gmask
 = 0xF800000000000000ull;

192 ifĞ(
	gbegš
 + 13è< begš || (begš + 13è> 
	g’d
 )  begin;

194 autØ
	gv
 = 
v®ue
;

195 ‡utØ
	gi
 = 0; i < 13; ++i, 
	gv
 <<= 5 ) {

196 ifĞ
v
 =ğ0 )  
begš
;

198 autØ
	gšdx
 = (
v
 & 
mask
è>> (
i
 == 12 ? 60 : 59);

199 *
	gbegš
 = 
ch¬m­
[
šdx
];

200 ++
	gbegš
;

203  
	gbegš
;

211 
	g¡d
::
¡ršg
 
to_¡ršg
()const {

212 
bufãr
[13];

213 autØ
	g’d
 = 
wr™e_as_¡ršg
Ğ
bufãr
, buffer + (buffer) );

214  {
	gbufãr
, 
	g’d
};

222 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 =ğĞcÚ¡ 
Çme
& 
a
, cÚ¡ 
	gÇme
& 
	gb
 ) {

223  
	ga
.
	gv®ue
 =ğ
b
.
v®ue
;

231 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 !ğĞcÚ¡ 
Çme
& 
a
, cÚ¡ 
	gÇme
& 
	gb
 ) {

232  
	ga
.
	gv®ue
 !ğ
b
.
v®ue
;

240 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 < ( cÚ¡ 
	gÇme
& 
	ga
, cÚ¡‚ame& 
	gb
 ) {

241  
	ga
.
	gv®ue
 < 
	gb
.value;

245 
ušt64_t
 
	gv®ue
 = 0;

247 
EOSLIB_SERIALIZE
Ğ
Çme
, (
v®ue
) )

250 
Çme¥aû
 
	gd‘a
 {

251 
	g‹m¶©e
 <... 
	gSŒ
>

252 
	sto_cÚ¡_ch¬_¬r
 {

253 
cÚ¡ex´
 cÚ¡ 
	gv®ue
[] = {
SŒ
...};

263 #´agm¨
şªg
 
dŸgno¡ic
 
push


264 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wgnu-string-literal-operator-template"

265 
	g‹m¶©e
 <
ty³Çme
 
	gT
, T... 
	gSŒ
>

266 
šlše
 
cÚ¡ex´
 
	geosio
::
Çme
 
İ”©Ü
""
	$_n
() {

267 
cÚ¡ex´
‡utØ
x
 = 
eosio
::
Çme
{
¡d
::
¡ršg_v›w
{eosio::
d‘a
::
to_cÚ¡_ch¬_¬r
<
SŒ
...>::
v®ue
, ...(Str)}};

268  
x
;

269 
	}
}

270 #´agm¨
şªg
 
dŸgno¡ic
 
pİ


	@permission.h

5 #´agm¨
Úû


6 
	~"ty³s.h
"

30 
št32_t


31 
check_Œª§ùiÚ_authÜiz©iÚ
ĞcÚ¡ * 
Œx_d©a
, 
ušt32_t
 
Œx_size
,

32 cÚ¡ * 
pubkeys_d©a
, 
ušt32_t
 
pubkeys_size
,

33 cÚ¡ * 
³rms_d©a
, 
ušt32_t
 
³rms_size


49 
št32_t


50 
check_³rmissiÚ_authÜiz©iÚ
Ğ
ÿpi_Çme
 
accouÁ
,

51 
ÿpi_Çme
 
³rmissiÚ
,

52 cÚ¡ * 
pubkeys_d©a
, 
ušt32_t
 
pubkeys_size
,

53 cÚ¡ * 
³rms_d©a
, 
ušt32_t
 
³rms_size
,

54 
ušt64_t
 
d–ay_us


65 
št64_t
 
g‘_³rmissiÚ_Ï¡_u£d
Ğ
ÿpi_Çme
 
accouÁ
, c­i_Çm
³rmissiÚ
 );

75 
št64_t
 
g‘_accouÁ_ü—tiÚ_time
Ğ
ÿpi_Çme
 
accouÁ
 );

	@permission.hpp

5 #´agm¨
Úû


7 
	~"³rmissiÚ.h
"

8 
	~"Œª§ùiÚ.hµ
"

9 
	~"üy±o.hµ
"

11 
	~<£t
>

12 
	~<lim™s
>

14 
Çme¥aû
 
	geosio
 {

25 
boŞ


26 
check_Œª§ùiÚ_authÜiz©iÚ
ĞcÚ¡ 
Œª§ùiÚ
& 
Œx
,

27 cÚ¡ 
¡d
::
£t
<
³rmissiÚ_Ëv–
>& 
´ovided_³rmissiÚs
 ,

28 cÚ¡ 
¡d
::
£t
<
public_key
>& 
´ovided_keys
 = std::set<public_key>()

31 autØ
·cked_Œx
 = 
·ck
(
Œx
);

33 
	g¡d
::
veùÜ
<> 
·cked_keys
;

34 autØ
	gnkeys
 = 
´ovided_keys
.
size
();

35 ifĞ
	gnkeys
 > 0 ) {

36 
	g·cked_keys
 = 
·ck
(
´ovided_keys
);

39 
	g¡d
::
veùÜ
<> 
·cked_³rms
;

40 autØ
	gÅ”ms
 = 
´ovided_³rmissiÚs
.
size
();

41 ifĞ
	gÅ”ms
 > 0 ) {

42 
	g·cked_³rms
 = 
·ck
(
´ovided_³rmissiÚs
);

45 autØ
	g»s
 = ::
check_Œª§ùiÚ_authÜiz©iÚ
Ğ
·cked_Œx
.
d©a
(),

46 
·cked_Œx
.
size
(),

47 (
nkeys
 > 0è? 
·cked_keys
.
d©a
() : (const *)0,

48 (
nkeys
 > 0è? 
·cked_keys
.
size
() : 0,

49 (
Å”ms
 > 0è? 
·cked_³rms
.
d©a
() : (const *)0,

50 (
Å”ms
 > 0è? 
·cked_³rms
.
size
() : 0

53  (
	g»s
 > 0);

67 
boŞ


68 
check_³rmissiÚ_authÜiz©iÚ
Ğ
Çme
 
accouÁ
,

69 
Çme
 
³rmissiÚ
,

70 cÚ¡ 
¡d
::
£t
<
public_key
>& 
´ovided_keys
,

71 cÚ¡ 
¡d
::
£t
<
³rmissiÚ_Ëv–
>& 
´ovided_³rmissiÚs
 = std::set<permission_level>(),

72 
ušt64_t
 
´ovided_d–ay_us
 = 
¡©ic_ÿ¡
<ušt64_t>(
¡d
::
num”ic_lim™s
<
št64_t
>::
max
())

75 
¡d
::
veùÜ
<> 
·cked_keys
;

76 autØ
	gnkeys
 = 
´ovided_keys
.
size
();

77 ifĞ
	gnkeys
 > 0 ) {

78 
	g·cked_keys
 = 
·ck
(
´ovided_keys
);

81 
	g¡d
::
veùÜ
<> 
·cked_³rms
;

82 autØ
	gÅ”ms
 = 
´ovided_³rmissiÚs
.
size
();

83 ifĞ
	gÅ”ms
 > 0 ) {

84 
	g·cked_³rms
 = 
·ck
(
´ovided_³rmissiÚs
);

87 autØ
	g»s
 = ::
check_³rmissiÚ_authÜiz©iÚ
Ğ
accouÁ
.
v®ue
,

88 
³rmissiÚ
.
v®ue
,

89 (
nkeys
 > 0è? 
·cked_keys
.
d©a
() : (const *)0,

90 (
nkeys
 > 0è? 
·cked_keys
.
size
() : 0,

91 (
Å”ms
 > 0è? 
·cked_³rms
.
d©a
() : (const *)0,

92 (
Å”ms
 > 0è? 
·cked_³rms
.
size
() : 0,

93 
´ovided_d–ay_us


96  (
	g»s
 > 0);

	@print.h

5 #´agm¨
Úû


7 
	~"ty³s.h
"

16 #ifdeà
__ılu¥lus


31 
´šts
ĞcÚ¡ * 
c¡r
 );

45 
´šts_l
ĞcÚ¡ * 
c¡r
, 
ušt32_t
 
Ën
);

59 
´šti
Ğ
št64_t
 
v®ue
 );

72 
´štui
Ğ
ušt64_t
 
v®ue
 );

86 
´šti128
ĞcÚ¡ 
št128_t
* 
v®ue
 );

100 
´štui128
ĞcÚ¡ 
ušt128_t
* 
v®ue
 );

114 
´štsf
(
v®ue
);

128 
´štdf
(
v®ue
);

142 
´štqf
(cÚ¡ * 
v®ue
);

154 
´šŠ
Ğ
ušt64_t
 
Çme
 );

169 
´šthex
ĞcÚ¡ * 
d©a
, 
ušt32_t
 
d©®’
 );

172 #ifdeà
__ılu¥lus


	@print.hpp

5 #´agm¨
Úû


6 
	~"´št.h
"

7 
	~"Çme.hµ
"

8 
	~"symbŞ.hµ
"

9 
	~"fixed_by‹s.hµ
"

11 
	~<ut™y
>

12 
	~<¡ršg
>

38 
Çme¥aû
 
	geosio
 {

45 
šlše
 
´št
ĞcÚ¡ * 
±r
 ) {

46 
´šts
(
±r
);

54 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	g¡d
::
’abË_if_t
<
¡d
::
is_š‹g¿l
<¡d::
deÿy_t
<
T
>>::
v®ue
 &&

55 
¡d
::
is_sigÃd
<¡d::
deÿy_t
<
T
>>::
v®ue
, > = 0>

56 
šlše
 
´št
Ğ
T
 
num
 ) {

57 
cÚ¡ex´
(
¡d
::
is_§me
<
T
, 
št128_t
>::
v®ue
)

58 
´šti128
(&
num
);

59 
cÚ¡ex´
(
¡d
::
is_§me
<
T
, >::
v®ue
)

60 
´šts_l
Ğ&
num
, 1 );

62 
´šti
(
num
);

70 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	g¡d
::
’abË_if_t
<
¡d
::
is_š‹g¿l
<¡d::
deÿy_t
<
T
>>::
v®ue
 &&

71 !
¡d
::
is_sigÃd
<¡d::
deÿy_t
<
T
>>::
v®ue
, > = 0>

72 
šlše
 
´št
Ğ
T
 
num
 ) {

73 
cÚ¡ex´
(
¡d
::
is_§me
<
T
, 
ušt128_t
>::
v®ue
)

74 
´štui128
(&
num
);

75 
cÚ¡ex´
(
¡d
::
is_§me
<
T
, 
boŞ
>::
v®ue
)

76 
´šts
(
num
?"true":"false");

78 
´štui
(
num
);

86 
šlše
 
´št
Ğ
num
 ) { 
´štsf
(‚um ); }

93 
šlše
 
´št
Ğ
num
 ) { 
´štdf
(‚um ); }

100 
šlše
 
´št
Ğ
num
 ) { 
´štqf
( &num ); }

108 
	g‹m¶©e
<
size_t
 
	gSize
>

109 
šlše
 
´št
ĞcÚ¡ 
fixed_by‹s
<
Size
>& 
v®
 ) {

110 autØ
	g¬r
 = 
v®
.
exŒaù_as_by‹_¬¿y
();

111 
´šthex
(
¡©ic_ÿ¡
<cÚ¡ *>(
¬r
.
d©a
()),‡¼.
size
());

120 
	g‹m¶©e
<
size_t
 
	gSize
>

121 
šlše
 
´št
Ğ
fixed_by‹s
<
Size
>& 
v®
 ) {

122 
´št
(
¡©ic_ÿ¡
<cÚ¡ 
fixed_by‹s
<
Size
>&>(
v®
));

130 
šlše
 
´št
Ğ
Çme
‚ame ) {

131 
´šŠ
(
Çme
.
v®ue
);

139 
šlše
 
´št
Ğ
eosio
::
symbŞ_code
 
sym_code
 ) {

140 
bufãr
[7];

141 autØ
	g’d
 = 
sym_code
.
wr™e_as_¡ršg
Ğ
bufãr
, buffer + (buffer) );

142 ifĞ
	gbufãr
 < 
	g’d
 )

143 
´šts_l
Ğ
bufãr
, (
’d
-buffer) );

152 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	g¡d
::
’abË_if_t
<!
¡d
::
is_š‹g¿l
<¡d::
deÿy_t
<
T
>>::
v®ue
, > = 0>

153 
šlše
 
´št
Ğ
T
&& 
t
 ) {

154 
cÚ¡ex´
 (
¡d
::
is_§me
<¡d::
deÿy_t
<
T
>, std::
¡ršg
>::
v®ue
)

155 
´šts_l
Ğ
t
.
c_¡r
(),.
size
() );

156 
cÚ¡ex´
 (
¡d
::
is_§me
<¡d::
deÿy_t
<
T
>, *>::
v®ue
)

157 
´šts
(
t
);

159 
	gt
.
´št
();

167 
šlše
 
´št_f
ĞcÚ¡ * 
s
 ) {

168 
´šts
(
s
);

185 
	g‹m¶©e
 <
ty³Çme
 
	gArg
, 
	gty³Çme
... 
	gArgs
>

186 
šlše
 
´št_f
ĞcÚ¡ * 
s
, 
Arg
 
v®
, 
Args
... 
»¡
 ) {

187  *
	gs
 != '\0' ) {

188 iàĞ*
s
 == '%' ) {

189 
´št
Ğ
v®
 );

190 
´št_f
Ğ
s
+1, 
»¡
... );

193 
´šts_l
Ğ
s
, 1 );

194 
	gs
++;

217 
	g‹m¶©e
<
ty³Çme
 
	gArg
, 
	gty³Çme
... 
	gArgs
>

218 
´št
Ğ
Arg
&& 
a
, 
Args
&&... 
¬gs
 ) {

219 
´št
(
¡d
::
fÜw¬d
<
Arg
>(
a
));

220 
´št
(
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...);

226 şas 
	cio¡»am
 {};

248 
	g‹m¶©e
<
ty³Çme
 
	gT
>

249 
šlše
 
	gio¡»am
& 
	gİ”©Ü
<<Ğio¡»am& 
	gout
, cÚ¡ 
	gT
& 
	gv
 ) {

250 
´št
Ğ
v
 );

251  
	gout
;

254 
io¡»am
 
	gcout
;

	@privileged.h

1 #´agm¨
Úû


3 #ifdeà
__ılu¥lus


21 
g‘_»sourû_lim™s
Ğ
ÿpi_Çme
 
accouÁ
, 
št64_t
* 
¿m_by‹s
, iÁ64_t* 
Ãt_weight
, iÁ64_t* 
ıu_weight
 );

31 
£t_»sourû_lim™s
Ğ
ÿpi_Çme
 
accouÁ
, 
št64_t
 
¿m_by‹s
, iÁ64_ˆ
Ãt_weight
, iÁ64_ˆ
ıu_weight
 );

42 
št64_t
 
£t_´İo£d_´oduûrs
Ğ*
´oduûr_d©a
, 
ušt32_t
 
´oduûr_d©a_size
 );

51 
£t_aùive_´oduûrs
Ğ*
´oduûr_d©a
, 
ušt32_t
 
´oduûr_d©a_size
 );

59 
boŞ
 
is_´iveged
Ğ
ÿpi_Çme
 
accouÁ
 );

67 
£t_´iveged
Ğ
ÿpi_Çme
 
accouÁ
, 
boŞ
 
is_´iv
 );

76 
£t_blockchaš_·¿m‘”s_·cked
Ğ* 
d©a
, 
ušt32_t
 
d©®’
 );

87 
ušt32_t
 
g‘_blockchaš_·¿m‘”s_·cked
Ğ* 
d©a
, ušt32_ˆ
d©®’
 );

89 #ifdeà
__ılu¥lus


	@privileged.hpp

1 #´agm¨
Úû


2 
	~"´iveged.h
"

3 
	~"£rŸlize.hµ
"

4 
	~"üy±o.hµ
"

6 
Çme¥aû
 
	geosio
 {

18 
	sblockchaš_·¿m‘”s
 {

24 
ušt64_t
 
	gmax_block_Ãt_u§ge
;

30 
ušt32_t
 
	grg‘_block_Ãt_u§ge_pù
;

36 
ušt32_t
 
	gmax_Œª§ùiÚ_Ãt_u§ge
;

41 
ušt32_t
 
	gba£_³r_Œª§ùiÚ_Ãt_u§ge
;

47 
ušt32_t
 
	gÃt_u§ge_Ëeway
;

53 
ušt32_t
 
	gcÚ‹xt_ä“_discouÁ_Ãt_u§ge_num
;

59 
ušt32_t
 
	gcÚ‹xt_ä“_discouÁ_Ãt_u§ge_d’
;

65 
ušt32_t
 
	gmax_block_ıu_u§ge
;

71 
ušt32_t
 
	grg‘_block_ıu_u§ge_pù
;

77 
ušt32_t
 
	gmax_Œª§ùiÚ_ıu_u§ge
;

83 
ušt32_t
 
	gmš_Œª§ùiÚ_ıu_u§ge
;

89 
ušt32_t
 
	gmax_Œª§ùiÚ_liãtime
;

95 
ušt32_t
 
	gdeã¼ed_Œx_expœ©iÚ_wšdow
;

102 
ušt32_t
 
	gmax_Œª§ùiÚ_d–ay
;

108 
ušt32_t
 
	gmax_šlše_aùiÚ_size
;

114 
ušt16_t
 
	gmax_šlše_aùiÚ_d•th
;

120 
ušt16_t
 
	gmax_authÜ™y_d•th
;

123 
EOSLIB_SERIALIZE
Ğ
blockchaš_·¿m‘”s
,

124 (
max_block_Ãt_u§ge
)(
rg‘_block_Ãt_u§ge_pù
)

125 (
max_Œª§ùiÚ_Ãt_u§ge
)(
ba£_³r_Œª§ùiÚ_Ãt_u§ge
)(
Ãt_u§ge_Ëeway
)

126 (
cÚ‹xt_ä“_discouÁ_Ãt_u§ge_num
)(
cÚ‹xt_ä“_discouÁ_Ãt_u§ge_d’
)

128 (
max_block_ıu_u§ge
)(
rg‘_block_ıu_u§ge_pù
)

129 (
max_Œª§ùiÚ_ıu_u§ge
)(
mš_Œª§ùiÚ_ıu_u§ge
)

131 (
max_Œª§ùiÚ_liãtime
)(
deã¼ed_Œx_expœ©iÚ_wšdow
)(
max_Œª§ùiÚ_d–ay
)

132 (
max_šlše_aùiÚ_size
)(
max_šlše_aùiÚ_d•th
)(
max_authÜ™y_d•th
)

141 
£t_blockchaš_·¿m‘”s
(cÚ¡ 
eosio
::
blockchaš_·¿m‘”s
& 
·¿ms
);

148 
g‘_blockchaš_·¿m‘”s
(
eosio
::
blockchaš_·¿m‘”s
& 
·¿ms
);

162 
	s´oduûr_key
 {

169 
Çme
 
	g´oduûr_Çme
;

176 
public_key
 
	gblock_signšg_key
;

178 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 < ( cÚ¡ 
	g´oduûr_key
& 
	ga
, cÚ¡…roduûr_key& 
	gb
 ) {

179  
	ga
.
	g´oduûr_Çme
 < 
	gb
.producer_name;

182 
EOSLIB_SERIALIZE
Ğ
´oduûr_key
, (
´oduûr_Çme
)(
block_signšg_key
) )

	@producer_schedule.hpp

1 #´agm¨
Úû


2 
	~"´iveged.hµ
"

4 
	~<veùÜ
>

6 
Çme¥aû
 
	geosio
 {

15 
	s´oduûr_scheduË
 {

19 
ušt32_t
 
	gv”siÚ
;

24 
	g¡d
::
veùÜ
<
´oduûr_key
> 
´oduûrs
;

	@public_key.hpp

1 #´agm¨
Úû


2 
	~"üy±o.hµ
"

	@serialize.hpp

1 
	~<boo¡/´•roûssÜ/£q/fÜ_—ch.hµ
>

2 
	~<boo¡/´•roûssÜ/£q/’um.hµ
>

3 
	~<boo¡/´•roûssÜ/£q/size.hµ
>

4 
	~<boo¡/´•roûssÜ/£q/£q.hµ
>

5 
	~<boo¡/´•roûssÜ/¡ršgize.hµ
>

7 
	#EOSLIB_REFLECT_MEMBER_OP
Ğ
r
, 
OP
, 
–em
 ) \

8 
OP
 
t
.
–em


	)

25 
	#EOSLIB_SERIALIZE
Ğ
TYPE
, 
MEMBERS
 ) \

26 
‹m¶©e
<
ty³Çme
 
D©aSŒ—m
> \

27 
ä›nd
 
D©aSŒ—m
& 
İ”©Ü
 << ( D©aSŒ—m& 
ds
, cÚ¡ 
TYPE
& 
t
 ){ \

28  
ds
 
	`BOOST_PP_SEQ_FOR_EACH
Ğ
EOSLIB_REFLECT_MEMBER_OP
, <<, 
MEMBERS
 );\

30 
‹m¶©e
<
ty³Çme
 
D©aSŒ—m
> \

31 
ä›nd
 
D©aSŒ—m
& 
İ”©Ü
 >> ( D©aSŒ—m& 
ds
, 
TYPE
& 
t
 ){ \

32  
ds
 
	`BOOST_PP_SEQ_FOR_EACH
Ğ
EOSLIB_REFLECT_MEMBER_OP
, >>, 
MEMBERS
 );\

33 }

	)

46 
	#EOSLIB_SERIALIZE_DERIVED
Ğ
TYPE
, 
BASE
, 
MEMBERS
 ) \

47 
‹m¶©e
<
ty³Çme
 
D©aSŒ—m
> \

48 
ä›nd
 
D©aSŒ—m
& 
İ”©Ü
 << ( D©aSŒ—m& 
ds
, cÚ¡ 
TYPE
& 
t
 ){ \

49 
ds
 << 
¡©ic_ÿ¡
<cÚ¡ 
BASE
&>(
t
); \

50  
ds
 
	`BOOST_PP_SEQ_FOR_EACH
Ğ
EOSLIB_REFLECT_MEMBER_OP
, <<, 
MEMBERS
 );\

52 
‹m¶©e
<
ty³Çme
 
D©aSŒ—m
> \

53 
ä›nd
 
D©aSŒ—m
& 
İ”©Ü
 >> ( D©aSŒ—m& 
ds
, 
TYPE
& 
t
 ){ \

54 
ds
 >> 
¡©ic_ÿ¡
<
BASE
&>(
t
); \

55  
ds
 
	`BOOST_PP_SEQ_FOR_EACH
Ğ
EOSLIB_REFLECT_MEMBER_OP
, >>, 
MEMBERS
 );\

56 }

	)

	@singleton.hpp

1 #´agm¨
Úû


2 
	~"muÉi_šdex.hµ
"

3 
	~"sy¡em.hµ
"

5 
Çme¥aû
 
	geosio
 {

20 
	g‹m¶©e
<
	gÇme
::
¿w
 
SšgËtÚName
, 
ty³Çme
 
	gT
>

21 şas 
	csšgËtÚ


26 
cÚ¡ex´
 
ušt64_t
 
	gpk_v®ue
 = 
¡©ic_ÿ¡
<ušt64_t>(
SšgËtÚName
);

31 
	srow
 {

35 
T
 
	gv®ue
;

42 
ušt64_t
 
´im¬y_key
(ècÚ¡ {  
	gpk_v®ue
; }

44 
EOSLIB_SERIALIZE
Ğ
row
, (
v®ue
) )

47 
	geosio
::
	tmuÉi_šdex
<
	tSšgËtÚName
, 
	trow
> 
	tbË
;

49 
	gpublic
:

57 
sšgËtÚ
Ğ
Çme
 
code
, 
ušt64_t
 
scİe
 ) : 
_t
( code, scope ) {}

65 
boŞ
 
exi¡s
() {

66  
	g_t
.
fšd
Ğ
pk_v®ue
 ) !ğ
_t
.
’d
();

75 
T
 
g‘
() {

76 autØ
	g™r
 = 
_t
.
fšd
Ğ
pk_v®ue
 );

77 
	geosio
::
check
Ğ
™r
 !ğ
_t
.
’d
(), "singleton does‚otƒxist" );

78  
	g™r
->
	gv®ue
;

87 
T
 
g‘_Ü_deçuÉ
ĞcÚ¡ T& 
def
 = T() ) {

88 autØ
™r
 = 
_t
.
fšd
Ğ
pk_v®ue
 );

89  
	g™r
 !ğ
_t
.
’d
(è? 
™r
->
v®ue
 : 
def
;

99 
T
 
g‘_Ü_ü—‹
Ğ
Çme
 
bl_to_accouÁ
, cÚ¡ T& 
def
 = T() ) {

100 autØ
™r
 = 
_t
.
fšd
Ğ
pk_v®ue
 );

101  
	g™r
 !ğ
_t
.
’d
(è? 
™r
->
v®ue


102 : 
_t
.
em¶aû
(
bl_to_accouÁ
, [&](
row
& 
r
è{„.
v®ue
 = 
def
; })->
	gv®ue
;

111 
£t
ĞcÚ¡ 
T
& 
v®ue
, 
Çme
 
bl_to_accouÁ
 ) {

112 autØ
	g™r
 = 
_t
.
fšd
Ğ
pk_v®ue
 );

113 ifĞ
	g™r
 !ğ
_t
.
’d
() ) {

114 
_t
.
modify
(
™r
, 
bl_to_accouÁ
, [&](
row
& 
r
è{„.
v®ue
 = value; });

116 
	g_t
.
em¶aû
(
bl_to_accouÁ
, [&](
row
& 
r
è{„.
v®ue
 = value; });

123 
»move
( ) {

124 autØ
	g™r
 = 
_t
.
fšd
Ğ
pk_v®ue
 );

125 ifĞ
	g™r
 !ğ
_t
.
’d
() ) {

126 
_t
.
”a£
(
™r
);

130 
	g´iv©e
:

131 
bË
 
_t
;

	@stdlib.hpp

1 #´agm¨
Úû


3 
	~<š™Ÿliz”_li¡
>

4 
	~<™”©Ü
>

5 
	~<memÜy
>

	@symbol.hpp

5 #´agm¨
Úû


7 
	~"sy¡em.hµ
"

8 
	~"´št.h
"

9 
	~"Çme.hµ
"

10 
	~"£rŸlize.hµ
"

12 
	~<tu¶e
>

13 
	~<lim™s
>

14 
	~<¡ršg_v›w
>

16 
Çme¥aû
 
	geosio
 {

29 şas 
	csymbŞ_code
 {

30 
	gpublic
:

38 
cÚ¡ex´
 
symbŞ_code
(è: 
v®ue
(0) {}

47 
cÚ¡ex´
 
ex¶ic™
 
symbŞ_code
Ğ
ušt64_t
 
¿w
 )

48 :
v®ue
(
¿w
)

58 
cÚ¡ex´
 
ex¶ic™
 
symbŞ_code
Ğ
¡d
::
¡ršg_v›w
 
¡r
 )

59 :
v®ue
(0)

61 ifĞ
¡r
.
size
() > 7 ) {

62 
eosio
::
check
Ğ
çl£
, "string isoo†ongo be‡ valid symbol_code" );

64 ‡utØ
	g™r
 = 
¡r
.
rbegš
(); iŒ !ğ¡r.
»nd
(); ++itr ) {

65 ifĞ*
	g™r
 < 'A' || *itr > 'Z') {

66 
	geosio
::
check
Ğ
çl£
, "only uppercase†etters‡llowed in symbol_code string" );

68 
	gv®ue
 <<= 8;

69 
	gv®ue
 |ğ*
™r
;

77 
cÚ¡ex´
 
boŞ
 
is_v®id
()const {

78 autØ
	gsym
 = 
v®ue
;

79  
	gi
=0; i < 7; i++ ) {

80 
	gc
 = ()(
sym
 & 0xFF);

81 iàĞ!('A' <ğ
c
 && c <ğ'Z'èè 
çl£
;

82 
	gsym
 >>= 8;

83 iàĞ!(
	gsym
 & 0xFF) ) {

85 
	gsym
 >>= 8;

86 iàĞ(
	gsym
 & 0xFFèè 
	gçl£
;

87 
	gi
++;

88 }  
	gi
 < 7 );

91  
	gŒue
;

99 
cÚ¡ex´
 
ušt32_t
 
Ëngth
()const {

100 autØ
	gsym
 = 
v®ue
;

101 
ušt32_t
 
	gËn
 = 0;

102 
	gsym
 & 0xFF && 
	gËn
 <= 7) {

103 
Ën
++;

104 
	gsym
 >>= 8;

106  
	gËn
;

114 
cÚ¡ex´
 
ušt64_t
 
¿w
()cÚ¡ {  
	gv®ue
; }

121 
cÚ¡ex´
 
ex¶ic™
 
İ”©Ü
 
boŞ
()cÚ¡ {  
	gv®ue
 != 0; }

135 * 
wr™e_as_¡ršg
Ğ* 
begš
, * 
’d
 )const {

136 
cÚ¡ex´
 
ušt64_t
 
	gmask
 = 0xFFull;

138 ifĞ(
	gbegš
 + 7è< begš || (begš + 7è> 
	g’d
 )  begin;

140 autØ
	gv
 = 
v®ue
;

141 ‡utØ
	gi
 = 0; i < 7; ++i, 
	gv
 >>= 8 ) {

142 ifĞ
v
 =ğ0 )  
begš
;

144 *
	gbegš
 = 
¡©ic_ÿ¡
<>(
v
 & 
mask
);

145 ++
	gbegš
;

148  
	gbegš
;

156 
	g¡d
::
¡ršg
 
to_¡ršg
()const {

157 
bufãr
[7];

158 autØ
	g’d
 = 
wr™e_as_¡ršg
Ğ
bufãr
, buffer + (buffer) );

159  {
	gbufãr
, 
	g’d
};

168 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 =ğĞcÚ¡ 
symbŞ_code
& 
a
, cÚ¡ 
	gsymbŞ_code
& 
	gb
 ) {

169  
	ga
.
	gv®ue
 =ğ
b
.
v®ue
;

178 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 !ğĞcÚ¡ 
symbŞ_code
& 
a
, cÚ¡ 
	gsymbŞ_code
& 
	gb
 ) {

179  
	ga
.
	gv®ue
 !ğ
b
.
v®ue
;

187 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 < ( cÚ¡ 
	gsymbŞ_code
& 
	ga
, cÚ¡ symbŞ_code& 
	gb
 ) {

188  
	ga
.
	gv®ue
 < 
	gb
.value;

191 
	g´iv©e
:

192 
ušt64_t
 
v®ue
 = 0;

200 şas 
	csymbŞ
 {

201 
	gpublic
:

208 
cÚ¡ex´
 
symbŞ
(è: 
v®ue
(0) {}

217 
cÚ¡ex´
 
ex¶ic™
 
symbŞ
Ğ
ušt64_t
 
¿w
 ) : 
v®ue
(raw) {}

227 
cÚ¡ex´
 
symbŞ
Ğ
symbŞ_code
 
sc
, 
ušt8_t
 
´ecisiÚ
 )

228 : 
v®ue
Ğ(
sc
.
¿w
(è<< 8è| 
¡©ic_ÿ¡
<
ušt64_t
>(
´ecisiÚ
) )

239 
cÚ¡ex´
 
symbŞ
Ğ
¡d
::
¡ršg_v›w
 
ss
, 
ušt8_t
 
´ecisiÚ
 )

240 : 
v®ue
Ğ(
symbŞ_code
(
ss
).
¿w
(è<< 8è| 
¡©ic_ÿ¡
<
ušt64_t
>(
´ecisiÚ
) )

246 
cÚ¡ex´
 
boŞ
 
is_v®id
()cÚ¡ {  
code
().is_valid(); }

251 
cÚ¡ex´
 
ušt8_t
 
´ecisiÚ
()cÚ¡ {  
	g¡©ic_ÿ¡
<
	gušt8_t
>Ğ
	gv®ue
 & 0xFFull ); }

256 
cÚ¡ex´
 
symbŞ_code
 
code
()cÚ¡ {  
	gsymbŞ_code
{
	gv®ue
 >> 8}; }

261 
cÚ¡ex´
 
ušt64_t
 
¿w
()cÚ¡ {  
	gv®ue
; }

263 
cÚ¡ex´
 
ex¶ic™
 
İ”©Ü
 
boŞ
()cÚ¡ {  
	gv®ue
 != 0; }

270 
´št
Ğ
boŞ
 
show_´ecisiÚ
 = 
Œue
 )const {

271 ifĞ
show_´ecisiÚ
 ){

272 
´štui
Ğ
¡©ic_ÿ¡
<
ušt64_t
>(
´ecisiÚ
()) );

273 
´šts
(",");

275 
	gbufãr
[7];

276 autØ
	g’d
 = 
code
().
wr™e_as_¡ršg
Ğ
bufãr
, buffer + (buffer) );

277 ifĞ
	gbufãr
 < 
	g’d
 )

278 
´šts_l
Ğ
bufãr
, (
’d
-buffer) );

287 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 =ğĞcÚ¡ 
symbŞ
& 
a
, cÚ¡ 
	gsymbŞ
& 
	gb
 ) {

288  
	ga
.
	gv®ue
 =ğ
b
.
v®ue
;

297 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 !ğĞcÚ¡ 
symbŞ
& 
a
, cÚ¡ 
	gsymbŞ
& 
	gb
 ) {

298  
	ga
.
	gv®ue
 !ğ
b
.
v®ue
;

306 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 < ( cÚ¡ 
	gsymbŞ
& 
	ga
, cÚ¡ symbŞ& 
	gb
 ) {

307  
	ga
.
	gv®ue
 < 
	gb
.value;

310 
	g´iv©e
:

311 
ušt64_t
 
v®ue
 = 0;

318 şas 
	cex‹nded_symbŞ


320 
	gpublic
:

328 
cÚ¡ex´
 
ex‹nded_symbŞ
() {}

338 
cÚ¡ex´
 
ex‹nded_symbŞ
Ğ
symbŞ
 
sym
, 
Çme
 
cÚ
 ) : symbŞ(sym), 
cÚŒaù
(con) {}

345 
cÚ¡ex´
 
symbŞ
 
g‘_symbŞ
(ècÚ¡ {  
	gsymbŞ
; }

352 
cÚ¡ex´
 
Çme
 
g‘_cÚŒaù
(ècÚ¡ {  
	gcÚŒaù
; }

359 
´št
Ğ
boŞ
 
show_´ecisiÚ
 = 
Œue
 )const {

360 
symbŞ
.
´št
Ğ
show_´ecisiÚ
 );

361 
´šts
("@");

362 
´šŠ
Ğ
cÚŒaù
.
v®ue
 );

371 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 =ğĞcÚ¡ 
ex‹nded_symbŞ
& 
a
, cÚ¡ 
	gex‹nded_symbŞ
& 
	gb
 ) {

372  
	g¡d
::
t›
Ğ
a
.
symbŞ
,‡.
cÚŒaù
 ) =ğ
¡d
::t›Ğ
b
.symbol, b.contract );

381 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 !ğĞcÚ¡ 
ex‹nded_symbŞ
& 
a
, cÚ¡ 
	gex‹nded_symbŞ
& 
	gb
 ) {

382  
	g¡d
::
t›
Ğ
a
.
symbŞ
,‡.
cÚŒaù
 ) !ğ
¡d
::t›Ğ
b
.symbol, b.contract );

390 
ä›nd
 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
 < ( cÚ¡ 
	gex‹nded_symbŞ
& 
	ga
, cÚ¡ƒx‹nded_symbŞ& 
	gb
 ) {

391  
	g¡d
::
t›
Ğ
a
.
symbŞ
,‡.
cÚŒaù
 ) < std::t›Ğ
b
.symbol, b.contract );

394 
	g´iv©e
:

395 
symbŞ
 symbol;

396 
Çme
 
	gcÚŒaù
;

398 
EOSLIB_SERIALIZE
Ğ
ex‹nded_symbŞ
, (
symbŞ
)(
cÚŒaù
) )

	@system.h

5 #´agm¨
Úû


6 
	~"ty³s.h
"

8 #ifdeà
__ılu¥lus


33 
eosio_as£¹
Ğ
ušt32_t
 
‹¡
, cÚ¡ * 
msg
 );

42 
eosio_as£¹_mes§ge
Ğ
ušt32_t
 
‹¡
, cÚ¡ * 
msg
, ušt32_ˆ
msg_Ën
 );

51 
eosio_as£¹_code
Ğ
ušt32_t
 
‹¡
, 
ušt64_t
 
code
 );

66 #ifdeà
__ılu¥lus


67 [[
nÜ‘uº
]]

69 
eosio_ex™
Ğ
št32_t
 
code
 );

77 
ušt64_t
 
cu¼’t_time
();

84 
šlše
 
ušt32_t
 
now
() {

85  (
ušt32_t
)Ğ
cu¼’t_time
() / 1000000 );

88 #ifdeà
__ılu¥lus


	@system.hpp

5 #´agm¨
Úû


6 
	~"sy¡em.h
"

7 
	~<¡ršg
>

9 
Çme¥aû
 
	geosio
 {

29 
šlše
 
check
(
boŞ
 
´ed
, cÚ¡ * 
msg
) {

30 ià(!
	g´ed
) {

31 
eosio_as£¹
(
çl£
, 
msg
);

45 
šlše
 
check
(
boŞ
 
´ed
, cÚ¡ 
¡d
::
¡ršg
& 
msg
) {

46 ià(!
´ed
) {

47 
eosio_as£¹
(
çl£
, 
msg
.
c_¡r
());

61 
šlše
 
check
(
boŞ
 
´ed
, 
¡d
::
¡ršg
&& 
msg
) {

62 ià(!
´ed
) {

63 
eosio_as£¹
(
çl£
, 
msg
.
c_¡r
());

78 
šlše
 
check
(
boŞ
 
´ed
, cÚ¡ * 
msg
, 
size_t
 
n
) {

79 ià(!
	g´ed
) {

80 
eosio_as£¹_mes§ge
(
çl£
, 
msg
, 
n
);

95 
šlše
 
check
(
boŞ
 
´ed
, cÚ¡ 
¡d
::
¡ršg
& 
msg
, 
size_t
 
n
) {

96 ià(!
	g´ed
) {

97 
eosio_as£¹_mes§ge
(
çl£
, 
msg
.
c_¡r
(), 
n
);

111 
šlše
 
check
(
boŞ
 
´ed
, 
ušt64_t
 
code
) {

112 ià(!
	g´ed
) {

113 
eosio_as£¹_code
(
çl£
, 
code
);

	@time.hpp

1 #´agm¨
Úû


2 
	~"eosio.hµ
"

4 
	~<¡dšt.h
>

5 
	~<¡ršg
>

7 
Çme¥aû
 
	geosio
 {

13 şas 
	cmiüo£cÚds
 {

14 
	gpublic
:

15 
ex¶ic™
 
miüo£cÚds
Ğ
št64_t
 
c
 = 0è:
_couÁ
(c){}

16 
miüo£cÚds
 
maximum
() {  microseconds(0x7fffffffffffffffll); }

17 
ä›nd
 
miüo£cÚds
 
	gİ”©Ü
 + (cÚ¡ 
	gmiüo£cÚds
& 
	gl
, cÚ¡ miüo£cÚds& 
	gr
 ) {  miüo£cÚds(
l
.
_couÁ
+
r
._count); }

18 
ä›nd
 
miüo£cÚds
 
	gİ”©Ü
 - (cÚ¡ 
	gmiüo£cÚds
& 
	gl
, cÚ¡ miüo£cÚds& 
	gr
 ) {  miüo£cÚds(
l
.
_couÁ
-
r
._count); }

21 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
miüo£cÚds
& 
c
)cÚ¡ {  
_couÁ
 == c._count; }

22 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
miüo£cÚds
& 
c
)cÚ¡ {  
_couÁ
 != c._count; }

23 
ä›nd
 
boŞ
 
	gİ”©Ü
>(cÚ¡ 
	gmiüo£cÚds
& 
	ga
, cÚ¡ miüo£cÚds& 
	gb
){ ‡.
	g_couÁ
 > b._count; }

24 
ä›nd
 
boŞ
 
	gİ”©Ü
>=(cÚ¡ 
miüo£cÚds
& 
a
, cÚ¡ 
	gmiüo£cÚds
& 
	gb
){  
	ga
.
	g_couÁ
 >ğ
b
.
_couÁ
; }

25 
ä›nd
 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gmiüo£cÚds
& 
	ga
, cÚ¡ miüo£cÚds& 
	gb
){ ‡.
	g_couÁ
 < b._count; }

26 
ä›nd
 
boŞ
 
	gİ”©Ü
<=(cÚ¡ 
miüo£cÚds
& 
a
, cÚ¡ 
	gmiüo£cÚds
& 
	gb
){  
	ga
.
	g_couÁ
 <ğ
b
.
_couÁ
; }

27 
	gmiüo£cÚds
& 
	gİ”©Ü
+=(cÚ¡ 
miüo£cÚds
& 
c
è{ 
_couÁ
 +ğc._couÁ;  *
	gthis
; }

28 
	gmiüo£cÚds
& 
	gİ”©Ü
-=(cÚ¡ 
miüo£cÚds
& 
c
è{ 
_couÁ
 -ğc._couÁ;  *
	gthis
; }

29 
št64_t
 
couÁ
()cÚ¡ {  
	g_couÁ
; }

30 
št64_t
 
to_£cÚds
()cÚ¡ {  
	g_couÁ
/1000000; }

32 
št64_t
 
	g_couÁ
;

33 
EOSLIB_SERIALIZE
Ğ
miüo£cÚds
, (
_couÁ
) )

34 
	g´iv©e
:

35 
ä›nd
 
şass
 
time_pošt
;

38 
šlše
 
miüo£cÚds
 
	$£cÚds
Ğ
št64_t
 
s
 ) {  
	`miüo£cÚds
Ğ * 1000000 ); 
	}
}

39 
šlše
 
miüo£cÚds
 
	$mli£cÚds
Ğ
št64_t
 
s
 ) {  
	`miüo£cÚds
Ğ * 1000 ); 
	}
}

40 
šlše
 
miüo£cÚds
 
	$mšu‹s
(
št64_t
 
m
è{  
	`£cÚds
(60*m); 
	}
}

41 
šlše
 
miüo£cÚds
 
	$hours
(
št64_t
 
h
è{  
	`mšu‹s
(60*h); 
	}
}

42 
šlše
 
miüo£cÚds
 
	$days
(
št64_t
 
d
è{  
	`hours
(24*d); 
	}
}

44 şas 
	ctime_pošt
 {

45 
	gpublic
:

46 
ex¶ic™
 
time_pošt
Ğ
miüo£cÚds
 
e
 = miüo£cÚds(èè:
–­£d
(e){}

47 cÚ¡ 
miüo£cÚds
& 
time_sšû_•och
()cÚ¡ {  
–­£d
; }

48 
ušt32_t
 
£c_sšû_•och
()cÚ¡ {  ušt32_t(
–­£d
.
couÁ
() / 1000000); }

49 
boŞ
 
	gİ”©Ü
 > ( cÚ¡ 
	gtime_pošt
& 
	gt
 )cÚ¡ {  
	g–­£d
.
	g_couÁ
 >.elapsed._count; }

50 
boŞ
 
	gİ”©Ü
 >=ĞcÚ¡ 
time_pošt
& 
t
 )cÚ¡ {  
–­£d
.
_couÁ
 >=t.elapsed._count; }

51 
boŞ
 
	gİ”©Ü
 < ( cÚ¡ 
	gtime_pošt
& 
	gt
 )cÚ¡ {  
	g–­£d
.
	g_couÁ
 <.elapsed._count; }

52 
boŞ
 
	gİ”©Ü
 <=ĞcÚ¡ 
time_pošt
& 
t
 )cÚ¡ {  
–­£d
.
_couÁ
 <=t.elapsed._count; }

53 
boŞ
 
	gİ”©Ü
 ==ĞcÚ¡ 
time_pošt
& 
t
 )cÚ¡ {  
–­£d
.
_couÁ
 ==t.elapsed._count; }

54 
boŞ
 
	gİ”©Ü
 !=ĞcÚ¡ 
time_pošt
& 
t
 )cÚ¡ {  
–­£d
.
_couÁ
 !=t.elapsed._count; }

55 
	gtime_pošt
& 
	gİ”©Ü
 +ğĞcÚ¡ 
miüo£cÚds
& 
m
è{ 
–­£d
+=m;  *
	gthis
; }

56 
	gtime_pošt
& 
	gİ”©Ü
 -ğĞcÚ¡ 
miüo£cÚds
& 
m
è{ 
–­£d
-=m;  *
	gthis
; }

57 
time_pošt
 
	gİ”©Ü
 + (cÚ¡ 
	gmiüo£cÚds
& 
	gm
ècÚ¡ { ime_pošt(
–­£d
+
m
); }

58 
time_pošt
 
	gİ”©Ü
 + (cÚ¡ 
	gtime_pošt
& 
	gm
ècÚ¡ { ime_pošt(
–­£d
+
m
.elapsed); }

59 
time_pošt
 
	gİ”©Ü
 - (cÚ¡ 
	gmiüo£cÚds
& 
	gm
ècÚ¡ { ime_pošt(
–­£d
-
m
); }

60 
miüo£cÚds
 
	gİ”©Ü
 - (cÚ¡ 
	gtime_pošt
& 
	gm
ècÚ¡ {  miüo£cÚds(
–­£d
.
couÁ
(è- 
m
.elapsed.count()); }

61 
miüo£cÚds
 
	g–­£d
;

62 
EOSLIB_SERIALIZE
Ğ
time_pošt
, (
–­£d
) )

68 şas 
	ctime_pošt_£c


70 
	gpublic
:

71 
time_pošt_£c
()

72 :
utc_£cÚds
(0){}

74 
ex¶ic™
 
time_pošt_£c
(
ušt32_t
 
£cÚds
 )

75 :
utc_£cÚds
(
£cÚds
){}

77 
time_pošt_£c
ĞcÚ¡ 
time_pošt
& 
t
 )

78 :
utc_£cÚds
Ğ
ušt32_t
(
t
.
time_sšû_•och
().
couÁ
() / 1000000ll) ){}

80 
time_pošt_£c
 
maximum
() { ime_point_sec(0xffffffff); }

81 
time_pošt_£c
 
mš
() { ime_point_sec(0); }

83 
İ”©Ü
 
time_pošt
()cÚ¡ { ime_poštĞ
eosio
::
£cÚds
Ğ
utc_£cÚds
) ); }

84 
ušt32_t
 
£c_sšû_•och
()cÚ¡ {  
	gutc_£cÚds
; }

86 
time_pošt_£c
 
	gİ”©Ü
 = ( cÚ¡ 
eosio
::
time_pošt
& 
t
 )

88 
utc_£cÚds
 = 
ušt32_t
(
t
.
time_sšû_•och
().
couÁ
() / 1000000ll);

89  *
	gthis
;

91 
ä›nd
 
boŞ
 
	gİ”©Ü
 < ( cÚ¡ 
	gtime_pošt_£c
& 
	ga
, cÚ¡ime_pošt_£c& 
	gb
 ) { ‡.
	gutc_£cÚds
 < b.utc_seconds; }

92 
ä›nd
 
boŞ
 
	gİ”©Ü
 > ( cÚ¡ 
	gtime_pošt_£c
& 
	ga
, cÚ¡ime_pošt_£c& 
	gb
 ) { ‡.
	gutc_£cÚds
 > b.utc_seconds; }

93 
ä›nd
 
boŞ
 
	gİ”©Ü
 <ğĞcÚ¡ 
time_pošt_£c
& 
a
, cÚ¡ 
	gtime_pošt_£c
& 
	gb
 ) {  
	ga
.
	gutc_£cÚds
 <ğ
b
.
utc_£cÚds
; }

94 
ä›nd
 
boŞ
 
	gİ”©Ü
 >ğĞcÚ¡ 
time_pošt_£c
& 
a
, cÚ¡ 
	gtime_pošt_£c
& 
	gb
 ) {  
	ga
.
	gutc_£cÚds
 >ğ
b
.
utc_£cÚds
; }

95 
ä›nd
 
boŞ
 
	gİ”©Ü
 =ğĞcÚ¡ 
time_pošt_£c
& 
a
, cÚ¡ 
	gtime_pošt_£c
& 
	gb
 ) {  
	ga
.
	gutc_£cÚds
 =ğ
b
.
utc_£cÚds
; }

96 
ä›nd
 
boŞ
 
	gİ”©Ü
 !ğĞcÚ¡ 
time_pošt_£c
& 
a
, cÚ¡ 
	gtime_pošt_£c
& 
	gb
 ) {  
	ga
.
	gutc_£cÚds
 !ğ
b
.
utc_£cÚds
; }

97 
	gtime_pošt_£c
& 
	gİ”©Ü
 +ğĞ
ušt32_t
 
m
 ) { 
utc_£cÚds
+=m;  *
	gthis
; }

98 
	gtime_pošt_£c
& 
	gİ”©Ü
 +ğĞ
miüo£cÚds
 
m
 ) { 
utc_£cÚds
+=m.
to_£cÚds
();  *
	gthis
; }

99 
	gtime_pošt_£c
& 
	gİ”©Ü
 +ğĞ
time_pošt_£c
 
m
 ) { 
utc_£cÚds
+=m.utc_£cÚds;  *
	gthis
; }

100 
	gtime_pošt_£c
& 
	gİ”©Ü
 -ğĞ
ušt32_t
 
m
 ) { 
utc_£cÚds
-=m;  *
	gthis
; }

101 
	gtime_pošt_£c
& 
	gİ”©Ü
 -ğĞ
miüo£cÚds
 
m
 ) { 
utc_£cÚds
-=m.
to_£cÚds
();  *
	gthis
; }

102 
	gtime_pošt_£c
& 
	gİ”©Ü
 -ğĞ
time_pošt_£c
 
m
 ) { 
utc_£cÚds
-=m.utc_£cÚds;  *
	gthis
; }

103 
time_pošt_£c
 
	gİ”©Ü
 +Ğ
ušt32_t
 
	goff£t
 )cÚ¡ { ime_pošt_£c(
utc_£cÚds
 + 
off£t
); }

104 
time_pošt_£c
 
	gİ”©Ü
 -Ğ
ušt32_t
 
	goff£t
 )cÚ¡ { ime_pošt_£c(
utc_£cÚds
 - 
off£t
); }

106 
ä›nd
 
time_pošt
 
	gİ”©Ü
 + ( cÚ¡ 
	gtime_pošt_£c
& 
	gt
, cÚ¡ 
	gmiüo£cÚds
& 
	gm
 ) { ime_pošt(
t
) + m; }

107 
ä›nd
 
time_pošt
 
	gİ”©Ü
 - ( cÚ¡ 
	gtime_pošt_£c
& 
	gt
, cÚ¡ 
	gmiüo£cÚds
& 
	gm
 ) { ime_pošt(
t
) - m; }

108 
ä›nd
 
miüo£cÚds
 
	gİ”©Ü
 - ( cÚ¡ 
	gtime_pošt_£c
& 
	gt
, cÚ¡ime_pošt_£c& 
	gm
 ) {  
time_pošt
(
t
è-ime_pošt(
m
); }

109 
ä›nd
 
miüo£cÚds
 
	gİ”©Ü
 - ( cÚ¡ 
	gtime_pošt
& 
	gt
, cÚ¡ 
	gtime_pošt_£c
& 
	gm
 ) {  
time_pošt
(
t
è-ime_pošt(
m
); }

110 
ušt32_t
 
	gutc_£cÚds
;

112 
EOSLIB_SERIALIZE
Ğ
time_pošt_£c
, (
utc_£cÚds
) )

120 şas 
	cblock_time¡amp
 {

121 
	gpublic
:

122 
ex¶ic™
 
block_time¡amp
Ğ
ušt32_t
 
s
=0 ) :
¦Ù
(s){}

124 
block_time¡amp
(cÚ¡ 
time_pošt
& 
t
) {

125 
£t_time_pošt
(
t
);

128 
block_time¡amp
(cÚ¡ 
time_pošt_£c
& 
t
) {

129 
£t_time_pošt
(
t
);

132 
block_time¡amp
 
maximum
() {  block_timestamp( 0xffff ); }

133 
block_time¡amp
 
mš
() {  block_timestamp(0); }

135 
block_time¡amp
 
Ãxt
() const {

136 
	geosio
::
check
Ğ
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
(è- 
¦Ù
 >= 1, "blockimestamp overflow" );

137 autØ
	g»suÉ
 = 
block_time¡amp
(*
this
);

138 
	g»suÉ
.
	g¦Ù
 += 1;

139  
	g»suÉ
;

142 
time_pošt
 
to_time_pošt
() const {

143  (
	gtime_pošt
)(*
	gthis
);

146 
İ”©Ü
 
time_pošt
() const {

147 
št64_t
 
	gm£c
 = 
¦Ù
 * (št64_t)
block_š‹rv®_ms
;

148 
	gm£c
 +ğ
block_time¡amp_•och
;

149  
time_pošt
(
mli£cÚds
(
m£c
));

152 
	gİ”©Ü
 = (cÚ¡ 
time_pošt
& 
t
 ) {

153 
£t_time_pošt
(
t
);

156 
boŞ
 
	gİ”©Ü
 > ( cÚ¡ 
	gblock_time¡amp
& 
	gt
 )cÚ¡ {  
	g¦Ù
 >.slot; }

157 
boŞ
 
	gİ”©Ü
 >=ĞcÚ¡ 
block_time¡amp
& 
t
 )cÚ¡ {  
¦Ù
 >=.slot; }

158 
boŞ
 
	gİ”©Ü
 < ( cÚ¡ 
	gblock_time¡amp
& 
	gt
 )cÚ¡ {  
	g¦Ù
 <.slot; }

159 
boŞ
 
	gİ”©Ü
 <=ĞcÚ¡ 
block_time¡amp
& 
t
 )cÚ¡ {  
¦Ù
 <=.slot; }

160 
boŞ
 
	gİ”©Ü
 ==ĞcÚ¡ 
block_time¡amp
& 
t
 )cÚ¡ {  
¦Ù
 ==.slot; }

161 
boŞ
 
	gİ”©Ü
 !=ĞcÚ¡ 
block_time¡amp
& 
t
 )cÚ¡ {  
¦Ù
 !=.slot; }

162 
ušt32_t
 
	g¦Ù
;

163 
cÚ¡ex´
 
št32_t
 
	gblock_š‹rv®_ms
 = 500;

164 
cÚ¡ex´
 
št64_t
 
	gblock_time¡amp_•och
 = 946684800000ll;

166 
EOSLIB_SERIALIZE
Ğ
block_time¡amp
, (
¦Ù
) )

167 
	g´iv©e
:

170 
£t_time_pošt
(cÚ¡ 
time_pošt
& 
t
) {

171 
št64_t
 
miüo_sšû_•och
 = 
t
.
time_sšû_•och
().
couÁ
();

172 
št64_t
 
	gm£c_sšû_•och
 = 
miüo_sšû_•och
 / 1000;

173 
	g¦Ù
 = 
ušt32_t
(Ğ
m£c_sšû_•och
 - 
block_time¡amp_•och
 ) / 
št64_t
(
block_š‹rv®_ms
));

176 
£t_time_pošt
(cÚ¡ 
time_pošt_£c
& 
t
) {

177 
št64_t
 
	g£c_sšû_•och
 = 
t
.
£c_sšû_•och
();

178 
	g¦Ù
 = 
ušt32_t
((
£c_sšû_•och
 * 1000 - 
block_time¡amp_•och
è/ 
block_š‹rv®_ms
);

183 
block_time¡amp
 
	tblock_time¡amp_ty³
;

	@transaction.h

5 #´agm¨
Úû


6 
	~"ty³s.h
"

47 
£nd_deã¼ed
(cÚ¡ 
ušt128_t
& 
£nd”_id
, 
ÿpi_Çme
 
·y”
, cÚ¡ *
£rŸlized_Œª§ùiÚ
, 
size_t
 
size
, 
ušt32_t
 
»¶aû_exi¡šg
 = 0);

68 
ÿnûl_deã¼ed
(cÚ¡ 
ušt128_t
& 
£nd”_id
);

78 
size_t
 
»ad_Œª§ùiÚ
(*
bufãr
, size_ˆ
size
);

86 
size_t
 
Œª§ùiÚ_size
();

98 
pos_block_num
();

110 
pos_block_´efix
();

123 
ušt32_t
 
expœ©iÚ
();

135 
g‘_aùiÚ
Ğ
ušt32_t
 
ty³
, ušt32_ˆ
šdex
, * 
buff
, 
size_t
 
size
 );

146 
g‘_cÚ‹xt_ä“_d©a
Ğ
ušt32_t
 
šdex
, * 
buff
, 
size_t
 
size
 );

	@transaction.hpp

5 #´agm¨
Úû


6 
	~"Œª§ùiÚ.h
"

7 
	~"aùiÚ.hµ
"

8 
	~"time.hµ
"

9 
	~"£rŸlize.hµ
"

10 
	~"sy¡em.hµ
"

12 
	~<veùÜ
>

14 
Çme¥aû
 
	geosio
 {

36 
	g¡d
::
	ttu¶e
<
	tušt16_t
, 
	t¡d
::
	tveùÜ
<>> 
	tex‹nsiÚ
;

37 
	g¡d
::
	tveùÜ
<
	tex‹nsiÚ
> 
	tex‹nsiÚs_ty³
;

55 şas 
	cŒª§ùiÚ_h—d”
 {

56 
	gpublic
:

63 
Œª§ùiÚ_h—d”
Ğ
time_pošt_£c
 
exp
 =ime_pošt_£c(
now
() + 60) )

64 :
expœ©iÚ
(
exp
)

67 
time_pošt_£c
 
expœ©iÚ
;

68 
ušt16_t
 
	g»f_block_num
;

69 
ušt32_t
 
	g»f_block_´efix
;

70 
unsigÃd_št
 
	gmax_Ãt_u§ge_wÜds
 = 0UL;

71 
ušt8_t
 
	gmax_ıu_u§ge_ms
 = 0UL;

72 
unsigÃd_št
 
	gd–ay_£c
 = 0UL;

74 
EOSLIB_SERIALIZE
Ğ
Œª§ùiÚ_h—d”
, (
expœ©iÚ
)(
»f_block_num
)(
»f_block_´efix
)(
max_Ãt_u§ge_wÜds
)(
max_ıu_u§ge_ms
)(
d–ay_£c
) )

81 şas 
	cŒª§ùiÚ
 : 
public
 
Œª§ùiÚ_h—d”
 {

82 
public
:

89 
Œª§ùiÚ
(
time_pošt_£c
 
exp
 =ime_pošt_£c(
now
(è+ 60)è: 
Œª§ùiÚ_h—d”
(ƒxp ) {}

99 
£nd
(cÚ¡ 
ušt128_t
& 
£nd”_id
, 
Çme
 
·y”
, 
boŞ
 
»¶aû_exi¡šg
 = 
çl£
) const {

100 autØ
£rŸlize
 = 
·ck
(*
this
);

101 
£nd_deã¼ed
(
£nd”_id
, 
·y”
.
v®ue
, 
£rŸlize
.
d©a
(), s”Ÿlize.
size
(), 
»¶aû_exi¡šg
);

104 
	g¡d
::
veùÜ
<
aùiÚ
> 
cÚ‹xt_ä“_aùiÚs
;

105 
	g¡d
::
veùÜ
<
aùiÚ
> 
aùiÚs
;

106 
ex‹nsiÚs_ty³
 
	gŒª§ùiÚ_ex‹nsiÚs
;

108 
EOSLIB_SERIALIZE_DERIVED
Ğ
Œª§ùiÚ
, 
Œª§ùiÚ_h—d”
, (
cÚ‹xt_ä“_aùiÚs
)(
aùiÚs
)(
Œª§ùiÚ_ex‹nsiÚs
) )

115 
	sÚ”rÜ
 {

116 
ušt128_t
 
	g£nd”_id
;

117 
	g¡d
::
veùÜ
<> 
£Á_Œx
;

123 
Ú”rÜ
 
äom_cu¼’t_aùiÚ
() {

124  
	guÅack_aùiÚ_d©a
<
	gÚ”rÜ
>();

131 
Œª§ùiÚ
 
uÅack_£Á_Œx
() const {

132  
	guÅack
<
	gŒª§ùiÚ
>(
	g£Á_Œx
);

135 
EOSLIB_SERIALIZE
Ğ
Ú”rÜ
, (
£nd”_id
)(
£Á_Œx
) )

145 
šlše
 
aùiÚ
 
	$g‘_aùiÚ
Ğ
ušt32_t
 
ty³
, ušt32_ˆ
šdex
 ) {

146 
cÚ¡ex´
 
size_t
 
max_¡ack_bufãr_size
 = 512;

147 
s
 = ::
	`g‘_aùiÚ
Ğ
ty³
, 
šdex
, 
nuÎ±r
, 0 );

148 
eosio
::
	`check
Ğ
s
 > 0, "get_action size failed" );

149 
size_t
 
size
 = 
¡©ic_ÿ¡
<size_t>(
s
);

150 * 
bufãr
 = (*)Ğ
max_¡ack_bufãr_size
 < 
size
 ? 
	`m®loc
(sizeè: 
	`®loÿ
(size) );

151 autØ
size2
 = ::
	`g‘_aùiÚ
Ğ
ty³
, 
šdex
, 
bufãr
, 
size
 );

152 
eosio
::
	`check
Ğ
size
 =ğ
¡©ic_ÿ¡
<
size_t
>(
size2
), "get_action failed" );

153  
eosio
::
uÅack
<eosio::
aùiÚ
>Ğ
bufãr
, 
size
 );

154 
	}
}

	@types.h

5 #´agm¨
Úû


7 
	~<¡dšt.h
>

8 
	~<wch¬.h
>

10 #ifdeà
__ılu¥lus


31 
	#ALIGNED
(
X
è
	`__©Œibu‹__
 ((
	`®igÃd
 (16))è
	)
X

33 
ušt64_t
 
	tÿpi_Çme
;

38 
	sÿpi_public_key
 {

39 
d©a
[34];

45 
	sÿpi_sigÇtu»
 {

46 
ušt8_t
 
d©a
[66];

52 
ALIGNED
(
ÿpi_checksum256
) {

53 
ušt8_t
 
hash
[32];

59 
ALIGNED
(
ÿpi_checksum160
) {

60 
ušt8_t
 
hash
[20];

66 
ALIGNED
(
ÿpi_checksum512
) {

67 
ušt8_t
 
hash
[64];

72 #ifdeà
__ılu¥lus


	@varint.hpp

5 #´agm¨
Úû


21 
	sunsigÃd_št
 {

27 
unsigÃd_št
Ğ
ušt32_t
 
v
 = 0 ):
v®ue
(v){}

36 
‹m¶©e
<
ty³Çme
 
T
>

37 
unsigÃd_št
Ğ
T
 
v
 ):
v®ue
(v){}

48 
‹m¶©e
<
ty³Çme
 
T
>

49 
İ”©Ü
 
T
()cÚ¡ {  
¡©ic_ÿ¡
<T>(
v®ue
); }

57 
	munsigÃd_št
& 
	mİ”©Ü
=Ğ
ušt32_t
 
v
 ) { 
v®ue
 = v;  *
	mthis
; }

62 
ušt32_t
 
	mv®ue
;

72 
ä›nd
 
boŞ
 
	mİ”©Ü
==ĞcÚ¡ 
unsigÃd_št
& 
i
, cÚ¡ 
	mušt32_t
& 
	mv
 ) {  
	mi
.
	mv®ue
 =ğ
v
; }

82 
ä›nd
 
boŞ
 
	mİ”©Ü
==ĞcÚ¡ 
ušt32_t
& 
i
, cÚ¡ 
	munsigÃd_št
& 
	mv
 ) {  
	mi
 =ğ
v
.
v®ue
; }

92 
ä›nd
 
boŞ
 
	mİ”©Ü
==ĞcÚ¡ 
unsigÃd_št
& 
i
, cÚ¡ 
	munsigÃd_št
& 
	mv
 ) {  
	mi
.
	mv®ue
 =ğ
v
.
v®ue
; }

102 
ä›nd
 
boŞ
 
	mİ”©Ü
!=ĞcÚ¡ 
unsigÃd_št
& 
i
, cÚ¡ 
	mušt32_t
& 
	mv
 ) {  
	mi
.
	mv®ue
 !ğ
v
; }

112 
ä›nd
 
boŞ
 
	mİ”©Ü
!=ĞcÚ¡ 
ušt32_t
& 
i
, cÚ¡ 
	munsigÃd_št
& 
	mv
 ) {  
	mi
 !ğ
v
.
v®ue
; }

122 
ä›nd
 
boŞ
 
	mİ”©Ü
!=ĞcÚ¡ 
unsigÃd_št
& 
i
, cÚ¡ 
	munsigÃd_št
& 
	mv
 ) {  
	mi
.
	mv®ue
 !ğ
v
.
v®ue
; }

132 
ä›nd
 
boŞ
 
	mİ”©Ü
<ĞcÚ¡ 
	munsigÃd_št
& 
	mi
, cÚ¡ 
	mušt32_t
& 
	mv
 ) {  i.
	mv®ue
 < v; }

142 
ä›nd
 
boŞ
 
	mİ”©Ü
<ĞcÚ¡ 
	mušt32_t
& 
	mi
, cÚ¡ 
	munsigÃd_št
& 
	mv
 ) {  i < v.
	mv®ue
; }

152 
ä›nd
 
boŞ
 
	mİ”©Ü
<ĞcÚ¡ 
	munsigÃd_št
& 
	mi
, cÚ¡ unsigÃd_št& 
	mv
 ) {  i.
	mv®ue
 < v.value; }

162 
ä›nd
 
boŞ
 
	mİ”©Ü
>=ĞcÚ¡ 
unsigÃd_št
& 
i
, cÚ¡ 
	mušt32_t
& 
	mv
 ) {  
	mi
.
	mv®ue
 >ğ
v
; }

172 
ä›nd
 
boŞ
 
	mİ”©Ü
>=ĞcÚ¡ 
ušt32_t
& 
i
, cÚ¡ 
	munsigÃd_št
& 
	mv
 ) {  
	mi
 >ğ
v
.
v®ue
; }

182 
ä›nd
 
boŞ
 
	mİ”©Ü
>=ĞcÚ¡ 
unsigÃd_št
& 
i
, cÚ¡ 
	munsigÃd_št
& 
	mv
 ) {  
	mi
.
	mv®ue
 >ğ
v
.
v®ue
; }

192 
	m‹m¶©e
<
ty³Çme
 
	mD©aSŒ—m
>

193 
ä›nd
 
	mD©aSŒ—m
& 
	mİ”©Ü
 << ( D©aSŒ—m& 
	mds
, cÚ¡ 
	munsigÃd_št
& 
	mv
 ){

194 
ušt64_t
 
	mv®
 = 
v
.
v®ue
;

196 
ušt8_t
 
	mb
 = ušt8_t(
v®
) & 0x7f;

197 
	mv®
 >>= 7;

198 
	mb
 |ğ((
v®
 > 0) << 7);

199 
	mds
.
wr™e
((*)&
b
,1);

200 }  
	mv®
 );

201  
	mds
;

212 
	m‹m¶©e
<
ty³Çme
 
	mD©aSŒ—m
>

213 
ä›nd
 
	mD©aSŒ—m
& 
	mİ”©Ü
 >> ( D©aSŒ—m& 
	mds
, 
	munsigÃd_št
& 
	mvi
 ){

214 
ušt64_t
 
	mv
 = 0; 
	mb
 = 0; 
ušt8_t
 
	mby
 = 0;

216 
	mds
.
g‘
(
b
);

217 
	mv
 |ğ
ušt32_t
(
ušt8_t
(
b
è& 0x7fè<< 
by
;

218 
	mby
 += 7;

219 }  
ušt8_t
(
b
) & 0x80 );

220 
	mvi
.
	mv®ue
 = 
¡©ic_ÿ¡
<
ušt32_t
>(
v
);

221  
	mds
;

231 
	ssigÃd_št
 {

237 
sigÃd_št
Ğ
št32_t
 
v
 = 0 ):
v®ue
(v){}

244 
İ”©Ü
 
št32_t
()cÚ¡ {  
v®ue
; }

254 
	m‹m¶©e
<
ty³Çme
 
	mT
>

255 
	msigÃd_št
& 
	mİ”©Ü
=ĞcÚ¡ 
T
& 
v
 ) { 
v®ue
 = v;  *
	mthis
; }

262 
sigÃd_št
 
	mİ”©Ü
++(è{  
	mv®ue
++; }

269 
	msigÃd_št
& 
	mİ”©Ü
++(){ ++
	mv®ue
;  *
	mthis
; }

274 
št32_t
 
	mv®ue
;

284 
ä›nd
 
boŞ
 
	mİ”©Ü
==ĞcÚ¡ 
sigÃd_št
& 
i
, cÚ¡ 
	mšt32_t
& 
	mv
 ) {  
	mi
.
	mv®ue
 =ğ
v
; }

294 
ä›nd
 
boŞ
 
	mİ”©Ü
==ĞcÚ¡ 
št32_t
& 
i
, cÚ¡ 
	msigÃd_št
& 
	mv
 ) {  
	mi
 =ğ
v
.
v®ue
; }

304 
ä›nd
 
boŞ
 
	mİ”©Ü
==ĞcÚ¡ 
sigÃd_št
& 
i
, cÚ¡ 
	msigÃd_št
& 
	mv
 ) {  
	mi
.
	mv®ue
 =ğ
v
.
v®ue
; }

315 
ä›nd
 
boŞ
 
	mİ”©Ü
!=ĞcÚ¡ 
sigÃd_št
& 
i
, cÚ¡ 
	mšt32_t
& 
	mv
 ) {  
	mi
.
	mv®ue
 !ğ
v
; }

325 
ä›nd
 
boŞ
 
	mİ”©Ü
!=ĞcÚ¡ 
št32_t
& 
i
, cÚ¡ 
	msigÃd_št
& 
	mv
 ) {  
	mi
 !ğ
v
.
v®ue
; }

335 
ä›nd
 
boŞ
 
	mİ”©Ü
!=ĞcÚ¡ 
sigÃd_št
& 
i
, cÚ¡ 
	msigÃd_št
& 
	mv
 ) {  
	mi
.
	mv®ue
 !ğ
v
.
v®ue
; }

345 
ä›nd
 
boŞ
 
	mİ”©Ü
<ĞcÚ¡ 
	msigÃd_št
& 
	mi
, cÚ¡ 
	mšt32_t
& 
	mv
 ) {  i.
	mv®ue
 < v; }

355 
ä›nd
 
boŞ
 
	mİ”©Ü
<ĞcÚ¡ 
	mšt32_t
& 
	mi
, cÚ¡ 
	msigÃd_št
& 
	mv
 ) {  i < v.
	mv®ue
; }

365 
ä›nd
 
boŞ
 
	mİ”©Ü
<ĞcÚ¡ 
	msigÃd_št
& 
	mi
, cÚ¡ sigÃd_št& 
	mv
 ) {  i.
	mv®ue
 < v.value; }

376 
ä›nd
 
boŞ
 
	mİ”©Ü
>=ĞcÚ¡ 
sigÃd_št
& 
i
, cÚ¡ 
	mšt32_t
& 
	mv
 ) {  
	mi
.
	mv®ue
 >ğ
v
; }

386 
ä›nd
 
boŞ
 
	mİ”©Ü
>=ĞcÚ¡ 
št32_t
& 
i
, cÚ¡ 
	msigÃd_št
& 
	mv
 ) {  
	mi
 >ğ
v
.
v®ue
; }

396 
ä›nd
 
boŞ
 
	mİ”©Ü
>=ĞcÚ¡ 
sigÃd_št
& 
i
, cÚ¡ 
	msigÃd_št
& 
	mv
 ) {  
	mi
.
	mv®ue
 >ğ
v
.
v®ue
; }

407 
	m‹m¶©e
<
ty³Çme
 
	mD©aSŒ—m
>

408 
ä›nd
 
	mD©aSŒ—m
& 
	mİ”©Ü
 << ( D©aSŒ—m& 
	mds
, cÚ¡ 
	msigÃd_št
& 
	mv
 ){

409 
ušt32_t
 
	mv®
 = ušt32_t((
v
.
v®ue
<<1) ^ (v.value>>31));

411 
ušt8_t
 
	mb
 = ušt8_t(
v®
) & 0x7f;

412 
	mv®
 >>= 7;

413 
	mb
 |ğ((
v®
 > 0) << 7);

414 
	mds
.
wr™e
((*)&
b
,1);

415 }  
	mv®
 );

416  
	mds
;

427 
	m‹m¶©e
<
ty³Çme
 
	mD©aSŒ—m
>

428 
ä›nd
 
	mD©aSŒ—m
& 
	mİ”©Ü
 >> ( D©aSŒ—m& 
	mds
, 
	msigÃd_št
& 
	mvi
 ){

429 
ušt32_t
 
	mv
 = 0; 
	mb
 = 0; 
	mby
 = 0;

431 
	mds
.
g‘
(
b
);

432 
	mv
 |ğ
ušt32_t
(
ušt8_t
(
b
è& 0x7fè<< 
by
;

433 
	mby
 += 7;

434 }  
ušt8_t
(
b
) & 0x80 );

435 
	mvi
.
	mv®ue
 = ((
v
>>1) ^ (v>>31)) + (v&0x01);

436 
	mvi
.
	mv®ue
 = 
v
&0x01 ? 
vi
.
v®ue
 : -vi.value;

437 
	mvi
.
	mv®ue
 = -
vi
.
v®ue
;

438  
	mds
;

	@
1
.
0
41
512
action.h
action.hpp
asset.hpp
binary_extension.hpp
chain.h
compiler_builtins.h
contract.hpp
crypto.cpp
crypto.h
crypto.hpp
datastream.hpp
db.h
dispatcher.hpp
eosio.hpp
eosiolib.cpp
fixed_bytes.hpp
fixed_key.hpp
fixedpoint.hpp
ignore.hpp
memory.hpp
multi_index.hpp
name.hpp
permission.h
permission.hpp
print.h
print.hpp
privileged.h
privileged.hpp
producer_schedule.hpp
public_key.hpp
serialize.hpp
singleton.hpp
stdlib.hpp
symbol.hpp
system.h
system.hpp
time.hpp
transaction.h
transaction.hpp
types.h
varint.hpp
